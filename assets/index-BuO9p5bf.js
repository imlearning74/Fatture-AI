(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Te(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W1={exports:{}},oh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD=Symbol.for("react.transitional.element"),ek=Symbol.for("react.fragment");function X1(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:ZD,type:t,key:r,ref:e!==void 0?e:null,props:n}}oh.Fragment=ek;oh.jsx=X1;oh.jsxs=X1;W1.exports=oh;var O=W1.exports,Q1={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy=Symbol.for("react.transitional.element"),tk=Symbol.for("react.portal"),nk=Symbol.for("react.fragment"),rk=Symbol.for("react.strict_mode"),ik=Symbol.for("react.profiler"),ok=Symbol.for("react.consumer"),ak=Symbol.for("react.context"),sk=Symbol.for("react.forward_ref"),lk=Symbol.for("react.suspense"),uk=Symbol.for("react.memo"),Z1=Symbol.for("react.lazy"),ck=Symbol.for("react.activity"),S_=Symbol.iterator;function fk(t){return t===null||typeof t!="object"?null:(t=S_&&t[S_]||t["@@iterator"],typeof t=="function"?t:null)}var eC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tC=Object.assign,nC={};function As(t,e,n){this.props=t,this.context=e,this.refs=nC,this.updater=n||eC}As.prototype.isReactComponent={};As.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};As.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rC(){}rC.prototype=As.prototype;function Xy(t,e,n){this.props=t,this.context=e,this.refs=nC,this.updater=n||eC}var Qy=Xy.prototype=new rC;Qy.constructor=Xy;tC(Qy,As.prototype);Qy.isPureReactComponent=!0;var w_=Array.isArray;function nv(){}var He={H:null,A:null,T:null,S:null},iC=Object.prototype.hasOwnProperty;function Zy(t,e,n){var r=n.ref;return{$$typeof:Wy,type:t,key:e,ref:r!==void 0?r:null,props:n}}function dk(t,e){return Zy(t.type,e,t.props)}function e0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wy}function hk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var T_=/\/+/g;function Pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hk(""+t.key):e.toString(36)}function pk(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(nv,nv):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ra(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wy:case tk:a=!0;break;case Z1:return a=t._init,ra(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+Pp(t,0):r,w_(i)?(n="",a!=null&&(n=a.replace(T_,"$&/")+"/"),ra(i,e,n,"",function(u){return u})):i!=null&&(e0(i)&&(i=dk(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(T_,"$&/")+"/")+a)),e.push(i)),1;a=0;var s=r===""?".":r+":";if(w_(t))for(var l=0;l<t.length;l++)r=t[l],o=s+Pp(r,l),a+=ra(r,e,n,o,i);else if(l=fk(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,o=s+Pp(r,l++),a+=ra(r,e,n,o,i);else if(o==="object"){if(typeof t.then=="function")return ra(pk(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function mc(t,e,n){if(t==null)return t;var r=[],i=0;return ra(t,r,"","",function(o){return e.call(n,o,i++)}),r}function mk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var E_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},vk={map:mc,forEach:function(t,e,n){mc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mc(t,function(){e++}),e},toArray:function(t){return mc(t,function(e){return e})||[]},only:function(t){if(!e0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Activity=ck;ae.Children=vk;ae.Component=As;ae.Fragment=nk;ae.Profiler=ik;ae.PureComponent=Xy;ae.StrictMode=rk;ae.Suspense=lk;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;ae.__COMPILER_RUNTIME={__proto__:null,c:function(t){return He.H.useMemoCache(t)}};ae.cache=function(t){return function(){return t.apply(null,arguments)}};ae.cacheSignal=function(){return null};ae.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=tC({},t.props),i=t.key;if(e!=null)for(o in e.key!==void 0&&(i=""+e.key),e)!iC.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return Zy(t.type,i,r)};ae.createContext=function(t){return t={$$typeof:ak,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:ok,_context:t},t};ae.createElement=function(t,e,n){var r,i={},o=null;if(e!=null)for(r in e.key!==void 0&&(o=""+e.key),e)iC.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return Zy(t,o,i)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:sk,render:t}};ae.isValidElement=e0;ae.lazy=function(t){return{$$typeof:Z1,_payload:{_status:-1,_result:t},_init:mk}};ae.memo=function(t,e){return{$$typeof:uk,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=He.T,n={};He.T=n;try{var r=t(),i=He.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(nv,E_)}catch(o){E_(o)}finally{e!==null&&n.types!==null&&(e.types=n.types),He.T=e}};ae.unstable_useCacheRefresh=function(){return He.H.useCacheRefresh()};ae.use=function(t){return He.H.use(t)};ae.useActionState=function(t,e,n){return He.H.useActionState(t,e,n)};ae.useCallback=function(t,e){return He.H.useCallback(t,e)};ae.useContext=function(t){return He.H.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t,e){return He.H.useDeferredValue(t,e)};ae.useEffect=function(t,e){return He.H.useEffect(t,e)};ae.useEffectEvent=function(t){return He.H.useEffectEvent(t)};ae.useId=function(){return He.H.useId()};ae.useImperativeHandle=function(t,e,n){return He.H.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return He.H.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return He.H.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return He.H.useMemo(t,e)};ae.useOptimistic=function(t,e){return He.H.useOptimistic(t,e)};ae.useReducer=function(t,e,n){return He.H.useReducer(t,e,n)};ae.useRef=function(t){return He.H.useRef(t)};ae.useState=function(t){return He.H.useState(t)};ae.useSyncExternalStore=function(t,e,n){return He.H.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return He.H.useTransition()};ae.version="19.2.3";Q1.exports=ae;var B=Q1.exports;const R=Te(B);var oC={exports:{}},ah={},aC={exports:{}},sC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,k){var j=I.length;I.push(k);e:for(;0<j;){var G=j-1>>>1,V=I[G];if(0<i(V,k))I[G]=k,I[j]=V,j=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var k=I[0],j=I.pop();if(j!==k){I[0]=j;e:for(var G=0,V=I.length,X=V>>>1;G<X;){var F=2*(G+1)-1,Q=I[F],ve=F+1,Le=I[ve];if(0>i(Q,j))ve<V&&0>i(Le,Q)?(I[G]=Le,I[ve]=j,G=ve):(I[G]=Q,I[F]=j,G=F);else if(ve<V&&0>i(Le,j))I[G]=Le,I[ve]=j,G=ve;else break e}}return k}function i(I,k){var j=I.sortIndex-k.sortIndex;return j!==0?j:I.id-k.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,m=!1,v=!1,y=!1,_=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(I){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=I)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(u)}}function w(I){if(y=!1,T(I),!v)if(n(l)!==null)v=!0,E||(E=!0,N());else{var k=n(u);k!==null&&L(w,k.startTime-I)}}var E=!1,A=-1,x=5,C=-1;function M(){return _?!0:!(t.unstable_now()-C<x)}function P(){if(_=!1,E){var I=t.unstable_now();C=I;var k=!0;try{e:{v=!1,y&&(y=!1,b(A),A=-1),m=!0;var j=h;try{t:{for(T(I),f=n(l);f!==null&&!(f.expirationTime>I&&M());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var V=G(f.expirationTime<=I);if(I=t.unstable_now(),typeof V=="function"){f.callback=V,T(I),k=!0;break t}f===n(l)&&r(l),T(I)}else r(l);f=n(l)}if(f!==null)k=!0;else{var X=n(u);X!==null&&L(w,X.startTime-I),k=!1}}break e}finally{f=null,h=j,m=!1}k=void 0}}finally{k?N():E=!1}}}var N;if(typeof S=="function")N=function(){S(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=P,N=function(){U.postMessage(null)}}else N=function(){g(P,0)};function L(I,k){A=g(function(){I(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var j=h;h=k;try{return I()}finally{h=j}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(I,k){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=h;h=I;try{return k()}finally{h=j}},t.unstable_scheduleCallback=function(I,k,j){var G=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?G+j:G):j=G,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=j+V,I={id:c++,callback:k,priorityLevel:I,startTime:j,expirationTime:V,sortIndex:-1},j>G?(I.sortIndex=j,e(u,I),n(l)===null&&I===n(u)&&(y?(b(A),A=-1):y=!0,L(w,j-G))):(I.sortIndex=V,e(l,I),v||m||(v=!0,E||(E=!0,N()))),I},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(I){var k=h;return function(){var j=h;h=k;try{return I.apply(this,arguments)}finally{h=j}}}})(sC);aC.exports=sC;var gk=aC.exports,lC={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk=B;function uC(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ri(){}var jt={d:{f:ri,r:function(){throw Error(uC(522))},D:ri,C:ri,L:ri,m:ri,X:ri,S:ri,M:ri},p:0,findDOMNode:null},bk=Symbol.for("react.portal");function _k(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bk,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Tl=yk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function sh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=jt;Vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(uC(299));return _k(t,e,null,n)};Vt.flushSync=function(t){var e=Tl.T,n=jt.p;try{if(Tl.T=null,jt.p=2,t)return t()}finally{Tl.T=e,jt.p=n,jt.d.f()}};Vt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,jt.d.C(t,e))};Vt.prefetchDNS=function(t){typeof t=="string"&&jt.d.D(t)};Vt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=sh(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?jt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):n==="script"&&jt.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Vt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=sh(e.as,e.crossOrigin);jt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&jt.d.M(t)};Vt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=sh(n,e.crossOrigin);jt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Vt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=sh(e.as,e.crossOrigin);jt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else jt.d.m(t)};Vt.requestFormReset=function(t){jt.d.r(t)};Vt.unstable_batchedUpdates=function(t,e){return t(e)};Vt.useFormState=function(t,e,n){return Tl.H.useFormState(t,e,n)};Vt.useFormStatus=function(){return Tl.H.useHostTransitionStatus()};Vt.version="19.2.3";function cC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cC)}catch(t){console.error(t)}}cC(),lC.exports=Vt;var Sk=lC.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=gk,fC=B,wk=Sk;function z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function dC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pC(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A_(t){if(Fu(t)!==t)throw Error(z(188))}function Tk(t){var e=t.alternate;if(!e){if(e=Fu(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return A_(i),t;if(o===r)return A_(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function mC(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=mC(t),e!==null)return e;t=t.sibling}return null}var qe=Object.assign,Ek=Symbol.for("react.element"),vc=Symbol.for("react.transitional.element"),ml=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),vC=Symbol.for("react.strict_mode"),rv=Symbol.for("react.profiler"),gC=Symbol.for("react.consumer"),Cr=Symbol.for("react.context"),t0=Symbol.for("react.forward_ref"),iv=Symbol.for("react.suspense"),ov=Symbol.for("react.suspense_list"),n0=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),av=Symbol.for("react.activity"),Ak=Symbol.for("react.memo_cache_sentinel"),x_=Symbol.iterator;function Js(t){return t===null||typeof t!="object"?null:(t=x_&&t[x_]||t["@@iterator"],typeof t=="function"?t:null)}var xk=Symbol.for("react.client.reference");function sv(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===xk?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ca:return"Fragment";case rv:return"Profiler";case vC:return"StrictMode";case iv:return"Suspense";case ov:return"SuspenseList";case av:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ml:return"Portal";case Cr:return t.displayName||"Context";case gC:return(t._context.displayName||"Context")+".Consumer";case t0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case n0:return e=t.displayName||null,e!==null?e:sv(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return sv(t(e))}catch{}}return null}var vl=Array.isArray,re=fC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=wk.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vo={pending:!1,data:null,method:null,action:null},lv=[],fa=-1;function hr(t){return{current:t}}function wt(t){0>fa||(t.current=lv[fa],lv[fa]=null,fa--)}function $e(t,e){fa++,lv[fa]=t.current,t.current=e}var ur=hr(null),Vl=hr(null),Si=hr(null),_f=hr(null);function Sf(t,e){switch($e(Si,e),$e(Vl,t),$e(ur,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?IS(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=IS(e),t=UR(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}wt(ur),$e(ur,t)}function qa(){wt(ur),wt(Vl),wt(Si)}function uv(t){t.memoizedState!==null&&$e(_f,t);var e=ur.current,n=UR(e,t.type);e!==n&&($e(Vl,t),$e(ur,n))}function wf(t){Vl.current===t&&(wt(ur),wt(Vl)),_f.current===t&&(wt(_f),nu._currentValue=vo)}var Ip,C_;function Qi(t){if(Ip===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ip=e&&e[1]||"",C_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ip+t+C_}var Np=!1;function Dp(t,e){if(!t||Np)return"";Np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){h=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{Np=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Qi(n):""}function Ck(t,e){switch(t.tag){case 26:case 27:case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return t.child!==e&&e!==null?Qi("Suspense Fallback"):Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Dp(t.type,!1);case 11:return Dp(t.type.render,!1);case 1:return Dp(t.type,!0);case 31:return Qi("Activity");default:return""}}function O_(t){try{var e="",n=null;do e+=Ck(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var cv=Object.prototype.hasOwnProperty,r0=vt.unstable_scheduleCallback,kp=vt.unstable_cancelCallback,Ok=vt.unstable_shouldYield,Rk=vt.unstable_requestPaint,vn=vt.unstable_now,Mk=vt.unstable_getCurrentPriorityLevel,yC=vt.unstable_ImmediatePriority,bC=vt.unstable_UserBlockingPriority,Tf=vt.unstable_NormalPriority,Pk=vt.unstable_LowPriority,_C=vt.unstable_IdlePriority,Ik=vt.log,Nk=vt.unstable_setDisableYieldValue,Ku=null,gn=null;function mi(t){if(typeof Ik=="function"&&Nk(t),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(Ku,t)}catch{}}var yn=Math.clz32?Math.clz32:$k,Dk=Math.log,kk=Math.LN2;function $k(t){return t>>>=0,t===0?32:31-(Dk(t)/kk|0)|0}var gc=256,yc=262144,bc=4194304;function Zi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function lh(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,o=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~o,r!==0?i=Zi(r):(a&=s,a!==0?i=Zi(a):n||(n=s&~t,n!==0&&(i=Zi(n))))):(s=r&~o,s!==0?i=Zi(s):a!==0?i=Zi(a):n||(n=r&~t,n!==0&&(i=Zi(n)))),i===0?0:e!==0&&e!==i&&!(e&o)&&(o=i&-i,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:i}function Yu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Uk(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SC(){var t=bc;return bc<<=1,!(bc&62914560)&&(bc=4194304),t}function $p(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ju(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lk(t,e,n,r,i,o){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var c=31-yn(n),f=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var m=h[c];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&wC(t,r,0),o!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=o&~(a&~e))}function wC(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-yn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function TC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function EC(t,e){var n=e&-e;return n=n&42?1:i0(n),n&(t.suspendedLanes|e)?0:n}function i0(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function o0(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function AC(){var t=Se.p;return t!==0?t:(t=window.event,t===void 0?32:YR(t.type))}function R_(t,e){var n=Se.p;try{return Se.p=t,e()}finally{Se.p=n}}var $i=Math.random().toString(36).slice(2),Rt="__reactFiber$"+$i,tn="__reactProps$"+$i,xs="__reactContainer$"+$i,fv="__reactEvents$"+$i,Bk="__reactListeners$"+$i,jk="__reactHandles$"+$i,M_="__reactResources$"+$i,Wu="__reactMarker$"+$i;function a0(t){delete t[Rt],delete t[tn],delete t[fv],delete t[Bk],delete t[jk]}function da(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xs]||n[Rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=US(t);t!==null;){if(n=t[Rt])return n;t=US(t)}return e}t=n,n=t.parentNode}return null}function Cs(t){if(t=t[Rt]||t[xs]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function gl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(z(33))}function Ma(t){var e=t[M_];return e||(e=t[M_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _t(t){t[Wu]=!0}var xC=new Set,CC={};function Do(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(CC[t]=e,t=0;t<e.length;t++)xC.add(e[t])}var zk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),P_={},I_={};function Gk(t){return cv.call(I_,t)?!0:cv.call(P_,t)?!1:zk.test(t)?I_[t]=!0:(P_[t]=!0,!1)}function tf(t,e,n){if(Gk(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function _c(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hk(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dv(t){if(!t._valueTracker){var e=OC(t)?"checked":"value";t._valueTracker=Hk(t,e,""+t[e])}}function RC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qk=/[\n"\\]/g;function Mn(t){return t.replace(qk,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function hv(t,e,n,r,i,o,a,s){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Cn(e)):t.value!==""+Cn(e)&&(t.value=""+Cn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?pv(t,a,Cn(e)):n!=null?pv(t,a,Cn(n)):r!=null&&t.removeAttribute("value"),i==null&&o!=null&&(t.defaultChecked=!!o),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+Cn(s):t.removeAttribute("name")}function MC(t,e,n,r,i,o,a,s){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null)){dv(t);return}n=n!=null?""+Cn(n):"",e=e!=null?""+Cn(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),dv(t)}function pv(t,e,n){e==="number"&&Ef(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function PC(t,e,n){if(e!=null&&(e=""+Cn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Cn(n):""}function IC(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(z(92));if(vl(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Cn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),dv(t)}function Fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function N_(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Vk.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function NC(t,e,n){if(e!=null&&typeof e!="object")throw Error(z(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&N_(t,i,r)}else for(var o in e)e.hasOwnProperty(o)&&N_(t,o,e[o])}function s0(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nf(t){return Kk.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Or(){}var mv=null;function l0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,Ia=null;function D_(t){var e=Cs(t);if(e&&(t=e.stateNode)){var n=t[tn]||null;e:switch(t=e.stateNode,e.type){case"input":if(hv(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[tn]||null;if(!i)throw Error(z(90));hv(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&RC(r)}break e;case"textarea":PC(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}}}var Up=!1;function DC(t,e,n){if(Up)return t(e,n);Up=!0;try{var r=t(e);return r}finally{if(Up=!1,(ha!==null||Ia!==null)&&(_h(),ha&&(e=ha,t=Ia,Ia=ha=null,D_(e),t)))for(e=0;e<t.length;e++)D_(t[e])}}function Fl(t,e){var n=t.stateNode;if(n===null)return null;var r=n[tn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vv=!1;if(Lr)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){vv=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{vv=!1}var vi=null,u0=null,rf=null;function kC(){if(rf)return rf;var t,e=u0,n=e.length,r,i="value"in vi?vi.value:vi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return rf=i.slice(t,1<r?1-r:void 0)}function of(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sc(){return!0}function k_(){return!1}function nn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sc:k_,this.isPropagationStopped=k_,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uh=nn(ko),Xu=qe({},ko,{view:0,detail:0}),Yk=nn(Xu),Lp,Bp,Xs,ch=qe({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xs&&(Xs&&t.type==="mousemove"?(Lp=t.screenX-Xs.screenX,Bp=t.screenY-Xs.screenY):Bp=Lp=0,Xs=t),Lp)},movementY:function(t){return"movementY"in t?t.movementY:Bp}}),$_=nn(ch),Jk=qe({},ch,{dataTransfer:0}),Wk=nn(Jk),Xk=qe({},Xu,{relatedTarget:0}),jp=nn(Xk),Qk=qe({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Zk=nn(Qk),e$=qe({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t$=nn(e$),n$=qe({},ko,{data:0}),U_=nn(n$),r$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o$[t])?!!e[t]:!1}function c0(){return a$}var s$=qe({},Xu,{key:function(t){if(t.key){var e=r$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=of(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(t){return t.type==="keypress"?of(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?of(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l$=nn(s$),u$=qe({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L_=nn(u$),c$=qe({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),f$=nn(c$),d$=qe({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),h$=nn(d$),p$=qe({},ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m$=nn(p$),v$=qe({},ko,{newState:0,oldState:0}),g$=nn(v$),y$=[9,13,27,32],f0=Lr&&"CompositionEvent"in window,El=null;Lr&&"documentMode"in document&&(El=document.documentMode);var b$=Lr&&"TextEvent"in window&&!El,$C=Lr&&(!f0||El&&8<El&&11>=El),B_=" ",j_=!1;function UC(t,e){switch(t){case"keyup":return y$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function _$(t,e){switch(t){case"compositionend":return LC(e);case"keypress":return e.which!==32?null:(j_=!0,B_);case"textInput":return t=e.data,t===B_&&j_?null:t;default:return null}}function S$(t,e){if(pa)return t==="compositionend"||!f0&&UC(t,e)?(t=kC(),rf=u0=vi=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $C&&e.locale!=="ko"?null:e.data;default:return null}}var w$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!w$[t.type]:e==="textarea"}function BC(t,e,n,r){ha?Ia?Ia.push(r):Ia=[r]:ha=r,e=Gf(e,"onChange"),0<e.length&&(n=new uh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Al=null,Kl=null;function T$(t){DR(t,0)}function fh(t){var e=gl(t);if(RC(e))return t}function G_(t,e){if(t==="change")return e}var jC=!1;if(Lr){var zp;if(Lr){var Gp="oninput"in document;if(!Gp){var H_=document.createElement("div");H_.setAttribute("oninput","return;"),Gp=typeof H_.oninput=="function"}zp=Gp}else zp=!1;jC=zp&&(!document.documentMode||9<document.documentMode)}function q_(){Al&&(Al.detachEvent("onpropertychange",zC),Kl=Al=null)}function zC(t){if(t.propertyName==="value"&&fh(Kl)){var e=[];BC(e,Kl,t,l0(t)),DC(T$,e)}}function E$(t,e,n){t==="focusin"?(q_(),Al=e,Kl=n,Al.attachEvent("onpropertychange",zC)):t==="focusout"&&q_()}function A$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(Kl)}function x$(t,e){if(t==="click")return fh(e)}function C$(t,e){if(t==="input"||t==="change")return fh(e)}function O$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sn=typeof Object.is=="function"?Object.is:O$;function Yl(t,e){if(Sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cv.call(e,i)||!Sn(t[i],e[i]))return!1}return!0}function V_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F_(t,e){var n=V_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V_(n)}}function GC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HC(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ef(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function d0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var R$=Lr&&"documentMode"in document&&11>=document.documentMode,ma=null,gv=null,xl=null,yv=!1;function K_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yv||ma==null||ma!==Ef(r)||(r=ma,"selectionStart"in r&&d0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xl&&Yl(xl,r)||(xl=r,r=Gf(gv,"onSelect"),0<r.length&&(e=new uh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function Fi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var va={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionrun:Fi("Transition","TransitionRun"),transitionstart:Fi("Transition","TransitionStart"),transitioncancel:Fi("Transition","TransitionCancel"),transitionend:Fi("Transition","TransitionEnd")},Hp={},qC={};Lr&&(qC=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function $o(t){if(Hp[t])return Hp[t];if(!va[t])return t;var e=va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qC)return Hp[t]=e[n];return t}var VC=$o("animationend"),FC=$o("animationiteration"),KC=$o("animationstart"),M$=$o("transitionrun"),P$=$o("transitionstart"),I$=$o("transitioncancel"),YC=$o("transitionend"),JC=new Map,bv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bv.push("scrollEnd");function nr(t,e){JC.set(t,e),Do(e,[t])}var Af=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],ga=0,h0=0;function dh(){for(var t=ga,e=h0=ga=0;e<t;){var n=xn[e];xn[e++]=null;var r=xn[e];xn[e++]=null;var i=xn[e];xn[e++]=null;var o=xn[e];if(xn[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}o!==0&&WC(n,i,o)}}function hh(t,e,n,r){xn[ga++]=t,xn[ga++]=e,xn[ga++]=n,xn[ga++]=r,h0|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function p0(t,e,n,r){return hh(t,e,n,r),xf(t)}function Uo(t,e){return hh(t,null,null,e),xf(t)}function WC(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,o=t.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(i=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,i&&e!==null&&(i=31-yn(n),t=o.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),o):null}function xf(t){if(50<kl)throw kl=0,jv=null,Error(z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ya={};function N$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new N$(t,e,n,r)}function m0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nr(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function XC(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function af(t,e,n,r,i,o){var a=0;if(r=t,typeof t=="function")m0(t)&&(a=1);else if(typeof t=="string")a=L2(t,n,ur.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case av:return t=fn(31,n,e,i),t.elementType=av,t.lanes=o,t;case ca:return go(n.children,i,o,e);case vC:a=8,i|=24;break;case rv:return t=fn(12,n,e,i|2),t.elementType=rv,t.lanes=o,t;case iv:return t=fn(13,n,e,i),t.elementType=iv,t.lanes=o,t;case ov:return t=fn(19,n,e,i),t.elementType=ov,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cr:a=10;break e;case gC:a=9;break e;case t0:a=11;break e;case n0:a=14;break e;case ii:a=16,r=null;break e}a=29,n=Error(z(130,t===null?"null":typeof t,"")),r=null}return e=fn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function go(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function qp(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function QC(t){var e=fn(18,null,null,0);return e.stateNode=t,e}function Vp(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Y_=new WeakMap;function Pn(t,e){if(typeof t=="object"&&t!==null){var n=Y_.get(t);return n!==void 0?n:(e={value:t,source:e,stack:O_(e)},Y_.set(t,e),e)}return{value:t,source:e,stack:O_(e)}}var ba=[],_a=0,Cf=null,Jl=0,On=[],Rn=0,Ii=null,or=1,ar="";function Ar(t,e){ba[_a++]=Jl,ba[_a++]=Cf,Cf=t,Jl=e}function ZC(t,e,n){On[Rn++]=or,On[Rn++]=ar,On[Rn++]=Ii,Ii=t;var r=or;t=ar;var i=32-yn(r)-1;r&=~(1<<i),n+=1;var o=32-yn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,or=1<<32-yn(e)+i|n<<i|r,ar=o+t}else or=1<<o|n<<i|r,ar=t}function v0(t){t.return!==null&&(Ar(t,1),ZC(t,1,0))}function g0(t){for(;t===Cf;)Cf=ba[--_a],ba[_a]=null,Jl=ba[--_a],ba[_a]=null;for(;t===Ii;)Ii=On[--Rn],On[Rn]=null,ar=On[--Rn],On[Rn]=null,or=On[--Rn],On[Rn]=null}function eO(t,e){On[Rn++]=or,On[Rn++]=ar,On[Rn++]=Ii,or=e.id,ar=e.overflow,Ii=t}var Mt=null,Ge=null,me=!1,wi=null,In=!1,_v=Error(z(519));function Ni(t){var e=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Pn(e,t)),_v}function J_(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Rt]=t,e[tn]=r,n){case"dialog":de("cancel",e),de("close",e);break;case"iframe":case"object":case"embed":de("load",e);break;case"video":case"audio":for(n=0;n<eu.length;n++)de(eu[n],e);break;case"source":de("error",e);break;case"img":case"image":case"link":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"input":de("invalid",e),MC(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":de("invalid",e);break;case"textarea":de("invalid",e),IC(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||$R(e.textContent,n)?(r.popover!=null&&(de("beforetoggle",e),de("toggle",e)),r.onScroll!=null&&de("scroll",e),r.onScrollEnd!=null&&de("scrollend",e),r.onClick!=null&&(e.onclick=Or),e=!0):e=!1,e||Ni(t,!0)}function W_(t){for(Mt=t.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Mt=Mt.return}}function Fo(t){if(t!==Mt)return!1;if(!me)return W_(t),me=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Vv(t.type,t.memoizedProps)),n=!n),n&&Ge&&Ni(t),W_(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));Ge=$S(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));Ge=$S(t)}else e===27?(e=Ge,Ui(t.type)?(t=Jv,Jv=null,Ge=t):Ge=e):Ge=Mt?$n(t.stateNode.nextSibling):null;return!0}function To(){Ge=Mt=null,me=!1}function Fp(){var t=wi;return t!==null&&(Xt===null?Xt=t:Xt.push.apply(Xt,t),wi=null),t}function Wl(t){wi===null?wi=[t]:wi.push(t)}var Sv=hr(null),Lo=null,Rr=null;function ui(t,e,n){$e(Sv,e._currentValue),e._currentValue=n}function Dr(t){t._currentValue=Sv.current,wt(Sv)}function wv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tv(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;e:for(;o!==null;){var s=o;o=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),wv(o.return,n,t),r||(a=null);break e}o=s.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),wv(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Os(t,e,n,r){t=null;for(var i=e,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(z(387));if(a=a.memoizedProps,a!==null){var s=i.type;Sn(i.pendingProps.value,a.value)||(t!==null?t.push(s):t=[s])}}else if(i===_f.current){if(a=i.alternate,a===null)throw Error(z(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(nu):t=[nu])}i=i.return}t!==null&&Tv(e,t,n,r),e.flags|=262144}function Of(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Eo(t){Lo=t,Rr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pt(t){return tO(Lo,t)}function wc(t,e){return Lo===null&&Eo(t),tO(t,e)}function tO(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Rr===null){if(t===null)throw Error(z(308));Rr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Rr=Rr.next=e;return n}var D$=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},k$=vt.unstable_scheduleCallback,$$=vt.unstable_NormalPriority,at={$$typeof:Cr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function y0(){return{controller:new D$,data:new Map,refCount:0}}function Qu(t){t.refCount--,t.refCount===0&&k$($$,function(){t.controller.abort()})}var Cl=null,Ev=0,Ka=0,Na=null;function U$(t,e){if(Cl===null){var n=Cl=[];Ev=0,Ka=H0(),Na={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Ev++,e.then(X_,X_),e}function X_(){if(--Ev===0&&Cl!==null){Na!==null&&(Na.status="fulfilled");var t=Cl;Cl=null,Ka=0,Na=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function L$(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Q_=re.S;re.S=function(t,e){mR=vn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&U$(t,e),Q_!==null&&Q_(t,e)};var yo=hr(null);function b0(){var t=yo.current;return t!==null?t:Ie.pooledCache}function sf(t,e){e===null?$e(yo,yo.current):$e(yo,e.pool)}function nO(){var t=b0();return t===null?null:{parent:at._currentValue,pool:t}}var Rs=Error(z(460)),_0=Error(z(474)),ph=Error(z(542)),Rf={then:function(){}};function Z_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rO(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Or,Or),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,tS(t),t;default:if(typeof e.status=="string")e.then(Or,Or);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(z(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,tS(t),t}throw bo=e,Rs}}function eo(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(bo=n,Rs):n}}var bo=null;function eS(){if(bo===null)throw Error(z(459));var t=bo;return bo=null,t}function tS(t){if(t===Rs||t===ph)throw Error(z(483))}var Da=null,Xl=0;function Tc(t){var e=Xl;return Xl+=1,Da===null&&(Da=[]),rO(Da,t,e)}function Qs(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ec(t,e){throw e.$$typeof===Ek?Error(z(525)):(t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function iO(t){function e(g,b){if(t){var S=g.deletions;S===null?(g.deletions=[b],g.flags|=16):S.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g){for(var b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function i(g,b){return g=Nr(g,b),g.index=0,g.sibling=null,g}function o(g,b,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<b?(g.flags|=67108866,b):S):(g.flags|=67108866,b)):(g.flags|=1048576,b)}function a(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function s(g,b,S,T){return b===null||b.tag!==6?(b=qp(S,g.mode,T),b.return=g,b):(b=i(b,S),b.return=g,b)}function l(g,b,S,T){var w=S.type;return w===ca?c(g,b,S.props.children,T,S.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ii&&eo(w)===b.type)?(b=i(b,S.props),Qs(b,S),b.return=g,b):(b=af(S.type,S.key,S.props,null,g.mode,T),Qs(b,S),b.return=g,b)}function u(g,b,S,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Vp(S,g.mode,T),b.return=g,b):(b=i(b,S.children||[]),b.return=g,b)}function c(g,b,S,T,w){return b===null||b.tag!==7?(b=go(S,g.mode,T,w),b.return=g,b):(b=i(b,S),b.return=g,b)}function f(g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=qp(""+b,g.mode,S),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vc:return S=af(b.type,b.key,b.props,null,g.mode,S),Qs(S,b),S.return=g,S;case ml:return b=Vp(b,g.mode,S),b.return=g,b;case ii:return b=eo(b),f(g,b,S)}if(vl(b)||Js(b))return b=go(b,g.mode,S,null),b.return=g,b;if(typeof b.then=="function")return f(g,Tc(b),S);if(b.$$typeof===Cr)return f(g,wc(g,b),S);Ec(g,b)}return null}function h(g,b,S,T){var w=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return w!==null?null:s(g,b,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vc:return S.key===w?l(g,b,S,T):null;case ml:return S.key===w?u(g,b,S,T):null;case ii:return S=eo(S),h(g,b,S,T)}if(vl(S)||Js(S))return w!==null?null:c(g,b,S,T,null);if(typeof S.then=="function")return h(g,b,Tc(S),T);if(S.$$typeof===Cr)return h(g,b,wc(g,S),T);Ec(g,S)}return null}function m(g,b,S,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return g=g.get(S)||null,s(b,g,""+T,w);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case vc:return g=g.get(T.key===null?S:T.key)||null,l(b,g,T,w);case ml:return g=g.get(T.key===null?S:T.key)||null,u(b,g,T,w);case ii:return T=eo(T),m(g,b,S,T,w)}if(vl(T)||Js(T))return g=g.get(S)||null,c(b,g,T,w,null);if(typeof T.then=="function")return m(g,b,S,Tc(T),w);if(T.$$typeof===Cr)return m(g,b,S,wc(b,T),w);Ec(b,T)}return null}function v(g,b,S,T){for(var w=null,E=null,A=b,x=b=0,C=null;A!==null&&x<S.length;x++){A.index>x?(C=A,A=null):C=A.sibling;var M=h(g,A,S[x],T);if(M===null){A===null&&(A=C);break}t&&A&&M.alternate===null&&e(g,A),b=o(M,b,x),E===null?w=M:E.sibling=M,E=M,A=C}if(x===S.length)return n(g,A),me&&Ar(g,x),w;if(A===null){for(;x<S.length;x++)A=f(g,S[x],T),A!==null&&(b=o(A,b,x),E===null?w=A:E.sibling=A,E=A);return me&&Ar(g,x),w}for(A=r(A);x<S.length;x++)C=m(A,g,x,S[x],T),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?x:C.key),b=o(C,b,x),E===null?w=C:E.sibling=C,E=C);return t&&A.forEach(function(P){return e(g,P)}),me&&Ar(g,x),w}function y(g,b,S,T){if(S==null)throw Error(z(151));for(var w=null,E=null,A=b,x=b=0,C=null,M=S.next();A!==null&&!M.done;x++,M=S.next()){A.index>x?(C=A,A=null):C=A.sibling;var P=h(g,A,M.value,T);if(P===null){A===null&&(A=C);break}t&&A&&P.alternate===null&&e(g,A),b=o(P,b,x),E===null?w=P:E.sibling=P,E=P,A=C}if(M.done)return n(g,A),me&&Ar(g,x),w;if(A===null){for(;!M.done;x++,M=S.next())M=f(g,M.value,T),M!==null&&(b=o(M,b,x),E===null?w=M:E.sibling=M,E=M);return me&&Ar(g,x),w}for(A=r(A);!M.done;x++,M=S.next())M=m(A,g,x,M.value,T),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?x:M.key),b=o(M,b,x),E===null?w=M:E.sibling=M,E=M);return t&&A.forEach(function(N){return e(g,N)}),me&&Ar(g,x),w}function _(g,b,S,T){if(typeof S=="object"&&S!==null&&S.type===ca&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case vc:e:{for(var w=S.key;b!==null;){if(b.key===w){if(w=S.type,w===ca){if(b.tag===7){n(g,b.sibling),T=i(b,S.props.children),T.return=g,g=T;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ii&&eo(w)===b.type){n(g,b.sibling),T=i(b,S.props),Qs(T,S),T.return=g,g=T;break e}n(g,b);break}else e(g,b);b=b.sibling}S.type===ca?(T=go(S.props.children,g.mode,T,S.key),T.return=g,g=T):(T=af(S.type,S.key,S.props,null,g.mode,T),Qs(T,S),T.return=g,g=T)}return a(g);case ml:e:{for(w=S.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(g,b.sibling),T=i(b,S.children||[]),T.return=g,g=T;break e}else{n(g,b);break}else e(g,b);b=b.sibling}T=Vp(S,g.mode,T),T.return=g,g=T}return a(g);case ii:return S=eo(S),_(g,b,S,T)}if(vl(S))return v(g,b,S,T);if(Js(S)){if(w=Js(S),typeof w!="function")throw Error(z(150));return S=w.call(S),y(g,b,S,T)}if(typeof S.then=="function")return _(g,b,Tc(S),T);if(S.$$typeof===Cr)return _(g,b,wc(g,S),T);Ec(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,b!==null&&b.tag===6?(n(g,b.sibling),T=i(b,S),T.return=g,g=T):(n(g,b),T=qp(S,g.mode,T),T.return=g,g=T),a(g)):n(g,b)}return function(g,b,S,T){try{Xl=0;var w=_(g,b,S,T);return Da=null,w}catch(A){if(A===Rs||A===ph)throw A;var E=fn(29,A,null,g.mode);return E.lanes=T,E.return=g,E}finally{}}}var Ao=iO(!0),oO=iO(!1),oi=!1;function S0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Av(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ti(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=xf(t),WC(t,null,n),e}return hh(t,r,e,n),xf(t)}function Ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,TC(t,n)}}function Kp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var xv=!1;function Rl(){if(xv){var t=Na;if(t!==null)throw t}}function Ml(t,e,n,r){xv=!1;var i=t.updateQueue;oi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(pe&h)===h:(r&h)===h){h!==0&&h===Ka&&(xv=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,y=s;h=e;var _=n;switch(y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(_,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(_,f,h):v,h==null)break e;f=qe({},f,h);break e;case 2:oi=!0}}h=s.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,o===null&&(i.shared.lanes=0),ki|=a,t.lanes=a,t.memoizedState=f}}function aO(t,e){if(typeof t!="function")throw Error(z(191,t));t.call(e)}function sO(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)aO(n[t],e)}var Ya=hr(null),Mf=hr(0);function nS(t,e){t=Gr,$e(Mf,t),$e(Ya,e),Gr=t|e.baseLanes}function Cv(){$e(Mf,Gr),$e(Ya,Ya.current)}function w0(){Gr=Mf.current,wt(Ya),wt(Mf)}var wn=hr(null),kn=null;function ci(t){var e=t.alternate;$e(et,et.current&1),$e(wn,t),kn===null&&(e===null||Ya.current!==null||e.memoizedState!==null)&&(kn=t)}function Ov(t){$e(et,et.current),$e(wn,t),kn===null&&(kn=t)}function lO(t){t.tag===22?($e(et,et.current),$e(wn,t),kn===null&&(kn=t)):fi()}function fi(){$e(et,et.current),$e(wn,wn.current)}function cn(t){wt(wn),kn===t&&(kn=null),wt(et)}var et=hr(0);function Pf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Kv(n)||Yv(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Br=0,se=null,Me=null,it=null,If=!1,ka=!1,xo=!1,Nf=0,Ql=0,$a=null,B$=0;function We(){throw Error(z(321))}function T0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sn(t[n],e[n]))return!1;return!0}function E0(t,e,n,r,i,o){return Br=o,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,re.H=t===null||t.memoizedState===null?BO:k0,xo=!1,o=n(r,i),xo=!1,ka&&(o=cO(e,n,r,i)),uO(t),o}function uO(t){re.H=Zl;var e=Me!==null&&Me.next!==null;if(Br=0,it=Me=se=null,If=!1,Ql=0,$a=null,e)throw Error(z(300));t===null||st||(t=t.dependencies,t!==null&&Of(t)&&(st=!0))}function cO(t,e,n,r){se=t;var i=0;do{if(ka&&($a=null),Ql=0,ka=!1,25<=i)throw Error(z(301));if(i+=1,it=Me=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}re.H=jO,o=e(n,r)}while(ka);return o}function j$(){var t=re.H,e=t.useState()[0];return e=typeof e.then=="function"?Zu(e):e,t=t.useState()[0],(Me!==null?Me.memoizedState:null)!==t&&(se.flags|=1024),e}function A0(){var t=Nf!==0;return Nf=0,t}function x0(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function C0(t){if(If){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}If=!1}Br=0,it=Me=se=null,ka=!1,Ql=Nf=0,$a=null}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?se.memoizedState=it=t:it=it.next=t,it}function tt(){if(Me===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=it===null?se.memoizedState:it.next;if(e!==null)it=e,Me=t;else{if(t===null)throw se.alternate===null?Error(z(467)):Error(z(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},it===null?se.memoizedState=it=t:it=it.next=t}return it}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zu(t){var e=Ql;return Ql+=1,$a===null&&($a=[]),t=rO($a,t,e),e=se,(it===null?e.memoizedState:it.next)===null&&(e=e.alternate,re.H=e===null||e.memoizedState===null?BO:k0),t}function vh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zu(t);if(t.$$typeof===Cr)return Pt(t)}throw Error(z(438,String(t)))}function O0(t){var e=null,n=se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=mh(),se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=Ak;return e.index++,n}function jr(t,e){return typeof e=="function"?e(t):e}function lf(t){var e=tt();return R0(e,Me,t)}function R0(t,e,n){var r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=t.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}e.baseQueue=i=o,r.pending=null}if(o=t.baseState,i===null)t.memoizedState=o;else{e=i.next;var s=a=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(pe&f)===f:(Br&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Ka&&(c=!0);else if((Br&h)===h){u=u.next,h===Ka&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,a=o):l=l.next=f,se.lanes|=h,ki|=h;f=u.action,xo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,a=o):l=l.next=h,se.lanes|=f,ki|=f;u=u.next}while(u!==null&&u!==e);if(l===null?a=o:l.next=s,!Sn(o,t.memoizedState)&&(st=!0,c&&(n=Na,n!==null)))throw n;t.memoizedState=o,t.baseState=a,t.baseQueue=l,r.lastRenderedState=o}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Yp(t){var e=tt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Sn(o,e.memoizedState)||(st=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function fO(t,e,n){var r=se,i=tt(),o=me;if(o){if(n===void 0)throw Error(z(407));n=n()}else n=e();var a=!Sn((Me||i).memoizedState,n);if(a&&(i.memoizedState=n,st=!0),i=i.queue,M0(pO.bind(null,r,i,t),[t]),i.getSnapshot!==e||a||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,Ja(9,{destroy:void 0},hO.bind(null,r,i,n,e),null),Ie===null)throw Error(z(349));o||Br&127||dO(r,e,n)}return n}function dO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e=mh(),se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hO(t,e,n,r){e.value=n,e.getSnapshot=r,mO(e)&&vO(t)}function pO(t,e,n){return n(function(){mO(e)&&vO(t)})}function mO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sn(t,n)}catch{return!0}}function vO(t){var e=Uo(t,2);e!==null&&en(e,t,2)}function Rv(t){var e=Lt();if(typeof t=="function"){var n=t;if(t=n(),xo){mi(!0);try{n()}finally{mi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:t},e}function gO(t,e,n,r){return t.baseState=n,R0(t,Me,typeof r=="function"?r:jr)}function z$(t,e,n,r,i){if(yh(t))throw Error(z(485));if(t=e.action,t!==null){var o={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};re.T!==null?n(!0):o.isTransition=!1,r(o),n=e.pending,n===null?(o.next=e.pending=o,yO(e,o)):(o.next=n.next,e.pending=n.next=o)}}function yO(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var o=re.T,a={};re.T=a;try{var s=n(i,r),l=re.S;l!==null&&l(a,s),rS(t,e,s)}catch(u){Mv(t,e,u)}finally{o!==null&&a.types!==null&&(o.types=a.types),re.T=o}}else try{o=n(i,r),rS(t,e,o)}catch(u){Mv(t,e,u)}}function rS(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){iS(t,e,r)},function(r){return Mv(t,e,r)}):iS(t,e,n)}function iS(t,e,n){e.status="fulfilled",e.value=n,bO(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,yO(t,n)))}function Mv(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,bO(e),e=e.next;while(e!==r)}t.action=null}function bO(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function _O(t,e){return e}function oS(t,e){if(me){var n=Ie.formState;if(n!==null){e:{var r=se;if(me){if(Ge){t:{for(var i=Ge,o=In;i.nodeType!==8;){if(!o){i=null;break t}if(i=$n(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){Ge=$n(i.nextSibling),r=i.data==="F!";break e}}Ni(r)}r=!1}r&&(e=n[0])}}return n=Lt(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_O,lastRenderedState:e},n.queue=r,n=$O.bind(null,se,r),r.dispatch=n,r=Rv(!1),o=D0.bind(null,se,!1,r.queue),r=Lt(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=z$.bind(null,se,i,o,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function aS(t){var e=tt();return SO(e,Me,t)}function SO(t,e,n){if(e=R0(t,e,_O)[0],t=lf(jr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Zu(e)}catch(a){throw a===Rs?ph:a}else r=e;e=tt();var i=e.queue,o=i.dispatch;return n!==e.memoizedState&&(se.flags|=2048,Ja(9,{destroy:void 0},G$.bind(null,i,n),null)),[r,o,t]}function G$(t,e){t.action=e}function sS(t){var e=tt(),n=Me;if(n!==null)return SO(e,n,t);tt(),e=e.memoizedState,n=tt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ja(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=se.updateQueue,e===null&&(e=mh(),se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function wO(){return tt().memoizedState}function uf(t,e,n,r){var i=Lt();se.flags|=t,i.memoizedState=Ja(1|e,{destroy:void 0},n,r===void 0?null:r)}function gh(t,e,n,r){var i=tt();r=r===void 0?null:r;var o=i.memoizedState.inst;Me!==null&&r!==null&&T0(r,Me.memoizedState.deps)?i.memoizedState=Ja(e,o,n,r):(se.flags|=t,i.memoizedState=Ja(1|e,o,n,r))}function lS(t,e){uf(8390656,8,t,e)}function M0(t,e){gh(2048,8,t,e)}function H$(t){se.flags|=4;var e=se.updateQueue;if(e===null)e=mh(),se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function TO(t){var e=tt().memoizedState;return H$({ref:e,nextImpl:t}),function(){if(_e&2)throw Error(z(440));return e.impl.apply(void 0,arguments)}}function EO(t,e){return gh(4,2,t,e)}function AO(t,e){return gh(4,4,t,e)}function xO(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CO(t,e,n){n=n!=null?n.concat([t]):null,gh(4,4,xO.bind(null,e,t),n)}function P0(){}function OO(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&T0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RO(t,e){var n=tt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&T0(e,r[1]))return r[0];if(r=t(),xo){mi(!0);try{t()}finally{mi(!1)}}return n.memoizedState=[r,e],r}function I0(t,e,n){return n===void 0||Br&1073741824&&!(pe&261930)?t.memoizedState=e:(t.memoizedState=n,t=gR(),se.lanes|=t,ki|=t,n)}function MO(t,e,n,r){return Sn(n,e)?n:Ya.current!==null?(t=I0(t,n,r),Sn(t,e)||(st=!0),t):!(Br&42)||Br&1073741824&&!(pe&261930)?(st=!0,t.memoizedState=n):(t=gR(),se.lanes|=t,ki|=t,e)}function PO(t,e,n,r,i){var o=Se.p;Se.p=o!==0&&8>o?o:8;var a=re.T,s={};re.T=s,D0(t,!1,e,n);try{var l=i(),u=re.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=L$(l,r);Pl(t,e,c,bn(t))}else Pl(t,e,r,bn(t))}catch(f){Pl(t,e,{then:function(){},status:"rejected",reason:f},bn())}finally{Se.p=o,a!==null&&s.types!==null&&(a.types=s.types),re.T=a}}function q$(){}function Pv(t,e,n,r){if(t.tag!==5)throw Error(z(476));var i=IO(t).queue;PO(t,i,e,vo,n===null?q$:function(){return NO(t),n(r)})}function IO(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:vo,baseState:vo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:vo},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function NO(t){var e=IO(t);e.next===null&&(e=t.alternate.memoizedState),Pl(t,e.next.queue,{},bn())}function N0(){return Pt(nu)}function DO(){return tt().memoizedState}function kO(){return tt().memoizedState}function V$(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=bn();t=Ti(n);var r=Ei(e,t,n);r!==null&&(en(r,e,n),Ol(r,e,n)),e={cache:y0()},t.payload=e;return}e=e.return}}function F$(t,e,n){var r=bn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},yh(t)?UO(e,n):(n=p0(t,e,n,r),n!==null&&(en(n,t,r),LO(n,e,r)))}function $O(t,e,n){var r=bn();Pl(t,e,n,r)}function Pl(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(yh(t))UO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Sn(s,a))return hh(t,e,i,0),Ie===null&&dh(),!1}catch{}finally{}if(n=p0(t,e,i,r),n!==null)return en(n,t,r),LO(n,e,r),!0}return!1}function D0(t,e,n,r){if(r={lane:2,revertLane:H0(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},yh(t)){if(e)throw Error(z(479))}else e=p0(t,n,r,2),e!==null&&en(e,t,2)}function yh(t){var e=t.alternate;return t===se||e!==null&&e===se}function UO(t,e){ka=If=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LO(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,TC(t,n)}}var Zl={readContext:Pt,use:vh,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Zl.useEffectEvent=We;var BO={readContext:Pt,use:vh,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:Pt,useEffect:lS,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,uf(4194308,4,xO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uf(4194308,4,t,e)},useInsertionEffect:function(t,e){uf(4,2,t,e)},useMemo:function(t,e){var n=Lt();e=e===void 0?null:e;var r=t();if(xo){mi(!0);try{t()}finally{mi(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Lt();if(n!==void 0){var i=n(e);if(xo){mi(!0);try{n(e)}finally{mi(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=F$.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:function(t){t=Rv(t);var e=t.queue,n=$O.bind(null,se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:P0,useDeferredValue:function(t,e){var n=Lt();return I0(n,t,e)},useTransition:function(){var t=Rv(!1);return t=PO.bind(null,se,t.queue,!0,!1),Lt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=se,i=Lt();if(me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ie===null)throw Error(z(349));pe&127||dO(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,lS(pO.bind(null,r,o,t),[t]),r.flags|=2048,Ja(9,{destroy:void 0},hO.bind(null,r,o,n,e),null),n},useId:function(){var t=Lt(),e=Ie.identifierPrefix;if(me){var n=ar,r=or;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Nf++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=B$++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:N0,useFormState:oS,useActionState:oS,useOptimistic:function(t){var e=Lt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=D0.bind(null,se,!0,n),n.dispatch=e,[t,e]},useMemoCache:O0,useCacheRefresh:function(){return Lt().memoizedState=V$.bind(null,se)},useEffectEvent:function(t){var e=Lt(),n={impl:t};return e.memoizedState=n,function(){if(_e&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},k0={readContext:Pt,use:vh,useCallback:OO,useContext:Pt,useEffect:M0,useImperativeHandle:CO,useInsertionEffect:EO,useLayoutEffect:AO,useMemo:RO,useReducer:lf,useRef:wO,useState:function(){return lf(jr)},useDebugValue:P0,useDeferredValue:function(t,e){var n=tt();return MO(n,Me.memoizedState,t,e)},useTransition:function(){var t=lf(jr)[0],e=tt().memoizedState;return[typeof t=="boolean"?t:Zu(t),e]},useSyncExternalStore:fO,useId:DO,useHostTransitionStatus:N0,useFormState:aS,useActionState:aS,useOptimistic:function(t,e){var n=tt();return gO(n,Me,t,e)},useMemoCache:O0,useCacheRefresh:kO};k0.useEffectEvent=TO;var jO={readContext:Pt,use:vh,useCallback:OO,useContext:Pt,useEffect:M0,useImperativeHandle:CO,useInsertionEffect:EO,useLayoutEffect:AO,useMemo:RO,useReducer:Yp,useRef:wO,useState:function(){return Yp(jr)},useDebugValue:P0,useDeferredValue:function(t,e){var n=tt();return Me===null?I0(n,t,e):MO(n,Me.memoizedState,t,e)},useTransition:function(){var t=Yp(jr)[0],e=tt().memoizedState;return[typeof t=="boolean"?t:Zu(t),e]},useSyncExternalStore:fO,useId:DO,useHostTransitionStatus:N0,useFormState:sS,useActionState:sS,useOptimistic:function(t,e){var n=tt();return Me!==null?gO(n,Me,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:O0,useCacheRefresh:kO};jO.useEffectEvent=TO;function Jp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Iv={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Ti(r);i.payload=e,n!=null&&(i.callback=n),e=Ei(t,i,r),e!==null&&(en(e,t,r),Ol(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Ti(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ei(t,i,r),e!==null&&(en(e,t,r),Ol(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=Ti(n);r.tag=2,e!=null&&(r.callback=e),e=Ei(t,r,n),e!==null&&(en(e,t,n),Ol(e,t,n))}};function uS(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Yl(n,r)||!Yl(i,o):!0}function cS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Iv.enqueueReplaceState(e,e.state,null)}function Co(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=qe({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function zO(t){Af(t)}function GO(t){console.error(t)}function HO(t){Af(t)}function Df(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function fS(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Nv(t,e,n){return n=Ti(n),n.tag=3,n.payload={element:null},n.callback=function(){Df(t,e)},n}function qO(t){return t=Ti(t),t.tag=3,t}function VO(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=r.value;t.payload=function(){return i(o)},t.callback=function(){fS(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){fS(e,n,r),typeof i!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function K$(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Os(e,n,i,!0),n=wn.current,n!==null){switch(n.tag){case 31:case 13:return kn===null?Bf():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Rf?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),am(t,r,i)),!1;case 22:return n.flags|=65536,r===Rf?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),am(t,r,i)),!1}throw Error(z(435,n.tag))}return am(t,r,i),Bf(),!1}if(me)return e=wn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==_v&&(t=Error(z(422),{cause:r}),Wl(Pn(t,n)))):(r!==_v&&(e=Error(z(423),{cause:r}),Wl(Pn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Pn(r,n),i=Nv(t.stateNode,r,i),Kp(t,i),Ze!==4&&(Ze=2)),!1;var o=Error(z(520),{cause:r});if(o=Pn(o,n),Dl===null?Dl=[o]:Dl.push(o),Ze!==4&&(Ze=2),e===null)return!0;r=Pn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Nv(n.stateNode,r,t),Kp(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ai===null||!Ai.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=qO(i),VO(i,t,n,r),Kp(n,i),!1}n=n.return}while(n!==null);return!1}var $0=Error(z(461)),st=!1;function Ot(t,e,n,r){e.child=t===null?oO(e,null,n,r):Ao(e,t.child,n,r)}function dS(t,e,n,r,i){n=n.render;var o=e.ref;if("ref"in r){var a={};for(var s in r)s!=="ref"&&(a[s]=r[s])}else a=r;return Eo(e),r=E0(t,e,n,a,o,i),s=A0(),t!==null&&!st?(x0(t,e,i),zr(t,e,i)):(me&&s&&v0(e),e.flags|=1,Ot(t,e,r,i),e.child)}function hS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!m0(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,FO(t,e,o,r,i)):(t=af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!U0(t,i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yl,n(a,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=Nr(o,r),t.ref=e.ref,t.return=e,e.child=t}function FO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Yl(o,r)&&t.ref===e.ref)if(st=!1,e.pendingProps=r=o,U0(t,i))t.flags&131072&&(st=!0);else return e.lanes=t.lanes,zr(t,e,i)}return Dv(t,e,n,r,i)}function KO(t,e,n,r){var i=r.children,o=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(o=o!==null?o.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,e.child=null;return pS(t,e,o,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&sf(e,o!==null?o.cachePool:null),o!==null?nS(e,o):Cv(),lO(e);else return r=e.lanes=536870912,pS(t,e,o!==null?o.baseLanes|n:n,n,r)}else o!==null?(sf(e,o.cachePool),nS(e,o),fi(),e.memoizedState=null):(t!==null&&sf(e,null),Cv(),fi());return Ot(t,e,i,n),e.child}function yl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function pS(t,e,n,r,i){var o=b0();return o=o===null?null:{parent:at._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},t!==null&&sf(e,null),Cv(),lO(e),t!==null&&Os(t,e,r,!0),e.childLanes=i,null}function cf(t,e){return e=kf({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function mS(t,e,n){return Ao(e,t.child,null,n),t=cf(e,e.pendingProps),t.flags|=2,cn(e),e.memoizedState=null,t}function Y$(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(me){if(r.mode==="hidden")return t=cf(e,r),e.lanes=536870912,yl(null,t);if(Ov(e),(t=Ge)?(t=BR(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ii!==null?{id:or,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},n=QC(t),n.return=e,e.child=n,Mt=e,Ge=null)):t=null,t===null)throw Ni(e);return e.lanes=536870912,null}return cf(e,r)}var o=t.memoizedState;if(o!==null){var a=o.dehydrated;if(Ov(e),i)if(e.flags&256)e.flags&=-257,e=mS(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(z(558));else if(st||Os(t,e,n,!1),i=(n&t.childLanes)!==0,st||i){if(r=Ie,r!==null&&(a=EC(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Uo(t,a),en(r,t,a),$0;Bf(),e=mS(t,e,n)}else t=o.treeContext,Ge=$n(a.nextSibling),Mt=e,me=!0,wi=null,In=!1,t!==null&&eO(e,t),e=cf(e,r),e.flags|=4096;return e}return t=Nr(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ff(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Dv(t,e,n,r,i){return Eo(e),n=E0(t,e,n,r,void 0,i),r=A0(),t!==null&&!st?(x0(t,e,i),zr(t,e,i)):(me&&r&&v0(e),e.flags|=1,Ot(t,e,n,i),e.child)}function vS(t,e,n,r,i,o){return Eo(e),e.updateQueue=null,n=cO(e,r,n,i),uO(t),r=A0(),t!==null&&!st?(x0(t,e,o),zr(t,e,o)):(me&&r&&v0(e),e.flags|=1,Ot(t,e,n,o),e.child)}function gS(t,e,n,r,i){if(Eo(e),e.stateNode===null){var o=ya,a=n.contextType;typeof a=="object"&&a!==null&&(o=Pt(a)),o=new n(r,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Iv,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=r,o.state=e.memoizedState,o.refs={},S0(e),a=n.contextType,o.context=typeof a=="object"&&a!==null?Pt(a):ya,o.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Jp(e,n,a,r),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&Iv.enqueueReplaceState(o,o.state,null),Ml(e,r,o,i),Rl(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){o=e.stateNode;var s=e.memoizedProps,l=Co(n,s);o.props=l;var u=o.context,c=n.contextType;a=ya,typeof c=="object"&&c!==null&&(a=Pt(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s||u!==a)&&cS(e,o,r,a),oi=!1;var h=e.memoizedState;o.state=h,Ml(e,r,o,i),Rl(),u=e.memoizedState,s||h!==u||oi?(typeof f=="function"&&(Jp(e,n,f,r),u=e.memoizedState),(l=oi||uS(e,n,l,r,h,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Av(t,e),a=e.memoizedProps,c=Co(n,a),o.props=c,f=e.pendingProps,h=o.context,u=n.contextType,l=ya,typeof u=="object"&&u!==null&&(l=Pt(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&cS(e,o,r,l),oi=!1,h=e.memoizedState,o.state=h,Ml(e,r,o,i),Rl();var m=e.memoizedState;a!==f||h!==m||oi||t!==null&&t.dependencies!==null&&Of(t.dependencies)?(typeof s=="function"&&(Jp(e,n,s,r),m=e.memoizedState),(c=oi||uS(e,n,c,r,h,m,l)||t!==null&&t.dependencies!==null&&Of(t.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return o=r,ff(t,e),r=(e.flags&128)!==0,o||r?(o=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&r?(e.child=Ao(e,t.child,null,i),e.child=Ao(e,null,n,i)):Ot(t,e,n,i),e.memoizedState=o.state,t=e.child):t=zr(t,e,i),t}function yS(t,e,n,r){return To(),e.flags|=256,Ot(t,e,n,r),e.child}var Wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xp(t){return{baseLanes:t,cachePool:nO()}}function Qp(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=mn),t}function YO(t,e,n){var r=e.pendingProps,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(et.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(me){if(i?ci(e):fi(),(t=Ge)?(t=BR(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ii!==null?{id:or,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},n=QC(t),n.return=e,e.child=n,Mt=e,Ge=null)):t=null,t===null)throw Ni(e);return Yv(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(fi(),i=e.mode,s=kf({mode:"hidden",children:s},i),r=go(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=Xp(n),r.childLanes=Qp(t,a,n),e.memoizedState=Wp,yl(null,r)):(ci(e),kv(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(o)e.flags&256?(ci(e),e.flags&=-257,e=Zp(t,e,n)):e.memoizedState!==null?(fi(),e.child=t.child,e.flags|=128,e=null):(fi(),s=r.fallback,i=e.mode,r=kf({mode:"visible",children:r.children},i),s=go(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,Ao(e,t.child,null,n),r=e.child,r.memoizedState=Xp(n),r.childLanes=Qp(t,a,n),e.memoizedState=Wp,e=yl(null,r));else if(ci(e),Yv(s)){if(a=s.nextSibling&&s.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(z(419)),r.stack="",r.digest=a,Wl({value:r,source:null,stack:null}),e=Zp(t,e,n)}else if(st||Os(t,e,n,!1),a=(n&t.childLanes)!==0,st||a){if(a=Ie,a!==null&&(r=EC(a,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Uo(t,r),en(a,t,r),$0;Kv(s)||Bf(),e=Zp(t,e,n)}else Kv(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Ge=$n(s.nextSibling),Mt=e,me=!0,wi=null,In=!1,t!==null&&eO(e,t),e=kv(e,r.children),e.flags|=4096);return e}return i?(fi(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Nr(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Nr(u,s):(s=go(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,yl(null,r),r=e.child,s=t.child.memoizedState,s===null?s=Xp(n):(i=s.cachePool,i!==null?(l=at._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=nO(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Qp(t,a,n),e.memoizedState=Wp,yl(t.child,r)):(ci(e),n=t.child,t=n.sibling,n=Nr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function kv(t,e){return e=kf({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function kf(t,e){return t=fn(22,t,null,e),t.lanes=0,t}function Zp(t,e,n){return Ao(e,t.child,null,n),t=kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wv(t.return,e,n)}function em(t,e,n,r,i,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function JO(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=et.current,s=(a&2)!==0;if(s?(a=a&1|2,e.flags|=128):a&=1,$e(et,a),Ot(t,e,r,n),r=me?Jl:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bS(t,n,e);else if(t.tag===19)bS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),em(e,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}em(e,!0,n,null,o,r);break;case"together":em(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ki|=e.lanes,!(n&e.childLanes))if(t!==null){if(Os(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U0(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Of(t)))}function J$(t,e,n){switch(e.tag){case 3:Sf(e,e.stateNode.containerInfo),ui(e,at,t.memoizedState.cache),To();break;case 27:case 5:uv(e);break;case 4:Sf(e,e.stateNode.containerInfo);break;case 10:ui(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Ov(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ci(e),e.flags|=128,null):n&e.child.childLanes?YO(t,e,n):(ci(e),t=zr(t,e,n),t!==null?t.sibling:null);ci(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Os(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return JO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(et,et.current),r)break;return null;case 22:return e.lanes=0,KO(t,e,n,e.pendingProps);case 24:ui(e,at,t.memoizedState.cache)}return zr(t,e,n)}function WO(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)st=!0;else{if(!U0(t,n)&&!(e.flags&128))return st=!1,J$(t,e,n);st=!!(t.flags&131072)}else st=!1,me&&e.flags&1048576&&ZC(e,Jl,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=eo(e.elementType),e.type=t,typeof t=="function")m0(t)?(r=Co(t,r),e.tag=1,e=gS(null,e,t,r,n)):(e.tag=0,e=Dv(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===t0){e.tag=11,e=dS(null,e,t,r,n);break e}else if(i===n0){e.tag=14,e=hS(null,e,t,r,n);break e}}throw e=sv(t)||t,Error(z(306,e,""))}}return e;case 0:return Dv(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Co(r,e.pendingProps),gS(t,e,r,i,n);case 3:e:{if(Sf(e,e.stateNode.containerInfo),t===null)throw Error(z(387));r=e.pendingProps;var o=e.memoizedState;i=o.element,Av(t,e),Ml(e,r,null,n);var a=e.memoizedState;if(r=a.cache,ui(e,at,r),r!==o.cache&&Tv(e,[at],n,!0),Rl(),r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=yS(t,e,r,n);break e}else if(r!==i){i=Pn(Error(z(424)),e),Wl(i),e=yS(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ge=$n(t.firstChild),Mt=e,me=!0,wi=null,In=!0,n=oO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(To(),r===i){e=zr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 26:return ff(t,e),t===null?(n=BS(e.type,null,e.pendingProps,null))?e.memoizedState=n:me||(n=e.type,t=e.pendingProps,r=Hf(Si.current).createElement(n),r[Rt]=e,r[tn]=t,It(r,n,t),_t(r),e.stateNode=r):e.memoizedState=BS(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return uv(e),t===null&&me&&(r=e.stateNode=jR(e.type,e.pendingProps,Si.current),Mt=e,In=!0,i=Ge,Ui(e.type)?(Jv=i,Ge=$n(r.firstChild)):Ge=i),Ot(t,e,e.pendingProps.children,n),ff(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&me&&((i=r=Ge)&&(r=A2(r,e.type,e.pendingProps,In),r!==null?(e.stateNode=r,Mt=e,Ge=$n(r.firstChild),In=!1,i=!0):i=!1),i||Ni(e)),uv(e),i=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,r=o.children,Vv(i,o)?r=null:a!==null&&Vv(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=E0(t,e,j$,null,null,n),nu._currentValue=i),ff(t,e),Ot(t,e,r,n),e.child;case 6:return t===null&&me&&((t=n=Ge)&&(n=x2(n,e.pendingProps,In),n!==null?(e.stateNode=n,Mt=e,Ge=null,t=!0):t=!1),t||Ni(e)),null;case 13:return YO(t,e,n);case 4:return Sf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ao(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return dS(t,e,e.type,e.pendingProps,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,ui(e,e.type,r.value),Ot(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Eo(e),i=Pt(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return hS(t,e,e.type,e.pendingProps,n);case 15:return FO(t,e,e.type,e.pendingProps,n);case 19:return JO(t,e,n);case 31:return Y$(t,e,n);case 22:return KO(t,e,n,e.pendingProps);case 24:return Eo(e),r=Pt(at),t===null?(i=b0(),i===null&&(i=Ie,o=y0(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),e.memoizedState={parent:r,cache:i},S0(e),ui(e,at,i)):(t.lanes&n&&(Av(t,e),Ml(e,null,null,n),Rl()),i=t.memoizedState,o=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ui(e,at,r)):(r=o.cache,ui(e,at,r),r!==i.cache&&Tv(e,[at],n,!0))),Ot(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(z(156,e.tag))}function yr(t){t.flags|=4}function tm(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(_R())t.flags|=8192;else throw bo=Rf,_0}else t.flags&=-16777217}function _S(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!HR(e))if(_R())t.flags|=8192;else throw bo=Rf,_0}function Ac(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?SC():536870912,t.lanes|=e,Wa|=e)}function Zs(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function W$(t,e,n){var r=e.pendingProps;switch(g0(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(e),null;case 1:return Be(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Dr(at),qa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Fo(e)?yr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fp())),Be(e),null;case 26:var i=e.type,o=e.memoizedState;return t===null?(yr(e),o!==null?(Be(e),_S(e,o)):(Be(e),tm(e,i,null,r,n))):o?o!==t.memoizedState?(yr(e),Be(e),_S(e,o)):(Be(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&yr(e),Be(e),tm(e,i,t,r,n)),null;case 27:if(wf(e),n=Si.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Be(e),null}t=ur.current,Fo(e)?J_(e):(t=jR(i,r,n),e.stateNode=t,yr(e))}return Be(e),null;case 5:if(wf(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Be(e),null}if(o=ur.current,Fo(e))J_(e);else{var a=Hf(Si.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=a.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Rt]=e,o[tn]=r;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=o;e:switch(It(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&yr(e)}}return Be(e),tm(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=Si.current,Fo(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Mt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Rt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||$R(t.nodeValue,n)),t||Ni(e,!0)}else t=Hf(t).createTextNode(r),t[Rt]=e,e.stateNode=t}return Be(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Fo(e),n!==null){if(t===null){if(!r)throw Error(z(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(557));t[Rt]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),t=!1}else n=Fp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(cn(e),e):(cn(e),null);if(e.flags&128)throw Error(z(558))}return Be(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Fo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Rt]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),i=!1}else i=Fp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(cn(e),e):(cn(e),null)}return cn(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Ac(e,e.updateQueue),Be(e),null);case 4:return qa(),t===null&&q0(e.stateNode.containerInfo),Be(e),null;case 10:return Dr(e.type),Be(e),null;case 19:if(wt(et),r=e.memoizedState,r===null)return Be(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Zs(r,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pf(t),o!==null){for(e.flags|=128,Zs(r,!1),t=o.updateQueue,e.updateQueue=t,Ac(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)XC(n,t),n=n.sibling;return $e(et,et.current&1|2),me&&Ar(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&vn()>Uf&&(e.flags|=128,i=!0,Zs(r,!1),e.lanes=4194304)}else{if(!i)if(t=Pf(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Ac(e,t),Zs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!me)return Be(e),null}else 2*vn()-r.renderingStartTime>Uf&&n!==536870912&&(e.flags|=128,i=!0,Zs(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=vn(),t.sibling=null,n=et.current,$e(et,i?n&1|2:n&1),me&&Ar(e,r.treeForkCount),t):(Be(e),null);case 22:case 23:return cn(e),w0(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Be(e),e.subtreeFlags&6&&(e.flags|=8192)):Be(e),n=e.updateQueue,n!==null&&Ac(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&wt(yo),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Dr(at),Be(e),null;case 25:return null;case 30:return null}throw Error(z(156,e.tag))}function X$(t,e){switch(g0(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dr(at),qa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return wf(e),null;case 31:if(e.memoizedState!==null){if(cn(e),e.alternate===null)throw Error(z(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(cn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(et),null;case 4:return qa(),null;case 10:return Dr(e.type),null;case 22:case 23:return cn(e),w0(),t!==null&&wt(yo),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Dr(at),null;case 25:return null;default:return null}}function XO(t,e){switch(g0(e),e.tag){case 3:Dr(at),qa();break;case 26:case 27:case 5:wf(e);break;case 4:qa();break;case 31:e.memoizedState!==null&&cn(e);break;case 13:cn(e);break;case 19:wt(et);break;case 10:Dr(e.type);break;case 22:case 23:cn(e),w0(),t!==null&&wt(yo);break;case 24:Dr(at)}}function ec(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){Ae(e,e.return,s)}}function Di(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var o=i.next;r=o;do{if((r.tag&t)===t){var a=r.inst,s=a.destroy;if(s!==void 0){a.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){Ae(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){Ae(e,e.return,c)}}function QO(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{sO(e,n)}catch(r){Ae(t,t.return,r)}}}function ZO(t,e,n){n.props=Co(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ae(t,e,r)}}function Il(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ae(t,e,i)}}function sr(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ae(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ae(t,e,i)}else n.current=null}function eR(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ae(t,t.return,i)}}function nm(t,e,n){try{var r=t.stateNode;b2(r,t.type,n,e),r[tn]=e}catch(i){Ae(t,t.return,i)}}function tR(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ui(t.type)||t.tag===4}function rm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ui(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $v(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Or));else if(r!==4&&(r===27&&Ui(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for($v(t,e,n),t=t.sibling;t!==null;)$v(t,e,n),t=t.sibling}function $f(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Ui(t.type)&&(n=t.stateNode),t=t.child,t!==null))for($f(t,e,n),t=t.sibling;t!==null;)$f(t,e,n),t=t.sibling}function nR(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);It(e,r,n),e[Rt]=t,e[tn]=n}catch(o){Ae(t,t.return,o)}}var xr=!1,ot=!1,im=!1,SS=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Q$(t,e){if(t=t.containerInfo,Hv=Kf,t=HC(t),d0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qv={focusedElem:t,selectionRange:n},Kf=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){switch(e=bt,o=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var v=Co(n.type,i);t=r.getSnapshotBeforeUpdate(v,o),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){Ae(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Fv(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fv(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(z(163))}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}}function rR(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:_r(t,n),r&4&&ec(5,n);break;case 1:if(_r(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ae(n,n.return,a)}else{var i=Co(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ae(n,n.return,a)}}r&64&&QO(n),r&512&&Il(n,n.return);break;case 3:if(_r(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{sO(t,e)}catch(a){Ae(n,n.return,a)}}break;case 27:e===null&&r&4&&nR(n);case 26:case 5:_r(t,n),e===null&&r&4&&eR(n),r&512&&Il(n,n.return);break;case 12:_r(t,n);break;case 31:_r(t,n),r&4&&aR(t,n);break;case 13:_r(t,n),r&4&&sR(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=s2.bind(null,n),C2(t,n))));break;case 22:if(r=n.memoizedState!==null||xr,!r){e=e!==null&&e.memoizedState!==null||ot,i=xr;var o=ot;xr=r,(ot=e)&&!o?wr(t,n,(n.subtreeFlags&8772)!==0):_r(t,n),xr=i,ot=o}break;case 30:break;default:_r(t,n)}}function iR(t){var e=t.alternate;e!==null&&(t.alternate=null,iR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&a0(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Fe=null,Wt=!1;function br(t,e,n){for(n=n.child;n!==null;)oR(t,e,n),n=n.sibling}function oR(t,e,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 26:ot||sr(n,e),br(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||sr(n,e);var r=Fe,i=Wt;Ui(n.type)&&(Fe=n.stateNode,Wt=!1),br(t,e,n),$l(n.stateNode),Fe=r,Wt=i;break;case 5:ot||sr(n,e);case 6:if(r=Fe,i=Wt,Fe=null,br(t,e,n),Fe=r,Wt=i,Fe!==null)if(Wt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(o){Ae(n,e,o)}else try{Fe.removeChild(n.stateNode)}catch(o){Ae(n,e,o)}break;case 18:Fe!==null&&(Wt?(t=Fe,DS(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),es(t)):DS(Fe,n.stateNode));break;case 4:r=Fe,i=Wt,Fe=n.stateNode.containerInfo,Wt=!0,br(t,e,n),Fe=r,Wt=i;break;case 0:case 11:case 14:case 15:Di(2,n,e),ot||Di(4,n,e),br(t,e,n);break;case 1:ot||(sr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&ZO(n,e,r)),br(t,e,n);break;case 21:br(t,e,n);break;case 22:ot=(r=ot)||n.memoizedState!==null,br(t,e,n),ot=r;break;default:br(t,e,n)}}function aR(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{es(t)}catch(n){Ae(e,e.return,n)}}}function sR(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{es(t)}catch(n){Ae(e,e.return,n)}}function Z$(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new SS),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new SS),e;default:throw Error(z(435,t.tag))}}function xc(t,e){var n=Z$(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=l2.bind(null,t,r);r.then(i,i)}})}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 27:if(Ui(s.type)){Fe=s.stateNode,Wt=!1;break e}break;case 5:Fe=s.stateNode,Wt=!1;break e;case 3:case 4:Fe=s.stateNode.containerInfo,Wt=!0;break e}s=s.return}if(Fe===null)throw Error(z(160));oR(o,a,i),Fe=null,Wt=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)lR(e,t),e=e.sibling}var Yn=null;function lR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yt(e,t),Jt(t),r&4&&(Di(3,t,t.return),ec(3,t),Di(5,t,t.return));break;case 1:Yt(e,t),Jt(t),r&512&&(ot||n===null||sr(n,n.return)),r&64&&xr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Yn;if(Yt(e,t),Jt(t),r&512&&(ot||n===null||sr(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Wu]||o[Rt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),It(o,r,n),o[Rt]=t,_t(o),r=o;break e;case"link":var a=zS("link","href",i).get(r+(n.href||""));if(a){for(var s=0;s<a.length;s++)if(o=a[s],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(s,1);break t}}o=i.createElement(r),It(o,r,n),i.head.appendChild(o);break;case"meta":if(a=zS("meta","content",i).get(r+(n.content||""))){for(s=0;s<a.length;s++)if(o=a[s],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(s,1);break t}}o=i.createElement(r),It(o,r,n),i.head.appendChild(o);break;default:throw Error(z(468,r))}o[Rt]=t,_t(o),r=o}t.stateNode=r}else GS(i,t.type,t.stateNode);else t.stateNode=jS(i,r,t.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?GS(i,t.type,t.stateNode):jS(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&nm(t,t.memoizedProps,n.memoizedProps)}break;case 27:Yt(e,t),Jt(t),r&512&&(ot||n===null||sr(n,n.return)),n!==null&&r&4&&nm(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Yt(e,t),Jt(t),r&512&&(ot||n===null||sr(n,n.return)),t.flags&32){i=t.stateNode;try{Fa(i,"")}catch(v){Ae(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,nm(t,i,n!==null?n.memoizedProps:i)),r&1024&&(im=!0);break;case 6:if(Yt(e,t),Jt(t),r&4){if(t.stateNode===null)throw Error(z(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){Ae(t,t.return,v)}}break;case 3:if(pf=null,i=Yn,Yn=qf(e.containerInfo),Yt(e,t),Yn=i,Jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{es(e.containerInfo)}catch(v){Ae(t,t.return,v)}im&&(im=!1,uR(t));break;case 4:r=Yn,Yn=qf(t.stateNode.containerInfo),Yt(e,t),Jt(t),Yn=r;break;case 12:Yt(e,t),Jt(t);break;case 31:Yt(e,t),Jt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,xc(t,r)));break;case 13:Yt(e,t),Jt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(bh=vn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,xc(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=xr,c=ot;if(xr=u||i,ot=c||l,Yt(e,t),ot=c,xr=u,Jt(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||xr||ot||to(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(o=l.stateNode,i)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){Ae(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){Ae(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;i?kS(m,!0):kS(l.stateNode,!1)}catch(v){Ae(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,xc(t,n))));break;case 19:Yt(e,t),Jt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,xc(t,r)));break;case 30:break;case 21:break;default:Yt(e,t),Jt(t)}}function Jt(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(tR(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var i=n.stateNode,o=rm(t);$f(t,o,i);break;case 5:var a=n.stateNode;n.flags&32&&(Fa(a,""),n.flags&=-33);var s=rm(t);$f(t,s,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=rm(t);$v(t,u,l);break;default:throw Error(z(161))}}catch(c){Ae(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uR(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;uR(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function _r(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)rR(t,e.alternate,e),e=e.sibling}function to(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Di(4,e,e.return),to(e);break;case 1:sr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&ZO(e,e.return,n),to(e);break;case 27:$l(e.stateNode);case 26:case 5:sr(e,e.return),to(e);break;case 22:e.memoizedState===null&&to(e);break;case 30:to(e);break;default:to(e)}t=t.sibling}}function wr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,o=e,a=o.flags;switch(o.tag){case 0:case 11:case 15:wr(i,o,n),ec(4,o);break;case 1:if(wr(i,o,n),r=o,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Ae(r,r.return,u)}if(r=o,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)aO(l[i],s)}catch(u){Ae(r,r.return,u)}}n&&a&64&&QO(o),Il(o,o.return);break;case 27:nR(o);case 26:case 5:wr(i,o,n),n&&r===null&&a&4&&eR(o),Il(o,o.return);break;case 12:wr(i,o,n);break;case 31:wr(i,o,n),n&&a&4&&aR(i,o);break;case 13:wr(i,o,n),n&&a&4&&sR(i,o);break;case 22:o.memoizedState===null&&wr(i,o,n),Il(o,o.return);break;case 30:break;default:wr(i,o,n)}e=e.sibling}}function L0(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Qu(n))}function B0(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qu(t))}function qn(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cR(t,e,n,r),e=e.sibling}function cR(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:qn(t,e,n,r),i&2048&&ec(9,e);break;case 1:qn(t,e,n,r);break;case 3:qn(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qu(t)));break;case 12:if(i&2048){qn(t,e,n,r),t=e.stateNode;try{var o=e.memoizedProps,a=o.id,s=o.onPostCommit;typeof s=="function"&&s(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Ae(e,e.return,l)}}else qn(t,e,n,r);break;case 31:qn(t,e,n,r);break;case 13:qn(t,e,n,r);break;case 23:break;case 22:o=e.stateNode,a=e.alternate,e.memoizedState!==null?o._visibility&2?qn(t,e,n,r):Nl(t,e):o._visibility&2?qn(t,e,n,r):(o._visibility|=2,ia(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&L0(a,e);break;case 24:qn(t,e,n,r),i&2048&&B0(e.alternate,e);break;default:qn(t,e,n,r)}}function ia(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var o=t,a=e,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:ia(o,a,s,l,i),ec(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&2?ia(o,a,s,l,i):Nl(o,a):(c._visibility|=2,ia(o,a,s,l,i)),i&&u&2048&&L0(a.alternate,a);break;case 24:ia(o,a,s,l,i),i&&u&2048&&B0(a.alternate,a);break;default:ia(o,a,s,l,i)}e=e.sibling}}function Nl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Nl(n,r),i&2048&&L0(r.alternate,r);break;case 24:Nl(n,r),i&2048&&B0(r.alternate,r);break;default:Nl(n,r)}e=e.sibling}}var bl=8192;function Ko(t,e,n){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)fR(t,e,n),t=t.sibling}function fR(t,e,n){switch(t.tag){case 26:Ko(t,e,n),t.flags&bl&&t.memoizedState!==null&&B2(n,Yn,t.memoizedState,t.memoizedProps);break;case 5:Ko(t,e,n);break;case 3:case 4:var r=Yn;Yn=qf(t.stateNode.containerInfo),Ko(t,e,n),Yn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=bl,bl=16777216,Ko(t,e,n),bl=r):Ko(t,e,n));break;default:Ko(t,e,n)}}function dR(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function el(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bt=r,pR(r,t)}dR(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hR(t),t=t.sibling}function hR(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&Di(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,df(t)):el(t);break;default:el(t)}}function df(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bt=r,pR(r,t)}dR(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Di(8,e,e.return),df(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,df(e));break;default:df(e)}t=t.sibling}}function pR(t,e){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:Di(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Qu(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bt=r;else e:for(n=t;bt!==null;){r=bt;var i=r.sibling,o=r.return;if(iR(r),r===n){bt=null;break e}if(i!==null){i.return=o,bt=i;break e}bt=o}}}var e2={getCacheForType:function(t){var e=Pt(at),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Pt(at).controller.signal}},t2=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ie=null,he=null,pe=0,Ee=0,ln=null,gi=!1,Ms=!1,j0=!1,Gr=0,Ze=0,ki=0,_o=0,z0=0,mn=0,Wa=0,Dl=null,Xt=null,Uv=!1,bh=0,mR=0,Uf=1/0,Lf=null,Ai=null,pt=0,xi=null,Xa=null,kr=0,Lv=0,Bv=null,vR=null,kl=0,jv=null;function bn(){return _e&2&&pe!==0?pe&-pe:re.T!==null?H0():AC()}function gR(){if(mn===0)if(!(pe&536870912)||me){var t=yc;yc<<=1,!(yc&3932160)&&(yc=262144),mn=t}else mn=536870912;return t=wn.current,t!==null&&(t.flags|=32),mn}function en(t,e,n){(t===Ie&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),yi(t,pe,mn,!1)),Ju(t,n),(!(_e&2)||t!==Ie)&&(t===Ie&&(!(_e&2)&&(_o|=n),Ze===4&&yi(t,pe,mn,!1)),pr(t))}function yR(t,e,n){if(_e&6)throw Error(z(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Yu(t,e),i=r?i2(t,e):om(t,e,!0),o=r;do{if(i===0){Ms&&!r&&yi(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!n2(n)){i=om(t,e,!1),o=!1;continue}if(i===2){if(o=e,t.errorRecoveryDisabledLanes&o)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var s=t;i=Dl;var l=s.current.memoizedState.isDehydrated;if(l&&(Qa(s,a).flags|=256),a=om(s,a,!1),a!==2){if(j0&&!l){s.errorRecoveryDisabledLanes|=o,_o|=o,i=4;break e}o=Xt,Xt=i,o!==null&&(Xt===null?Xt=o:Xt.push.apply(Xt,o))}i=a}if(o=!1,i!==2)continue}}if(i===1){Qa(t,0),yi(t,e,0,!0);break}e:{switch(r=t,o=i,o){case 0:case 1:throw Error(z(345));case 4:if((e&4194048)!==e)break;case 6:yi(r,e,mn,!gi);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(z(329))}if((e&62914560)===e&&(i=bh+300-vn(),10<i)){if(yi(r,e,mn,!gi),lh(r,0,!0)!==0)break e;kr=e,r.timeoutHandle=LR(wS.bind(null,r,n,Xt,Lf,Uv,e,mn,_o,Wa,gi,o,"Throttled",-0,0),i);break e}wS(r,n,Xt,Lf,Uv,e,mn,_o,Wa,gi,o,null,-0,0)}}break}while(!0);pr(t)}function wS(t,e,n,r,i,o,a,s,l,u,c,f,h,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Or},fR(e,o,f);var v=(o&62914560)===o?bh-vn():(o&4194048)===o?mR-vn():0;if(v=j2(f,v),v!==null){kr=o,t.cancelPendingCommit=v(ES.bind(null,t,e,o,n,r,i,a,s,l,c,f,null,h,m)),yi(t,o,a,!u);return}}ES(t,e,o,n,r,i,a,s,l)}function n2(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Sn(o(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e,n,r){e&=~z0,e&=~_o,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var o=31-yn(i),a=1<<o;r[o]=-1,i&=~a}n!==0&&wC(t,n,e)}function _h(){return _e&6?!0:(tc(0),!1)}function G0(){if(he!==null){if(Ee===0)var t=he.return;else t=he,Rr=Lo=null,C0(t),Da=null,Xl=0,t=he;for(;t!==null;)XO(t.alternate,t),t=t.return;he=null}}function Qa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,w2(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),kr=0,G0(),Ie=t,he=n=Nr(t.current,null),pe=e,Ee=0,ln=null,gi=!1,Ms=Yu(t,e),j0=!1,Wa=mn=z0=_o=ki=Ze=0,Xt=Dl=null,Uv=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-yn(r),o=1<<i;e|=t[i],r&=~o}return Gr=e,dh(),n}function bR(t,e){se=null,re.H=Zl,e===Rs||e===ph?(e=eS(),Ee=3):e===_0?(e=eS(),Ee=4):Ee=e===$0?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ln=e,he===null&&(Ze=1,Df(t,Pn(e,t.current)))}function _R(){var t=wn.current;return t===null?!0:(pe&4194048)===pe?kn===null:(pe&62914560)===pe||pe&536870912?t===kn:!1}function SR(){var t=re.H;return re.H=Zl,t===null?Zl:t}function wR(){var t=re.A;return re.A=e2,t}function Bf(){Ze=4,gi||(pe&4194048)!==pe&&wn.current!==null||(Ms=!0),!(ki&134217727)&&!(_o&134217727)||Ie===null||yi(Ie,pe,mn,!1)}function om(t,e,n){var r=_e;_e|=2;var i=SR(),o=wR();(Ie!==t||pe!==e)&&(Lf=null,Qa(t,e)),e=!1;var a=Ze;e:do try{if(Ee!==0&&he!==null){var s=he,l=ln;switch(Ee){case 8:G0(),a=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(e=!0);var u=Ee;if(Ee=0,ln=null,Sa(t,s,l,u),n&&Ms){a=0;break e}break;default:u=Ee,Ee=0,ln=null,Sa(t,s,l,u)}}r2(),a=Ze;break}catch(c){bR(t,c)}while(!0);return e&&t.shellSuspendCounter++,Rr=Lo=null,_e=r,re.H=i,re.A=o,he===null&&(Ie=null,pe=0,dh()),a}function r2(){for(;he!==null;)TR(he)}function i2(t,e){var n=_e;_e|=2;var r=SR(),i=wR();Ie!==t||pe!==e?(Lf=null,Uf=vn()+500,Qa(t,e)):Ms=Yu(t,e);e:do try{if(Ee!==0&&he!==null){e=he;var o=ln;t:switch(Ee){case 1:Ee=0,ln=null,Sa(t,e,o,1);break;case 2:case 9:if(Z_(o)){Ee=0,ln=null,TS(e);break}e=function(){Ee!==2&&Ee!==9||Ie!==t||(Ee=7),pr(t)},o.then(e,e);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Z_(o)?(Ee=0,ln=null,TS(e)):(Ee=0,ln=null,Sa(t,e,o,7));break;case 5:var a=null;switch(he.tag){case 26:a=he.memoizedState;case 5:case 27:var s=he;if(a?HR(a):s.stateNode.complete){Ee=0,ln=null;var l=s.sibling;if(l!==null)he=l;else{var u=s.return;u!==null?(he=u,Sh(u)):he=null}break t}}Ee=0,ln=null,Sa(t,e,o,5);break;case 6:Ee=0,ln=null,Sa(t,e,o,6);break;case 8:G0(),Ze=6;break e;default:throw Error(z(462))}}o2();break}catch(c){bR(t,c)}while(!0);return Rr=Lo=null,re.H=r,re.A=i,_e=n,he!==null?0:(Ie=null,pe=0,dh(),Ze)}function o2(){for(;he!==null&&!Ok();)TR(he)}function TR(t){var e=WO(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,e===null?Sh(t):he=e}function TS(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=vS(n,e,e.pendingProps,e.type,void 0,pe);break;case 11:e=vS(n,e,e.pendingProps,e.type.render,e.ref,pe);break;case 5:C0(e);default:XO(n,e),e=he=XC(e,Gr),e=WO(n,e,Gr)}t.memoizedProps=t.pendingProps,e===null?Sh(t):he=e}function Sa(t,e,n,r){Rr=Lo=null,C0(e),Da=null,Xl=0;var i=e.return;try{if(K$(t,i,e,n,pe)){Ze=1,Df(t,Pn(n,t.current)),he=null;return}}catch(o){if(i!==null)throw he=i,o;Ze=1,Df(t,Pn(n,t.current)),he=null;return}e.flags&32768?(me||r===1?t=!0:Ms||pe&536870912?t=!1:(gi=t=!0,(r===2||r===9||r===3||r===6)&&(r=wn.current,r!==null&&r.tag===13&&(r.flags|=16384))),ER(e,t)):Sh(e)}function Sh(t){var e=t;do{if(e.flags&32768){ER(e,gi);return}t=e.return;var n=W$(e.alternate,e,Gr);if(n!==null){he=n;return}if(e=e.sibling,e!==null){he=e;return}he=e=t}while(e!==null);Ze===0&&(Ze=5)}function ER(t,e){do{var n=X$(t.alternate,t);if(n!==null){n.flags&=32767,he=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){he=t;return}he=t=n}while(t!==null);Ze=6,he=null}function ES(t,e,n,r,i,o,a,s,l){t.cancelPendingCommit=null;do wh();while(pt!==0);if(_e&6)throw Error(z(327));if(e!==null){if(e===t.current)throw Error(z(177));if(o=e.lanes|e.childLanes,o|=h0,Lk(t,n,o,a,s,l),t===Ie&&(he=Ie=null,pe=0),Xa=e,xi=t,kr=n,Lv=o,Bv=i,vR=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,u2(Tf,function(){return RR(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=re.T,re.T=null,i=Se.p,Se.p=2,a=_e,_e|=4;try{Q$(t,e,n)}finally{_e=a,Se.p=i,re.T=r}}pt=1,AR(),xR(),CR()}}function AR(){if(pt===1){pt=0;var t=xi,e=Xa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=re.T,re.T=null;var r=Se.p;Se.p=2;var i=_e;_e|=4;try{lR(e,t);var o=qv,a=HC(t.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&GC(s.ownerDocument.documentElement,s)){if(l!==null&&d0(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=s.textContent.length,y=Math.min(l.start,v),_=l.end===void 0?y:Math.min(l.end,v);!m.extend&&y>_&&(a=_,_=y,y=a);var g=F_(s,y),b=F_(s,_);if(g&&b&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var S=f.createRange();S.setStart(g.node,g.offset),m.removeAllRanges(),y>_?(m.addRange(S),m.extend(b.node,b.offset)):(S.setEnd(b.node,b.offset),m.addRange(S))}}}}for(f=[],m=s;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var T=f[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Kf=!!Hv,qv=Hv=null}finally{_e=i,Se.p=r,re.T=n}}t.current=e,pt=2}}function xR(){if(pt===2){pt=0;var t=xi,e=Xa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=re.T,re.T=null;var r=Se.p;Se.p=2;var i=_e;_e|=4;try{rR(t,e.alternate,e)}finally{_e=i,Se.p=r,re.T=n}}pt=3}}function CR(){if(pt===4||pt===3){pt=0,Rk();var t=xi,e=Xa,n=kr,r=vR;e.subtreeFlags&10256||e.flags&10256?pt=5:(pt=0,Xa=xi=null,OR(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Ai=null),o0(n),e=e.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Ku,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=re.T,i=Se.p,Se.p=2,re.T=null;try{for(var o=t.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{re.T=e,Se.p=i}}kr&3&&wh(),pr(t),i=t.pendingLanes,n&261930&&i&42?t===jv?kl++:(kl=0,jv=t):kl=0,tc(0)}}function OR(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Qu(e)))}function wh(){return AR(),xR(),CR(),RR()}function RR(){if(pt!==5)return!1;var t=xi,e=Lv;Lv=0;var n=o0(kr),r=re.T,i=Se.p;try{Se.p=32>n?32:n,re.T=null,n=Bv,Bv=null;var o=xi,a=kr;if(pt=0,Xa=xi=null,kr=0,_e&6)throw Error(z(331));var s=_e;if(_e|=4,hR(o.current),cR(o,o.current,a,n),_e=s,tc(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Ku,o)}catch{}return!0}finally{Se.p=i,re.T=r,OR(t,e)}}function AS(t,e,n){e=Pn(n,e),e=Nv(t.stateNode,e,2),t=Ei(t,e,2),t!==null&&(Ju(t,2),pr(t))}function Ae(t,e,n){if(t.tag===3)AS(t,t,n);else for(;e!==null;){if(e.tag===3){AS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=Pn(n,t),n=qO(2),r=Ei(e,n,2),r!==null&&(VO(n,r,e,t),Ju(r,2),pr(r));break}}e=e.return}}function am(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new t2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(j0=!0,i.add(n),t=a2.bind(null,t,e,n),e.then(t,t))}function a2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ie===t&&(pe&n)===n&&(Ze===4||Ze===3&&(pe&62914560)===pe&&300>vn()-bh?!(_e&2)&&Qa(t,0):z0|=n,Wa===pe&&(Wa=0)),pr(t)}function MR(t,e){e===0&&(e=SC()),t=Uo(t,e),t!==null&&(Ju(t,e),pr(t))}function s2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MR(t,n)}function l2(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(e),MR(t,n)}function u2(t,e){return r0(t,e)}var jf=null,oa=null,zv=!1,zf=!1,sm=!1,bi=0;function pr(t){t!==oa&&t.next===null&&(oa===null?jf=oa=t:oa=oa.next=t),zf=!0,zv||(zv=!0,f2())}function tc(t,e){if(!sm&&zf){sm=!0;do for(var n=!1,r=jf;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-yn(42|t)+1)-1,o&=i&~(a&~s),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,xS(r,o))}else o=pe,o=lh(r,r===Ie?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||Yu(r,o)||(n=!0,xS(r,o));r=r.next}while(n);sm=!1}}function c2(){PR()}function PR(){zf=zv=!1;var t=0;bi!==0&&S2()&&(t=bi);for(var e=vn(),n=null,r=jf;r!==null;){var i=r.next,o=IR(r,e);o===0?(r.next=null,n===null?jf=i:n.next=i,i===null&&(oa=n)):(n=r,(t!==0||o&3)&&(zf=!0)),r=i}pt!==0&&pt!==5||tc(t),bi!==0&&(bi=0)}function IR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var a=31-yn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Uk(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}if(e=Ie,n=pe,n=lh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&kp(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Yu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&kp(r),o0(n)){case 2:case 8:n=bC;break;case 32:n=Tf;break;case 268435456:n=_C;break;default:n=Tf}return r=NR.bind(null,t),n=r0(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&kp(r),t.callbackPriority=2,t.callbackNode=null,2}function NR(t,e){if(pt!==0&&pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(wh()&&t.callbackNode!==n)return null;var r=pe;return r=lh(t,t===Ie?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(yR(t,r,e),IR(t,vn()),t.callbackNode!=null&&t.callbackNode===n?NR.bind(null,t):null)}function xS(t,e){if(wh())return null;yR(t,e,!0)}function f2(){T2(function(){_e&6?r0(yC,c2):PR()})}function H0(){if(bi===0){var t=Ka;t===0&&(t=gc,gc<<=1,!(gc&261888)&&(gc=256)),bi=t}return bi}function CS(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:nf(""+t)}function OS(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function d2(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var o=CS((i[tn]||null).action),a=r.submitter;a&&(e=(e=a[tn]||null)?CS(e.formAction):a.getAttribute("formAction"),e!==null&&(o=e,a=null));var s=new uh("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(bi!==0){var l=a?OS(i,a):new FormData(i);Pv(n,{pending:!0,data:l,method:i.method,action:o},null,l)}}else typeof o=="function"&&(s.preventDefault(),l=a?OS(i,a):new FormData(i),Pv(n,{pending:!0,data:l,method:i.method,action:o},o,l))},currentTarget:i}]})}}for(var lm=0;lm<bv.length;lm++){var um=bv[lm],h2=um.toLowerCase(),p2=um[0].toUpperCase()+um.slice(1);nr(h2,"on"+p2)}nr(VC,"onAnimationEnd");nr(FC,"onAnimationIteration");nr(KC,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(M$,"onTransitionRun");nr(P$,"onTransitionStart");nr(I$,"onTransitionCancel");nr(YC,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function DR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){Af(c)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){Af(c)}i.currentTarget=null,o=l}}}}function de(t,e){var n=e[fv];n===void 0&&(n=e[fv]=new Set);var r=t+"__bubble";n.has(r)||(kR(e,t,2,!1),n.add(r))}function cm(t,e,n){var r=0;e&&(r|=4),kR(n,t,r,e)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function q0(t){if(!t[Cc]){t[Cc]=!0,xC.forEach(function(n){n!=="selectionchange"&&(m2.has(n)||cm(n,!1,t),cm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cc]||(e[Cc]=!0,cm("selectionchange",!1,e))}}function kR(t,e,n,r){switch(YR(e)){case 2:var i=H2;break;case 8:i=q2;break;default:i=Y0}n=i.bind(null,e,n,t),i=void 0,!vv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;s!==null;){if(a=da(s),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=o=a;continue e}s=s.parentNode}}r=r.return}DC(function(){var u=o,c=l0(n),f=[];e:{var h=JC.get(t);if(h!==void 0){var m=uh,v=t;switch(t){case"keypress":if(of(n)===0)break e;case"keydown":case"keyup":m=l$;break;case"focusin":v="focus",m=jp;break;case"focusout":v="blur",m=jp;break;case"beforeblur":case"afterblur":m=jp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f$;break;case VC:case FC:case KC:m=Zk;break;case YC:m=h$;break;case"scroll":case"scrollend":m=Yk;break;case"wheel":m=m$;break;case"copy":case"cut":case"paste":m=t$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=L_;break;case"toggle":case"beforetoggle":m=g$}var y=(e&4)!==0,_=!y&&(t==="scroll"||t==="scrollend"),g=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,S;b!==null;){var T=b;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||g===null||(T=Fl(b,g),T!=null&&y.push(tu(b,T,S))),_)break;b=b.return}0<y.length&&(h=new m(h,v,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==mv&&(v=n.relatedTarget||n.fromElement)&&(da(v)||v[xs]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?da(v):null,v!==null&&(_=Fu(v),y=v.tag,v!==_||y!==5&&y!==27&&y!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=$_,T="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=L_,T="onPointerLeave",g="onPointerEnter",b="pointer"),_=m==null?h:gl(m),S=v==null?h:gl(v),h=new y(T,b+"leave",m,n,c),h.target=_,h.relatedTarget=S,T=null,da(c)===u&&(y=new y(g,b+"enter",v,n,c),y.target=S,y.relatedTarget=_,T=y),_=T,m&&v)t:{for(y=v2,g=m,b=v,S=0,T=g;T;T=y(T))S++;T=0;for(var w=b;w;w=y(w))T++;for(;0<S-T;)g=y(g),S--;for(;0<T-S;)b=y(b),T--;for(;S--;){if(g===b||b!==null&&g===b.alternate){y=g;break t}g=y(g),b=y(b)}y=null}else y=null;m!==null&&RS(f,h,m,y,!1),v!==null&&_!==null&&RS(f,_,v,y,!0)}}e:{if(h=u?gl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=G_;else if(z_(h))if(jC)E=C$;else{E=A$;var A=E$}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&s0(u.elementType)&&(E=G_):E=x$;if(E&&(E=E(t,u))){BC(f,E,n,c);break e}A&&A(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&pv(h,"number",h.value)}switch(A=u?gl(u):window,t){case"focusin":(z_(A)||A.contentEditable==="true")&&(ma=A,gv=u,xl=null);break;case"focusout":xl=gv=ma=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,K_(f,n,c);break;case"selectionchange":if(R$)break;case"keydown":case"keyup":K_(f,n,c)}var x;if(f0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else pa?UC(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&($C&&n.locale!=="ko"&&(pa||C!=="onCompositionStart"?C==="onCompositionEnd"&&pa&&(x=kC()):(vi=c,u0="value"in vi?vi.value:vi.textContent,pa=!0)),A=Gf(u,C),0<A.length&&(C=new U_(C,t,null,n,c),f.push({event:C,listeners:A}),x?C.data=x:(x=LC(n),x!==null&&(C.data=x)))),(x=b$?_$(t,n):S$(t,n))&&(C=Gf(u,"onBeforeInput"),0<C.length&&(A=new U_("onBeforeInput","beforeinput",null,n,c),f.push({event:A,listeners:C}),A.data=x)),d2(f,t,u,n,c)}DR(f,e)})}function tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Fl(t,n),i!=null&&r.unshift(tu(t,i,o)),i=Fl(t,e),i!=null&&r.push(tu(t,i,o))),t.tag===3)return r;t=t.return}return[]}function v2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function RS(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=Fl(n,o),u!=null&&a.unshift(tu(n,u,l))):i||(u=Fl(n,o),u!=null&&a.push(tu(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function MS(t){return(typeof t=="string"?t:""+t).replace(g2,`
`).replace(y2,"")}function $R(t,e){return e=MS(e),MS(t)===e}function Oe(t,e,n,r,i,o){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Fa(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Fa(t,""+r);break;case"className":_c(t,"class",r);break;case"tabIndex":_c(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":_c(t,n,r);break;case"style":NC(t,r,o);break;case"data":if(e!=="object"){_c(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=nf(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&Oe(t,e,"name",i.name,i,null),Oe(t,e,"formEncType",i.formEncType,i,null),Oe(t,e,"formMethod",i.formMethod,i,null),Oe(t,e,"formTarget",i.formTarget,i,null)):(Oe(t,e,"encType",i.encType,i,null),Oe(t,e,"method",i.method,i,null),Oe(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=nf(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Or);break;case"onScroll":r!=null&&de("scroll",t);break;case"onScrollEnd":r!=null&&de("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=nf(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":de("beforetoggle",t),de("toggle",t),tf(t,"popover",r);break;case"xlinkActuate":gr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tf(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Fk.get(n)||n,tf(t,n,r))}}function Gv(t,e,n,r,i,o){switch(n){case"style":NC(t,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Fa(t,r):(typeof r=="number"||typeof r=="bigint")&&Fa(t,""+r);break;case"onScroll":r!=null&&de("scroll",t);break;case"onScrollEnd":r!=null&&de("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!CC.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),o=t[tn]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,i),typeof r=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):tf(t,n,r)}}}function It(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",t),de("load",t);var r=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(a!=null)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Oe(t,e,o,a,n,null)}}i&&Oe(t,e,"srcSet",n.srcSet,n,null),r&&Oe(t,e,"src",n.src,n,null);return;case"input":de("invalid",t);var s=o=a=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":o=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(z(137,e));break;default:Oe(t,e,r,c,n,null)}}MC(t,o,s,l,u,a,i,!1);return;case"select":de("invalid",t),r=a=o=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":r=s;default:Oe(t,e,i,s,n,null)}e=o,n=a,t.multiple=!!r,e!=null?Pa(t,!!r,e,!1):n!=null&&Pa(t,!!r,n,!0);return;case"textarea":de("invalid",t),o=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(z(91));break;default:Oe(t,e,a,s,n,null)}IC(t,r,i,o);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Oe(t,e,l,r,n,null)}return;case"dialog":de("beforetoggle",t),de("toggle",t),de("cancel",t),de("close",t);break;case"iframe":case"object":de("load",t);break;case"video":case"audio":for(r=0;r<eu.length;r++)de(eu[r],t);break;case"image":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"embed":case"source":case"link":de("error",t),de("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Oe(t,e,u,r,n,null)}return;default:if(s0(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Gv(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&Oe(t,e,s,r,n,null))}function b2(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,u=null,c=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(m)||Oe(t,e,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":o=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":c=m;break;case"value":a=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(z(137,e));break;default:m!==f&&Oe(t,e,h,m,r,f)}}hv(t,a,s,l,u,c,o,i);return;case"select":m=a=s=h=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(o)||Oe(t,e,o,null,r,l)}for(i in r)if(o=r[i],l=n[i],r.hasOwnProperty(i)&&(o!=null||l!=null))switch(i){case"value":h=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&Oe(t,e,i,o,r,l)}e=s,n=a,r=m,h!=null?Pa(t,!!n,h,!1):!!r!=!!n&&(e!=null?Pa(t,!!n,e,!0):Pa(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:Oe(t,e,s,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(z(91));break;default:i!==o&&Oe(t,e,a,i,r,o)}PC(t,h,m);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:Oe(t,e,v,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Oe(t,e,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&Oe(t,e,y,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,e));break;default:Oe(t,e,u,h,r,m)}return;default:if(s0(e)){for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!==void 0&&!r.hasOwnProperty(_)&&Gv(t,e,_,void 0,r,h);for(c in r)h=r[c],m=n[c],!r.hasOwnProperty(c)||h===m||h===void 0&&m===void 0||Gv(t,e,c,h,r,m);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&Oe(t,e,g,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h==null&&m==null||Oe(t,e,f,h,r,m)}function PS(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&PS(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&PS(f)&&(l=l.responseEnd,a+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(o+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hv=null,qv=null;function Hf(t){return t.nodeType===9?t:t.ownerDocument}function IS(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UR(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Vv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dm=null;function S2(){var t=window.event;return t&&t.type==="popstate"?t===dm?!1:(dm=t,!0):(dm=null,!1)}var LR=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,NS=typeof Promise=="function"?Promise:void 0,T2=typeof queueMicrotask=="function"?queueMicrotask:typeof NS<"u"?function(t){return NS.resolve(null).then(t).catch(E2)}:LR;function E2(t){setTimeout(function(){throw t})}function Ui(t){return t==="head"}function DS(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),es(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")$l(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,$l(n);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[Wu]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}else n==="body"&&$l(t.ownerDocument.body);n=i}while(n);es(e)}function kS(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Fv(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Fv(n),a0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function A2(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Wu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function x2(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function BR(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=$n(t.nextSibling),t===null))return null;return t}function Kv(t){return t.data==="$?"||t.data==="$~"}function Yv(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function C2(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function $n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Jv=null;function $S(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return $n(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function US(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function jR(t,e,n){switch(e=Hf(n),t){case"html":if(t=e.documentElement,!t)throw Error(z(452));return t;case"head":if(t=e.head,!t)throw Error(z(453));return t;case"body":if(t=e.body,!t)throw Error(z(454));return t;default:throw Error(z(451))}}function $l(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);a0(t)}var Bn=new Map,LS=new Set;function qf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yr=Se.d;Se.d={f:O2,r:R2,D:M2,C:P2,L:I2,m:N2,X:k2,S:D2,M:$2};function O2(){var t=Yr.f(),e=_h();return t||e}function R2(t){var e=Cs(t);e!==null&&e.tag===5&&e.type==="form"?NO(e):Yr.r(t)}var Ps=typeof document>"u"?null:document;function zR(t,e,n){var r=Ps;if(r&&typeof e=="string"&&e){var i=Mn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),LS.has(i)||(LS.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),It(e,"link",t),_t(e),r.head.appendChild(e)))}}function M2(t){Yr.D(t),zR("dns-prefetch",t,null)}function P2(t,e){Yr.C(t,e),zR("preconnect",t,e)}function I2(t,e,n){Yr.L(t,e,n);var r=Ps;if(r&&t&&e){var i='link[rel="preload"][as="'+Mn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Mn(n.imageSizes)+'"]')):i+='[href="'+Mn(t)+'"]';var o=i;switch(e){case"style":o=Za(t);break;case"script":o=Is(t)}Bn.has(o)||(t=qe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Bn.set(o,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(nc(o))||e==="script"&&r.querySelector(rc(o))||(e=r.createElement("link"),It(e,"link",t),_t(e),r.head.appendChild(e)))}}function N2(t,e){Yr.m(t,e);var n=Ps;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Mn(r)+'"][href="'+Mn(t)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Is(t)}if(!Bn.has(o)&&(t=qe({rel:"modulepreload",href:t},e),Bn.set(o,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rc(o)))return}r=n.createElement("link"),It(r,"link",t),_t(r),n.head.appendChild(r)}}}function D2(t,e,n){Yr.S(t,e,n);var r=Ps;if(r&&t){var i=Ma(r).hoistableStyles,o=Za(t);e=e||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(nc(o)))s.loading=5;else{t=qe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Bn.get(o))&&V0(t,n);var l=a=r.createElement("link");_t(l),It(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,hf(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}}function k2(t,e){Yr.X(t,e);var n=Ps;if(n&&t){var r=Ma(n).hoistableScripts,i=Is(t),o=r.get(i);o||(o=n.querySelector(rc(i)),o||(t=qe({src:t,async:!0},e),(e=Bn.get(i))&&F0(t,e),o=n.createElement("script"),_t(o),It(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function $2(t,e){Yr.M(t,e);var n=Ps;if(n&&t){var r=Ma(n).hoistableScripts,i=Is(t),o=r.get(i);o||(o=n.querySelector(rc(i)),o||(t=qe({src:t,async:!0,type:"module"},e),(e=Bn.get(i))&&F0(t,e),o=n.createElement("script"),_t(o),It(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function BS(t,e,n,r){var i=(i=Si.current)?qf(i):null;if(!i)throw Error(z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Za(n.href),n=Ma(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Za(n.href);var o=Ma(i).hoistableStyles,a=o.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,a),(o=i.querySelector(nc(t)))&&!o._p&&(a.instance=o,a.state.loading=5),Bn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bn.set(t,n),o||U2(i,t,n,a.state))),e&&r===null)throw Error(z(528,""));return a}if(e&&r!==null)throw Error(z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Is(n),n=Ma(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,t))}}function Za(t){return'href="'+Mn(t)+'"'}function nc(t){return'link[rel="stylesheet"]['+t+"]"}function GR(t){return qe({},t,{"data-precedence":t.precedence,precedence:null})}function U2(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),It(e,"link",n),_t(e),t.head.appendChild(e))}function Is(t){return'[src="'+Mn(t)+'"]'}function rc(t){return"script[async]"+t}function jS(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Mn(n.href)+'"]');if(r)return e.instance=r,_t(r),r;var i=qe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),_t(r),It(r,"style",i),hf(r,n.precedence,t),e.instance=r;case"stylesheet":i=Za(n.href);var o=t.querySelector(nc(i));if(o)return e.state.loading|=4,e.instance=o,_t(o),o;r=GR(n),(i=Bn.get(i))&&V0(r,i),o=(t.ownerDocument||t).createElement("link"),_t(o);var a=o;return a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),It(o,"link",r),e.state.loading|=4,hf(o,n.precedence,t),e.instance=o;case"script":return o=Is(n.src),(i=t.querySelector(rc(o)))?(e.instance=i,_t(i),i):(r=n,(i=Bn.get(o))&&(r=qe({},n),F0(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),_t(i),It(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,hf(r,n.precedence,t));return e.instance}function hf(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===e)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function V0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function F0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var pf=null;function zS(t,e,n){if(pf===null){var r=new Map,i=pf=new Map;i.set(n,r)}else i=pf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var o=n[i];if(!(o[Wu]||o[Rt]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(e)||"";a=t+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function GS(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function L2(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function HR(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function B2(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Za(r.href),o=e.querySelector(nc(i));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Vf.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=o,_t(o);return}o=e.ownerDocument||e,r=GR(r),(i=Bn.get(i))&&V0(r,i),o=o.createElement("link"),_t(o);var a=o;a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),It(o,"link",r),n.instance=o}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Vf.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var hm=0;function j2(t,e){return t.stylesheets&&t.count===0&&mf(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&mf(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4+e);0<t.imgBytes&&hm===0&&(hm=62500*_2());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mf(t,t.stylesheets),t.unsuspend)){var o=t.unsuspend;t.unsuspend=null,o()}},(t.imgBytes>hm?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ff=null;function mf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ff=new Map,e.forEach(z2,t),Ff=null,Vf.call(t))}function z2(t,e){if(!(e.state.loading&4)){var n=Ff.get(t);if(n)var r=n.get(null);else{n=new Map,Ff.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),o=n.get(a)||r,o===r&&n.set(null,i),n.set(a,i),this.count++,r=Vf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var nu={$$typeof:Cr,Provider:null,Consumer:null,_currentValue:vo,_currentValue2:vo,_threadCount:0};function G2(t,e,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$p(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$p(0),this.hiddenUpdates=$p(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function qR(t,e,n,r,i,o,a,s,l,u,c,f){return t=new G2(t,e,n,a,l,u,c,f,s),e=1,o===!0&&(e|=24),o=fn(3,null,null,e),t.current=o,o.stateNode=t,e=y0(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:e},S0(o),t}function VR(t){return t?(t=ya,t):ya}function FR(t,e,n,r,i,o){i=VR(i),r.context===null?r.context=i:r.pendingContext=i,r=Ti(e),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Ei(t,r,e),n!==null&&(en(n,t,e),Ol(n,t,e))}function HS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function K0(t,e){HS(t,e),(t=t.alternate)&&HS(t,e)}function KR(t){if(t.tag===13||t.tag===31){var e=Uo(t,67108864);e!==null&&en(e,t,67108864),K0(t,67108864)}}function qS(t){if(t.tag===13||t.tag===31){var e=bn();e=i0(e);var n=Uo(t,e);n!==null&&en(n,t,e),K0(t,e)}}var Kf=!0;function H2(t,e,n,r){var i=re.T;re.T=null;var o=Se.p;try{Se.p=2,Y0(t,e,n,r)}finally{Se.p=o,re.T=i}}function q2(t,e,n,r){var i=re.T;re.T=null;var o=Se.p;try{Se.p=8,Y0(t,e,n,r)}finally{Se.p=o,re.T=i}}function Y0(t,e,n,r){if(Kf){var i=Wv(r);if(i===null)fm(t,e,r,Yf,n),VS(t,r);else if(F2(i,t,e,n,r))r.stopPropagation();else if(VS(t,r),e&4&&-1<V2.indexOf(t)){for(;i!==null;){var o=Cs(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=Zi(o.pendingLanes);if(a!==0){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-yn(a);s.entanglements[1]|=l,a&=~l}pr(o),!(_e&6)&&(Uf=vn()+500,tc(0))}}break;case 31:case 13:s=Uo(o,2),s!==null&&en(s,o,2),_h(),K0(o,2)}if(o=Wv(r),o===null&&fm(t,e,r,Yf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fm(t,e,r,null,n)}}function Wv(t){return t=l0(t),J0(t)}var Yf=null;function J0(t){if(Yf=null,t=da(t),t!==null){var e=Fu(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=hC(e),t!==null)return t;t=null}else if(n===31){if(t=pC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Yf=t,null}function YR(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mk()){case yC:return 2;case bC:return 8;case Tf:case Pk:return 32;case _C:return 268435456;default:return 32}default:return 32}}var Xv=!1,Ci=null,Oi=null,Ri=null,ru=new Map,iu=new Map,di=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VS(t,e){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(e.pointerId)}}function tl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Cs(e),e!==null&&KR(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function F2(t,e,n,r,i){switch(e){case"focusin":return Ci=tl(Ci,t,e,n,r,i),!0;case"dragenter":return Oi=tl(Oi,t,e,n,r,i),!0;case"mouseover":return Ri=tl(Ri,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ru.set(o,tl(ru.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,iu.set(o,tl(iu.get(o)||null,t,e,n,r,i)),!0}return!1}function JR(t){var e=da(t.target);if(e!==null){var n=Fu(e);if(n!==null){if(e=n.tag,e===13){if(e=hC(n),e!==null){t.blockedOn=e,R_(t.priority,function(){qS(n)});return}}else if(e===31){if(e=pC(n),e!==null){t.blockedOn=e,R_(t.priority,function(){qS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wv(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mv=r,n.target.dispatchEvent(r),mv=null}else return e=Cs(n),e!==null&&KR(e),t.blockedOn=n,!1;e.shift()}return!0}function FS(t,e,n){vf(t)&&n.delete(e)}function K2(){Xv=!1,Ci!==null&&vf(Ci)&&(Ci=null),Oi!==null&&vf(Oi)&&(Oi=null),Ri!==null&&vf(Ri)&&(Ri=null),ru.forEach(FS),iu.forEach(FS)}function Oc(t,e){t.blockedOn===e&&(t.blockedOn=null,Xv||(Xv=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,K2)))}var Rc=null;function KS(t){Rc!==t&&(Rc=t,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(J0(r||n)===null)continue;break}var o=Cs(n);o!==null&&(t.splice(e,3),e-=3,Pv(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function es(t){function e(l){return Oc(l,t)}Ci!==null&&Oc(Ci,t),Oi!==null&&Oc(Oi,t),Ri!==null&&Oc(Ri,t),ru.forEach(e),iu.forEach(e);for(var n=0;n<di.length;n++){var r=di[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<di.length&&(n=di[0],n.blockedOn===null);)JR(n),n.blockedOn===null&&di.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[tn]||null;if(typeof o=="function")a||KS(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[tn]||null)s=a.formAction;else if(J0(i)!==null)continue}else s=a.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),KS(n)}}}function WR(){function t(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function W0(t){this._internalRoot=t}Th.prototype.render=W0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));var n=e.current,r=bn();FR(n,r,t,e,null,null)};Th.prototype.unmount=W0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;FR(t.current,2,null,t,null,null),_h(),e[xs]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var e=AC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<di.length&&e!==0&&e<di[n].priority;n++);di.splice(n,0,t),n===0&&JR(t)}};var YS=fC.version;if(YS!=="19.2.3")throw Error(z(527,YS,"19.2.3"));Se.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Tk(e),t=t!==null?mC(t):null,t=t===null?null:t.stateNode,t};var Y2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Ku=Mc.inject(Y2),gn=Mc}catch{}}ah.createRoot=function(t,e){if(!dC(t))throw Error(z(299));var n=!1,r="",i=zO,o=GO,a=HO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=qR(t,1,!1,null,null,n,r,null,i,o,a,WR),t[xs]=e.current,q0(t),new W0(e)};ah.hydrateRoot=function(t,e,n){if(!dC(t))throw Error(z(299));var r=!1,i="",o=zO,a=GO,s=HO,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=qR(t,1,!0,e,n??null,r,i,l,o,a,s,WR),e.context=VR(null),n=e.current,r=bn(),r=i0(r),i=Ti(r),i.callback=null,Ei(n,i,r),n=r,e.current.lanes=n,Ju(e,n),pr(e),t[xs]=e.current,q0(t),new Th(e)};ah.version="19.2.3";function XR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XR)}catch(t){console.error(t)}}XR(),oC.exports=ah;var J2=oC.exports;const W2=Te(J2);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>B.createElement("svg",{ref:l,...Q2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QR("lucide",i),...s},[...a.map(([u,c])=>B.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,e)=>{const n=B.forwardRef(({className:r,...i},o)=>B.createElement(Z2,{ref:o,iconNode:e,className:QR(`lucide-${X2(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=Ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Ve("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Ve("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=Ve("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=Ve("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=Ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var Ut=(t=>(t.DASHBOARD="DASHBOARD",t.INVOICES="INVOICES",t.REPORTS="REPORTS",t))(Ut||{});function Eh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vU(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const gU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class X0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class yU extends X0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ZS extends X0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ew extends X0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qv||(Qv={}));class bU{constructor(e,{headers:n={},customFetch:r,region:i=Qv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=gU(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return vU(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let _=c;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),c?(_=a.signal,c.addEventListener("abort",()=>a.abort())):_=a.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:_}).catch(w=>{throw new yU(w)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new ZS(g);if(!g.ok)throw new ew(g);let S=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return S==="application/json"?T=yield g.json():S==="application/octet-stream"||S==="application/pdf"?T=yield g.blob():S==="text/event-stream"?T=g:S==="multipart/form-data"?T=yield g.formData():T=yield g.text(),{data:T,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof ew||s instanceof ZS?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var _U=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},SU=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var m;const g=await o.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=g:s=JSON.parse(g))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),_=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&_&&_.length>1&&(l=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&y===""?(u=204,c="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new _U(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,f,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},wU=class extends SU{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const tw=new RegExp("[,()]");var aa=class extends wU{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&tw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&tw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},TU=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new aa({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new aa({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new aa({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new aa({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new aa({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},EU=class nM{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new TU(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nM(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const c=new Headers(this.headers);return o&&c.set("Prefer",`count=${o}`),new aa({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class AU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xU="2.88.0",CU=`realtime-js/${xU}`,rM="1.0.0",OU="2.0.0",nw=rM,Zv=1e4,RU=1e3,MU=100;var ai;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ai||(ai={}));var ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ht||(ht={}));var Jn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jn||(Jn={}));var eg;(function(t){t.websocket="websocket"})(eg||(eg={}));var so;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(so||(so={}));class PU{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,s.length),v.setUint8(y++,a.length),v.setUint8(y++,u.length),v.setUint8(y++,f.length),v.setUint8(y++,n),Array.from(l,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(s,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(f,g=>v.setUint8(y++,g.charCodeAt(0)));var _=new Uint8Array(m.byteLength+r.byteLength);return _.set(new Uint8Array(m),0),_.set(new Uint8Array(r),m.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class iM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ne||(Ne={}));const rw=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=IU(a,t,e,i),o),{}):{}},IU=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?oM(o,a):tg(a)},oM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $U(e,n)}switch(t){case Ne.bool:return NU(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return DU(e);case Ne.json:case Ne.jsonb:return kU(e);case Ne.timestamp:return UU(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return tg(e);default:return tg(e)}},tg=t=>t,NU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},kU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},$U=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>oM(e,s))}return t},UU=t=>typeof t=="string"?t.replace(" ","T"):t,aM=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class pm{constructor(e,n,r={},i=Zv){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iw||(iw={}));class Ul{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Ul.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ul.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const f=o[u];if(f){const h=c.map(_=>_.presence_ref),m=f.map(_=>_.presence_ref),v=c.filter(_=>m.indexOf(_.presence_ref)<0),y=f.filter(_=>h.indexOf(_.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(m=>m.presence_ref),h=c.filter(m=>f.indexOf(m.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ow;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ow||(ow={}));var Ll;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ll||(Ll={}));var Tr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tr||(Tr={}));class wa{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pm(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new iM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Ul(this),this.broadcastEndpointURL=aM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ll.PRESENCE]&&this.bindings[Ll.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Tr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Tr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Tr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,g=[];for(let b=0;b<_;b++){const S=y[b],{filter:{event:T,schema:w,table:E,filter:A}}=S,x=m&&m[b];if(x&&x.event===T&&wa.isFilterValueEqual(x.schema,w)&&wa.isFilterValueEqual(x.table,E)&&wa.isFilterValueEqual(x.filter,A))g.push(Object.assign(Object.assign({},S),{id:x.id}));else{this.unsubscribe(),this.state=ht.errored,e==null||e(Tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Tr.SUBSCRIBED);return}}).receive("error",m=>{this.state=ht.errored,e==null||e(Tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ht.joined&&e===Ll.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new pm(this,Jn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pm(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MU){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Jn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,y,_;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(y=m.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var v,y,_,g,b,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const T=m.id,w=(v=m.filter)===null||v===void 0?void 0:v.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(b=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:_,commit_timestamp:g,type:b,errors:S}=v;h=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:g,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(v))}m.callback(h,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&wa.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jn.close,{},e)}_onError(e){this._on(Jn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=rw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=rw(e.columns,e.old_record)),n}}const mm=()=>{},Pc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LU=[1e3,2e3,5e3,1e4],BU=1e4,jU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zU{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zv,this.transport=null,this.heartbeatIntervalMs=Pc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mm,this.ref=0,this.reconnectTimer=null,this.vsn=nw,this.logger=mm,this.conn=null,this.sendBuffer=[],this.serializer=new PU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${eg.websocket}`,this.httpEndpoint=aM(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ai.connecting:return so.Connecting;case ai.open:return so.Open;case ai.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new wa(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RU,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ai.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ai.open||this.conn.readyState===ai.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([jU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:CU};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Jn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,f,h,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Zv,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Pc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:mm,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:nw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>LU[v-1]||BU,this.vsn){case rM:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,y)=>y(JSON.parse(v));break;case OU:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ou=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function GU(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function HU(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function qU(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=GU(t.baseUrl,r,i),l=await HU(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&c?JSON.parse(c):c;if(!u.ok){const m=f?h:void 0,v=m==null?void 0:m.error;throw new ou((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Ic(t){return t.join("")}var VU=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ic(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ic(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ic(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ic(t.namespace)}`}),!0}catch(e){if(e instanceof ou&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ou&&n.status===409)return;throw n}}};function Yo(t){return t.join("")}var FU=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ou&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ou&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},KU=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=qU({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new VU(this.client,e),this.tableOps=new FU(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ah=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var YU=class extends Ah{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ng=class extends Ah{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Q0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),JU=()=>Response,rg=t=>{if(Array.isArray(t))return t.map(n=>rg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=rg(r)}),e},WU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},XU=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function QU(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZU(t){var e=QU(t,"string");return au(e)=="symbol"?e:e+""}function eL(t,e,n){return(e=ZU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aw(Object(n),!0).forEach(function(r){eL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const vm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},tL=async(t,e,n)=>{t instanceof await JU()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new YU(vm(r),i,o))}).catch(r=>{e(new ng(vm(r),r))}):e(new ng(vm(t),t))},nL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(WU(r)?(i.headers=te({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),te(te({},i),n))};async function ic(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,nL(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>tL(l,s,r))})}async function su(t,e,n,r){return ic(t,"GET",e,n,r)}async function Kn(t,e,n,r,i){return ic(t,"POST",e,r,i,n)}async function ig(t,e,n,r,i){return ic(t,"PUT",e,r,i,n)}async function rL(t,e,n,r){return ic(t,"HEAD",e,te(te({},n),{},{noResolveJson:!0}),r)}async function Z0(t,e,n,r,i){return ic(t,"DELETE",e,r,i,n)}var iL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};let sM;sM=Symbol.toStringTag;var oL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[sM]="BlobDownloadBuilder",this.promise=null}asStream(){return new iL(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};const aL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sL=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Q0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=te(te({},sw),r);let s=te(te({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=te(te({},s),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),f=await(t=="PUT"?ig:Kn)(i.fetch,`${i.url}/object/${c}`,o,te({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=te({upsert:sw.upsert},r),c=te(te({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:o,fullPath:(await ig(i.fetch,s.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=te({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await Kn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new Ah("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Kn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Kn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await Kn(r.fetch,`${r.url}/object/sign/${i}`,te({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Kn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>te(te({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>su(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new oL(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:rg(await su(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await rL(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r)&&r instanceof ng){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await Z0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=te(te(te({},aL),e),{},{prefix:t||""});return{data:await Kn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=te({},t);return{data:await Kn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const lM="2.88.0",uM={"X-Client-Info":`storage-js/${lM}`};var lL=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=te(te({},uM),e),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await su(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await su(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Kn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await ig(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Kn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Z0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},uL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=te(te({},uM),e),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Kn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await su(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Z0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!XU(t))throw new Ah("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new KU({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const eb={"X-Client-Info":`storage-js/${lM}`,"Content-Type":"application/json"};var cM=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function dn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var gm=class extends cM{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cL=class extends cM{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const tb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dL=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new gm(lw(o),r,a))}).catch(()=>{const o=r+"";e(new gm(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new gm(i.statusText||`HTTP ${r} error`,r,o))}}else e(new cL(lw(t),t))},hL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(fL(r)?(i.headers=te({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,te(te({},i),n)):i};async function pL(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,hL(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>dL(l,s,r))})}async function hn(t,e,n,r,i){return pL(t,"POST",e,r,i,n)}var mL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=te(te({},eb),e),this.fetch=tb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await hn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await hn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}}},vL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=te(te({},eb),e),this.fetch=tb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await hn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await hn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await hn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}},gL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=te(te({},eb),e),this.fetch=tb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await hn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await hn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}}},yL=class extends gL{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new bL(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},bL=class extends mL{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,te(te({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,te(te({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new _L(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},_L=class extends vL{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,te(te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,te(te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,te(te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,te(te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,te(te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},SL=class extends lL{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new sL(this.url,this.headers,t,this.fetch)}get vectors(){return new yL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uL(this.url+"/iceberg",this.headers,this.fetch)}};const fM="2.88.0",sa=30*1e3,og=3,ym=og*sa,wL="http://localhost:9999",TL="supabase.auth.token",EL={"X-Client-Info":`gotrue-js/${fM}`},ag="X-Supabase-Api-Version",dM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xL=10*60*1e3;class lu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class CL extends lu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function OL(t){return W(t)&&t.name==="AuthApiError"}class lo extends lu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Jr extends lu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class an extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RL(t){return W(t)&&t.name==="AuthSessionMissingError"}class Jo extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nc extends Jr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dc extends Jr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ML(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class uw extends Jr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PL extends Jr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class sg extends Jr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function bm(t){return W(t)&&t.name==="AuthRetryableFetchError"}class cw extends Jr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class lg extends Jr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fw=` 	
\r=`.split(""),IL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fw.length;e+=1)t[fw[e].charCodeAt(0)]=-2;for(let e=0;e<Xf.length;e+=1)t[Xf[e].charCodeAt(0)]=e;return t})();function dw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xf[r]),e.queuedBits-=6}}function hM(t,e,n){const r=IL[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hw(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{kL(a,r,n)};for(let a=0;a<t.length;a+=1)hM(t.charCodeAt(a),i,o);return e.join("")}function NL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DL(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}NL(r,e)}}function kL(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ua(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)hM(t.charCodeAt(i),n,r);return new Uint8Array(e)}function $L(t){const e=[];return DL(t,n=>e.push(n)),new Uint8Array(e)}function co(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>dw(i,n,r)),dw(null,n,r),e.join("")}function UL(t){return Math.round(Date.now()/1e3)+t}function LL(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Ki={tested:!1,writable:!1},pM=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ki.tested)return Ki.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ki.tested=!0,Ki.writable=!0}catch{Ki.tested=!0,Ki.writable=!1}return Ki.writable};function BL(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const mM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",la=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Yi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},At=async(t,e)=>{await t.removeItem(e)};class xh{constructor(){this.promise=new xh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}xh.promiseConstructor=Promise;function _m(t){const e=t.split(".");if(e.length!==3)throw new lg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!AL.test(e[r]))throw new lg("JWT not in base64url format");return{header:JSON.parse(hw(e[0])),payload:JSON.parse(hw(e[1])),signature:Ua(e[2]),raw:{header:e[0],payload:e[1]}}}async function zL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GL(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function HL(t){return("0"+t.toString(16)).substr(-2)}function qL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,HL).join("")}async function VL(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function FL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await VL(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wo(t,e,n=!1){const r=qL();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await la(t,`${e}-code-verifier`,i);const o=await FL(r);return[o,r===o?"plain":"s256"]}const KL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YL(t){const e=t.headers.get(ag);if(!e||!e.match(KL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function WL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xo(t){if(!XL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QL(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function pw(t){return JSON.parse(JSON.stringify(t))}const no=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ZL=[502,503,504];async function mw(t){var e;if(!jL(t))throw new sg(no(t),0);if(ZL.includes(t.status))throw new sg(no(t),t.status);let n;try{n=await t.json()}catch(o){throw new lo(no(o),o)}let r;const i=YL(t);if(i&&i.getTime()>=dM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cw(no(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new an}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new cw(no(n),t.status,n.weak_password.reasons);throw new CL(no(n),t.status||500,r)}const eB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ee(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[ag]||(o[ag]=dM["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await tB(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tB(t,e,n,r,i,o){const a=eB(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new sg(no(l),0)}if(s.ok||await mw(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await mw(l)}}function Fn(t){var e;let n=null;iB(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=UL(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function vw(t){const e=Fn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nB(t){return{data:t,error:null}}function rB(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=Eh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function gw(t){return t}function iB(t){return t.access_token&&t.refresh_token&&t.expires_in}const wm=["global","local","others"];class oB{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=wm[0]){if(wm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wm.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hi})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Eh(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rB,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(W(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hi})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:gw});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Xo(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hi})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Xo(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hi})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Xo(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hi})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Xo(e.userId);try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Xo(e.userId),Xo(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:gw});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(W(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}}function yw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Qo={debug:!!(globalThis&&pM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class aB extends vM{}async function sB(t,e,n){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new aB(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function lB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gM(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function uB(t){return parseInt(t,16)}function cB(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function fB(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=gM(t.address),v=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${m}

${y}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),s&&(g+=`
Not Before: ${s.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);b+=`
- ${S}`}g+=b}return`${_}
${g}`}class rt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Qf extends rt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function dB({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(yM(a)){if(o.rp.id!==a)return new rt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hB({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(yM(r)){if(n.rpId!==r)return new rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class pB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const mB=new pB;function vB(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Eh(t,["challenge","user","excludeCredentials"]),o=Ua(e).buffer,a=Object.assign(Object.assign({},n),{id:Ua(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ua(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function gB(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Eh(t,["challenge","allowCredentials"]),i=Ua(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ua(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function yB(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:co(new Uint8Array(t.response.attestationObject)),clientDataJSON:co(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bB(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:co(new Uint8Array(i.authenticatorData)),clientDataJSON:co(new Uint8Array(i.clientDataJSON)),signature:co(new Uint8Array(i.signature)),userHandle:i.userHandle?co(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yM(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function bw(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _B(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qf("Browser returned unexpected credential type",e)}:{data:null,error:new Qf("Empty credential response",e)}}catch(e){return{data:null,error:dB({error:e,options:t})}}}async function SB(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qf("Browser returned unexpected credential type",e)}:{data:null,error:new Qf("Empty credential response",e)}}catch(e){return{data:null,error:hB({error:e,options:t})}}}const wB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TB={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Zf(s,a):r[o]=Zf(a)}else r[o]=a}return r}function EB(t,e){return Zf(wB,t,e||{})}function AB(t,e){return Zf(TB,t,e||{})}class xB{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??mB.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=EB(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:f}=await _B({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=AB(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:f}=await SB(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(a){return W(a)?{data:null,error:a}:{data:null,error:new lo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new lu("rpId is required for WebAuthn authentication")};try{if(!bw())return{data:null,error:new lo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return W(a)?{data:null,error:a}:{data:null,error:new lo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new lu("rpId is required for WebAuthn registration")};try{if(!bw())return{data:null,error:new lo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return W(a)?{data:null,error:a}:{data:null,error:new lo("Unexpected error in register",a)}}}}lB();const CB={url:wL,storageKey:TL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function _w(t,e,n){return await n()}const Zo={};class uu{get jwks(){var e,n;return(n=(e=Zo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Zo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},CB),e);if(this.storageKey=o.storageKey,this.instanceID=(n=uu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,uu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&xt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new oB({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=mM(o.fetch),this.lock=o.lock||_w,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=sB:this.lock=_w,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:pM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=yw(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fM}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(xt()&&(n=BL(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ML(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return W(n)?this._returnResult({error:n}):this._returnResult({error:new lo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:f,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Wo(this.storage,this.storageKey)),o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Fn})}else if("phone"in e){const{phone:c,password:f,options:h}=e;o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Fn})}else throw new Nc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await At(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await At(this.storage,`${this.storageKey}-code-verifier`),W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vw})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vw})}else throw new Nc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Jo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,f,h;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:y,wallet:_,statement:g,options:b}=e;let S;if(xt())if(typeof _=="object")S=_;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")S=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),w=await S.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=gM(w[0]);let A=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const C=await S.request({method:"eth_chainId"});A=uB(C)}const x={domain:T.host,address:E,statement:g,uri:T.href,version:"1",chainId:A,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=fB(x),v=await S.request({method:"personal_sign",params:[cB(m),E]})}try{const{data:y,error:_}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Fn});if(_)throw _;if(!y||!y.session||!y.user){const g=new Jo;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(W(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,f,h,m;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:_,wallet:g,statement:b,options:S}=e;let T;if(xt())if(typeof g=="object")T=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=g}const w=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)v=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(c=S==null?void 0:S.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:_,error:g}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:co(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Fn});if(g)throw g;if(!_||!_.session||!_.user){const b=new Jo;return this._returnResult({data:{user:null,session:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(W(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await Yi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new PL;const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Fn});if(await At(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await At(this.storage,`${this.storageKey}-code-verifier`),W(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Fn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Jo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Wo(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Nc("You must provide either an email or phone number.")}catch(s){if(await At(this.storage,`${this.storageKey}-code-verifier`),W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Fn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Wo(this.storage,this.storageKey));const u=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:nB});return!((o=u.data)===null||o===void 0)&&o.url&&xt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await At(this.storage,`${this.storageKey}-code-verifier`),W(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new an;const{error:i}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(W(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Nc("You must provide either an email or phone number and a type")}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ym:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Yi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Sm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=QL(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hi}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new an}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:hi})})}catch(n){if(W(n))return RL(n)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new an;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Wo(this.storage,this.storageKey));const{data:u,error:c}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:hi});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await At(this.storage,`${this.storageKey}-code-verifier`),W(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new an;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=_m(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(W(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new an;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!xt())throw new Dc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new uw("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Dc("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const m=h-c;m*1e3<=sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:y,error:_}=await this._getUser(o);if(_)throw _;const g={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Yi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(OL(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=LL(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Wo(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await At(this.storage,`${this.storageKey}-code-verifier`),W(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return xt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(W(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,f=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Jo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await At(this.storage,`${this.storageKey}-code-verifier`),W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GL(async i=>(i>0&&await zL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&bm(o)&&Date.now()+a-r<sa})}catch(r){if(this._debug(n,"error",r),W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Yi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Yi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await la(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Sm()}else if(i&&!i.user&&!i.user){const a=await Yi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await At(this.storage,this.storageKey+"-user"),await la(this.storage,this.storageKey,i)):i.user=Sm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ym;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${ym}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),bm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new an;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new an;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),W(o)){const a={data:null,error:o};return bm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await At(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await la(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=pw(i);await la(this.storage,this.storageKey,o)}else{const i=pw(n);await la(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sa}ms, refresh threshold is ${og} ticks`),i<=og&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Wo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yB(e.webauthn.credential_response):bB(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:vB(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:gB(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_m(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new an})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new an});const a=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&xt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new an});const a=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&xt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new an})})}catch(e){if(W(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new an})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+xL>i)return r;const{data:o,error:a}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=_m(r);n!=null&&n.allowExpired||JL(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=WL(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,$L(`${s}.${l}`)))throw new lg("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}}uu.nextInstanceID={};const OB=uu,RB="2.88.0";let _l="";typeof Deno<"u"?_l="deno":typeof document<"u"?_l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_l="react-native":_l="node";const MB={"X-Client-Info":`supabase-js-${_l}/${RB}`},PB={headers:MB},IB={schema:"public"},NB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DB={};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function kB(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $B(t){var e=kB(t,"string");return cu(e)=="symbol"?e:e+""}function UB(t,e,n){return(e=$B(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(n),!0).forEach(function(r){UB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const LB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BB=()=>Headers,jB=(t,e,n)=>{const r=LB(n),i=BB();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Xe(Xe({},a),{},{headers:u}))}};function zB(t){return t.endsWith("/")?t:t+"/"}function GB(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,h={db:Xe(Xe({},l),i),auth:Xe(Xe({},u),o),realtime:Xe(Xe({},c),a),storage:{},global:Xe(Xe(Xe({},f),s),{},{headers:Xe(Xe({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function HB(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zB(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qB=class extends OB{constructor(t){super(t)}},VB=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=HB(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:IB,realtime:DB,auth:Xe(Xe({},NB),{},{storageKey:a}),global:PB},l=GB(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=jB(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new EU(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new SL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new bU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qB({url:this.authUrl.href,headers:Xe(Xe({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new zU(this.realtimeUrl.href,Xe(Xe({},t),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const FB=(t,e,n)=>new VB(t,e,n);function KB(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var bM={SUPABASE_URL:"https://ciudiaxdaxocwymcnafw.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpdWRpYXhkYXhvY3d5bWNuYWZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwMjQyMDYsImV4cCI6MjA4MTYwMDIwNn0.oLD-O9zLgLmtRXlOiJxSrWyi00B0hpf9ZmPUnLsXanM"};const YB=bM.SUPABASE_URL,JB=bM.SUPABASE_ANON_KEY,Tm=FB(YB,JB),WB=({invoices:t,onView:e,onDelete:n})=>{const[r,i]=B.useState(""),[o,a]=B.useState("date"),[s,l]=B.useState("desc"),u=h=>{h===o?l(s==="asc"?"desc":"asc"):(a(h),l("desc"))},c=t.filter(h=>h.vendor.toLowerCase().includes(r.toLowerCase())||h.invoiceNumber.toLowerCase().includes(r.toLowerCase())).sort((h,m)=>{const v=h[o],y=m[o];return typeof v=="string"&&typeof y=="string"?s==="asc"?v.localeCompare(y):y.localeCompare(v):typeof v=="number"&&typeof y=="number"?s==="asc"?v-y:y-v:0}),f=({field:h})=>o!==h?null:s==="asc"?O.jsx(nU,{size:14}):O.jsx(tU,{size:14});return O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[O.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50/50 flex flex-col md:flex-row md:items-center justify-between gap-4",children:O.jsxs("div",{className:"relative flex-1 max-w-md",children:[O.jsx(fU,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),O.jsx("input",{type:"text",placeholder:"Cerca per fornitore o numero...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",value:r,onChange:h=>i(h.target.value)})]})}),O.jsx("div",{className:"overflow-x-auto",children:O.jsxs("table",{className:"w-full text-left border-collapse",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50/50",children:[O.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-slate-500 cursor-pointer hover:text-blue-600 transition",onClick:()=>u("date"),children:O.jsxs("div",{className:"flex items-center gap-1",children:["Data ",O.jsx(f,{field:"date"})]})}),O.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-slate-500 cursor-pointer hover:text-blue-600 transition",onClick:()=>u("vendor"),children:O.jsxs("div",{className:"flex items-center gap-1",children:["Fornitore ",O.jsx(f,{field:"vendor"})]})}),O.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-slate-500 cursor-pointer hover:text-blue-600 transition",onClick:()=>u("invoiceNumber"),children:O.jsxs("div",{className:"flex items-center gap-1",children:["N. Fattura ",O.jsx(f,{field:"invoiceNumber"})]})}),O.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-slate-500 cursor-pointer hover:text-blue-600 transition text-right",onClick:()=>u("amount"),children:O.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Importo ",O.jsx(f,{field:"amount"})]})}),O.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-slate-500 text-center",children:"Azioni"})]})}),O.jsx("tbody",{className:"divide-y divide-slate-100",children:c.length>0?c.map(h=>O.jsxs("tr",{className:"hover:bg-slate-50 transition group",children:[O.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 whitespace-nowrap",children:new Date(h.date).toLocaleDateString("it-IT")}),O.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-slate-900",children:h.vendor}),O.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:h.invoiceNumber}),O.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-slate-900 text-right tabular-nums",children:[h.amount.toLocaleString("it-IT",{minimumFractionDigits:2})," ",h.currency]}),O.jsx("td",{className:"px-6 py-4 text-sm text-center",children:O.jsxs("div",{className:"flex items-center justify-center gap-2",children:[O.jsx("button",{onClick:()=>e(h),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Visualizza",children:O.jsx(aU,{size:18})}),O.jsx("button",{onClick:()=>n(h.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Elimina",children:O.jsx(eM,{size:18})})]})})]},h.id)):O.jsx("tr",{children:O.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 italic",children:"Nessuna fattura trovata"})})})]})})]})};var XB={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let QB,ZB;function ej(){return{geminiUrl:QB,vertexUrl:ZB}}function tj(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=ej();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wr{}function K(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>d(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function nj(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}ug(t,i,o,0,a)}}function ug(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])ug(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);p(a,f,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&ug(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nb(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rj(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function ij(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],aj(a)),e}function oj(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],sj(a)),e}function aj(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>lj(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function sj(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>uj(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function lj(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],mj(n)),e}function uj(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],vj(n)),e}function cj(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function fj(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function dj(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],hj(a)),e}function hj(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function _M(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],pj(a)),e}function pj(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function mj(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],nb(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function vj(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],nb(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ww;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ww||(ww={}));var Tw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Tw||(Tw={}));var Ew;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ew||(Ew={}));var Qt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Qt||(Qt={}));var Aw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Aw||(Aw={}));var xw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xw||(xw={}));var Cw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Cw||(Cw={}));var Ow;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ow||(Ow={}));var Rw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rw||(Rw={}));var Mw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Mw||(Mw={}));var Pw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Pw||(Pw={}));var Iw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Iw||(Iw={}));var Nw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Nw||(Nw={}));var Dw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Dw||(Dw={}));var kw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(kw||(kw={}));var $w;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($w||($w={}));var Uw;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Uw||(Uw={}));var Lw;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Lw||(Lw={}));var Bw;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bw||(Bw={}));var ed;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ed||(ed={}));var jw;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jw||(jw={}));var zw;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zw||(zw={}));var Gw;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Gw||(Gw={}));var cg;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cg||(cg={}));var Hw;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Hw||(Hw={}));var qw;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(qw||(qw={}));var Vw;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Vw||(Vw={}));var Fw;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Fw||(Fw={}));var Kw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Kw||(Kw={}));var Yw;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Yw||(Yw={}));var Jw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Jw||(Jw={}));var Ww;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ww||(Ww={}));var Xw;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Xw||(Xw={}));var Qw;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Qw||(Qw={}));var Zw;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zw||(Zw={}));var eT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(eT||(eT={}));var tT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(tT||(tT={}));var nT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(nT||(nT={}));var rT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(rT||(rT={}));var iT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(iT||(iT={}));var oT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(oT||(oT={}));var aT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(aT||(aT={}));var sT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(sT||(sT={}));var lT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(lT||(lT={}));var uT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(uT||(uT={}));var cT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(cT||(cT={}));var fT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fT||(fT={}));var dT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(dT||(dT={}));var hT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(hT||(hT={}));var pT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pT||(pT={}));var mT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mT||(mT={}));var vT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vT||(vT={}));var gT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gT||(gT={}));var yT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yT||(yT={}));var bT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(bT||(bT={}));var Ta;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ta||(Ta={}));class fg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class nl{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,v]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(f))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class _T{}class ST{}class gj{}class yj{}class bj{}class _j{}class wT{}class TT{}class ET{}class Sj{}class td{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new td;let i;const o=e;return n?i=oj(o):i=ij(o),Object.assign(r,i),r}}class AT{}class xT{}class CT{}class OT{}class wj{}class Tj{}class Ej{}class rb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new rb,o=dj(e);return Object.assign(r,o),r}}class Aj{}class xj{}class Cj{}class RT{}class Oj{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Rj{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ib{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ib,o=_M(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function SM(t,e){const n=ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function wM(t){return Array.isArray(t)?t.map(e=>nd(e)):[nd(t)]}function nd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function TM(t){const e=nd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function EM(t){const e=nd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function MT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function AM(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>MT(e)):[MT(t)]}function dg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function PT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function IT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function $t(t){if(t==null)throw new Error("ContentUnion is required");return dg(t)?t:{role:"user",parts:AM(t)}}function ob(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=$t(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=$t(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>$t(n)):[$t(e)]}function Un(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(PT(t)||IT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$t(t)]}const e=[],n=[],r=dg(t[0]);for(const i of t){const o=dg(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(PT(i)||IT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:AM(n)}),e}function Mj(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Qt).includes(n[0].toUpperCase())?n[0].toUpperCase():Qt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Qt).includes(r.toUpperCase())?r.toUpperCase():Qt.TYPE_UNSPECIFIED})}}function La(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Mj(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Qt).includes(s.toUpperCase())?s.toUpperCase():Qt.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=La(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(La(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=La(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function ab(t){return La(t)}function sb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function lb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ns(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=La(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=La(e.response));return t}function Ds(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Pj(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Xr(t,e){if(typeof e!="string")throw new Error("name must be a string");return Pj(t,e,"cachedContents")}function xM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Li(t){return nb(t)}function Ij(t){return t!=null&&typeof t=="object"&&"name"in t}function Nj(t){return t!=null&&typeof t=="object"&&"video"in t}function Dj(t){return t!=null&&typeof t=="object"&&"uri"in t}function CM(t){var e;let n;if(Ij(t)&&(n=t.name),!(Dj(t)&&(n=t.uri,n===void 0))&&!(Nj(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function OM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function RM(t){for(const e of["models","tunedModels","publisherModels"])if(kj(t,e))return t[e];return[]}function kj(t,e){return t!==null&&typeof t=="object"&&e in t}function $j(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Uj(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=$j(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function MM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Lj(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function PM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ks(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function IM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bj(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>b3(a))),p(e,["inlinedResponses"],o)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function jj(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function zj(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function gf(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&p(e,["state"],IM(i));const o=d(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=d(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=d(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=d(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&p(e,["dest"],Bj(PM(u))),e}function hg(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],IM(i));const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=d(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=d(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&p(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&p(e,["src"],Gj(f));const h=d(t,["outputConfig"]);h!=null&&p(e,["dest"],jj(PM(h)));const m=d(t,["completionStats"]);return m!=null&&p(e,["completionStats"],m),e}function Gj(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Hj(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>y3(t,a))),p(n,["requests","requests"],o)}return n}function qj(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Vj(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Fj(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ks(t,r)),n}function Kj(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ks(t,r)),n}function Yj(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Jj(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=d(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=d(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function Jj(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function NM(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>x3(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Wj(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Xj(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],zj(Lj(i))),n}function NT(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Hj(t,MM(t,i)));const o=d(e,["config"]);return o!=null&&Wj(o,n),n}function Qj(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],ye(t,r));const i=d(e,["src"]);i!=null&&p(n,["inputConfig"],qj(MM(t,i)));const o=d(e,["config"]);return o!=null&&Xj(o,n),n}function Zj(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function e3(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],s3(t,i));const o=d(e,["config"]);return o!=null&&Zj(o,n),n}function t3(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ks(t,r)),n}function n3(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ks(t,r)),n}function r3(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function i3(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function o3(t,e){const n={},r=d(e,["contents"]);if(r!=null){let o=ob(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=d(e,["config"]);return i!=null&&(p(n,["_self"],a3(i,n)),nj(n,{"requests[].*":"requests[].request.*"})),n}function a3(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function s3(t,e){const n={},r=d(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],o3(t,i)),n}function l3(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function u3(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function c3(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function f3(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],NM($t(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const _=d(e,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const g=d(e,["responseSchema"]);g!=null&&p(r,["responseSchema"],ab(g));const b=d(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(U=>C3(U))),p(n,["safetySettings"],D)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let D=Ds(T);Array.isArray(D)&&(D=D.map(U=>R3(Ns(U)))),p(n,["tools"],D)}const w=d(e,["toolConfig"]);if(n!==void 0&&w!=null&&p(n,["toolConfig"],O3(w)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Xr(t,E));const A=d(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const x=d(e,["mediaResolution"]);x!=null&&p(r,["mediaResolution"],x);const C=d(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],sb(C)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(e,["thinkingConfig"]);M!=null&&p(r,["thinkingConfig"],M);const P=d(e,["imageConfig"]);P!=null&&p(r,["imageConfig"],g3(P));const N=d(e,["enableEnhancedCivicAnswers"]);return N!=null&&p(r,["enableEnhancedCivicAnswers"],N),r}function d3(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Yj(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=d(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function h3(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ks(t,r)),n}function p3(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ks(t,r)),n}function m3(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function v3(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function g3(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function y3(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["request","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let s=Un(i);Array.isArray(s)&&(s=s.map(l=>NM(l))),p(n,["request","contents"],s)}const o=d(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(e,["config"]);return a!=null&&p(n,["request","generationConfig"],f3(t,a,d(n,["request"],{}))),n}function b3(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],d3(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],r),e}function _3(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function S3(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function w3(t){const e={},n=d(t,["config"]);return n!=null&&_3(n,e),e}function T3(t){const e={},n=d(t,["config"]);return n!=null&&S3(n,e),e}function E3(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>gf(a))),p(e,["batchJobs"],o)}return e}function A3(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>hg(a))),p(e,["batchJobs"],o)}return e}function x3(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],l3(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],u3(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Vj(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function C3(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function O3(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],c3(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function R3(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],m3(s));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],v3(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Hr||(Hr={}));class Bo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M3 extends Wr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bo(Hr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=NT(this.apiClient,e),r=n._url,i=K("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const m=f.request;m.systemInstruction=h,f.request=m}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Qj(this.apiClient,e);return s=K("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>hg(c))}else{const u=NT(this.apiClient,e);return s=K("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>gf(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=e3(this.apiClient,e);return o=K("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>gf(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=p3(this.apiClient,e);return s=K("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>hg(c))}else{const u=h3(this.apiClient,e);return s=K("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>gf(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Kj(this.apiClient,e);a=K("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Fj(this.apiClient,e);a=K("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=T3(e);return s=K("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=A3(c),h=new RT;return Object.assign(h,f),h})}else{const u=w3(e);return s=K("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=E3(c),h=new RT;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=n3(this.apiClient,e);return s=K("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>i3(c))}else{const u=t3(this.apiClient,e);return s=K("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>r3(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P3(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function DT(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ez(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function I3(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=d(t,["contents"]);if(e!==void 0&&a!=null){let c=Un(a);Array.isArray(c)&&(c=c.map(f=>DT(f))),p(e,["contents"],c)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],DT($t(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>nz(f))),p(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],tz(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function N3(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=d(t,["contents"]);if(e!==void 0&&a!=null){let f=Un(a);Array.isArray(f)&&(f=f.map(h=>h)),p(e,["contents"],f)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],$t(s));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>rz(h))),p(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function D3(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],SM(t,r));const i=d(e,["config"]);return i!=null&&I3(i,n),n}function k3(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],SM(t,r));const i=d(e,["config"]);return i!=null&&N3(i,n),n}function $3(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Xr(t,r)),n}function U3(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Xr(t,r)),n}function L3(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function B3(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function j3(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function z3(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function G3(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function H3(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function q3(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Xr(t,r)),n}function V3(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Xr(t,r)),n}function F3(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function K3(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Y3(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function J3(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function W3(t){const e={},n=d(t,["config"]);return n!=null&&Y3(n,e),e}function X3(t){const e={},n=d(t,["config"]);return n!=null&&J3(n,e),e}function Q3(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function Z3(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function ez(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],j3(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],z3(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],P3(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function tz(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],G3(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function nz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],F3(s));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],K3(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function rz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>H3(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=d(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=d(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function iz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function oz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function az(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Xr(t,r));const i=d(e,["config"]);return i!=null&&iz(i,n),n}function sz(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Xr(t,r));const i=d(e,["config"]);return i!=null&&oz(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lz extends Wr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bo(Hr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=k3(this.apiClient,e);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=D3(this.apiClient,e);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=V3(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=q3(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=U3(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=B3(c),h=new CT;return Object.assign(h,f),h})}else{const u=$3(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=L3(c),h=new CT;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=sz(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=az(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=X3(e);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Z3(c),h=new OT;return Object.assign(h,f),h})}else{const u=W3(e);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Q3(c),h=new OT;return Object.assign(h,f),h})}}}function rd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(t){return this instanceof oe?(this.v=t,this):new oe(t)}function Zn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(v){return Promise.resolve(v).then(m,f)}}function s(m,v){r[m]&&(i[m]=function(y){return new Promise(function(_,g){o.push([m,y,_,g])>1||l(m,y)})},v&&(i[m]=v(i[m])))}function l(m,v){try{u(r[m](v))}catch(y){h(o[0][3],y)}}function u(m){m.value instanceof oe?Promise.resolve(m.value.v).then(c,f):h(o[0][2],m)}function c(m){l("next",m)}function f(m){l("throw",m)}function h(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function er(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kT=="function"?kT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uz(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:DM(n)}function DM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function cz(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $T(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!DM(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class fz{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new dz(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class dz{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),cz(o)}async sendMessage(e){var n;await this.sendPromise;const r=$t(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=$t(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?$T(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Zn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var f=!0,h=er(e),m;m=yield oe(h.next()),i=m.done,!i;f=!0){s=m.value,f=!1;const v=s;if(uz(v)){const y=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;y!==void 0&&c.push(y)}yield yield oe(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(a=h.return)&&(yield oe(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...$T(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ch extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ch.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hz(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],n),e}function pz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function mz(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],CM(n)),e}function vz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function gz(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],CM(n)),e}function yz(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function bz(t){const e={},n=d(t,["config"]);return n!=null&&yz(n,e),e}function _z(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sz extends Wr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bo(Hr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bz(e);return o=K("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_z(l),c=new Aj;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hz(e);return o=K("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=pz(l),c=new xj;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=gz(e);return o=K("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mz(e);return o=K("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=vz(l),c=new Cj;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yf(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function wz(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Lz(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Tz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Ez(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Az(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function xz(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=d(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=d(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=d(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const v=d(t,["responseModalities"]);v!=null&&p(e,["responseModalities"],v);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const _=d(t,["routingConfig"]);_!=null&&p(e,["routingConfig"],_);const g=d(t,["seed"]);g!=null&&p(e,["seed"],g);const b=d(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],b);const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const T=d(t,["temperature"]);T!=null&&p(e,["temperature"],T);const w=d(t,["thinkingConfig"]);w!=null&&p(e,["thinkingConfig"],w);const E=d(t,["topK"]);E!=null&&p(e,["topK"],E);const A=d(t,["topP"]);if(A!=null&&p(e,["topP"],A),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Cz(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Oz(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Rz(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],lb(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],wz($t(v)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let E=Ds(y);Array.isArray(E)&&(E=E.map(A=>jz(Ns(A)))),p(e,["setup","tools"],E)}const _=d(t,["sessionResumption"]);e!==void 0&&_!=null&&p(e,["setup","sessionResumption"],Bz(_));const g=d(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&p(e,["setup","inputAudioTranscription"],g);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const w=d(t,["proactivity"]);if(e!==void 0&&w!=null&&p(e,["setup","proactivity"],w),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Mz(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],xz(r));const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],lb(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],$t(v));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let A=Ds(y);Array.isArray(A)&&(A=A.map(x=>zz(Ns(x)))),p(e,["setup","tools"],A)}const _=d(t,["sessionResumption"]);e!==void 0&&_!=null&&p(e,["setup","sessionResumption"],_);const g=d(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&p(e,["setup","inputAudioTranscription"],g);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const w=d(t,["proactivity"]);e!==void 0&&w!=null&&p(e,["setup","proactivity"],w);const E=d(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&p(e,["setup","explicitVadSignal"],E),n}function Pz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],ye(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Rz(i,n)),n}function Iz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],ye(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Mz(i,n)),n}function Nz(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function Dz(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function kz(t){const e={},n=d(t,["media"]);if(n!=null){let u=wM(n);Array.isArray(u)&&(u=u.map(c=>yf(c))),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],yf(EM(r)));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],yf(TM(o)));const a=d(t,["text"]);a!=null&&p(e,["text"],a);const s=d(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function $z(t){const e={},n=d(t,["media"]);if(n!=null){let u=wM(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],EM(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],TM(o));const a=d(t,["text"]);a!=null&&p(e,["text"],a);const s=d(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function Uz(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=d(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=d(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],Gz(a));const s=d(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=d(t,["sessionResumptionUpdate"]);l!=null&&p(e,["sessionResumptionUpdate"],l);const u=d(t,["voiceActivityDetectionSignal"]);return u!=null&&p(e,["voiceActivityDetectionSignal"],u),e}function Lz(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],Tz(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],Ez(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],yf(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Bz(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Cz(s));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Oz(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function zz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Az(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=d(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=d(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Gz(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=d(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=d(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),p(e,["promptTokensDetails"],m)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(v=>v)),p(e,["cacheTokensDetails"],m)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>v)),p(e,["responseTokensDetails"],m)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),p(e,["toolUsePromptTokensDetails"],m)}const h=d(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hz(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function qz(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Vz(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=d(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=d(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function Vz(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function Fz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let o=Un(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function Kz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function Yz(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&p(e,["statistics"],Jz(r)),e}function Jz(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Oh(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>iH(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Wz(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function Xz(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Qz(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],$t(r));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>LM(s))),p(e,["tools"],a)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],HG(o)),n}function Zz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=Un(i);Array.isArray(a)&&(a=a.map(s=>Oh(s))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&Xz(o),n}function eG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=Un(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&Qz(o,n),n}function tG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function nG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function rG(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],ye(t,r)),n}function iG(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],ye(t,r)),n}function oG(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function aG(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function sG(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=d(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const _=d(t,["addWatermark"]);e!==void 0&&_!=null&&p(e,["parameters","addWatermark"],_);const g=d(t,["labels"]);e!==void 0&&g!=null&&p(e,["labels"],g);const b=d(t,["editMode"]);e!==void 0&&b!=null&&p(e,["parameters","editMode"],b);const S=d(t,["baseSteps"]);return e!==void 0&&S!=null&&p(e,["parameters","editConfig","baseSteps"],S),n}function lG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>cH(l))),p(n,["instances[0]","referenceImages"],s)}const a=d(e,["config"]);return a!=null&&sG(a,n),n}function uG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Rh(o))),p(e,["generatedImages"],i)}return e}function cG(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fG(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=d(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=d(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function dG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let s=ob(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=d(e,["config"]);o!=null&&cG(o,n);const a=d(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],ye(t,a)),n}function hG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=ob(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=d(e,["config"]);return o!=null&&fG(o,n),n}function pG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function mG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Yz(a))),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function vG(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function gG(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function yG(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bG(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _G(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function SG(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Oh($t(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const _=d(e,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const g=d(e,["responseSchema"]);g!=null&&p(r,["responseSchema"],ab(g));const b=d(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(U=>fH(U))),p(n,["safetySettings"],D)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let D=Ds(T);Array.isArray(D)&&(D=D.map(U=>yH(Ns(U)))),p(n,["tools"],D)}const w=d(e,["toolConfig"]);if(n!==void 0&&w!=null&&p(n,["toolConfig"],gH(w)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Xr(t,E));const A=d(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const x=d(e,["mediaResolution"]);x!=null&&p(r,["mediaResolution"],x);const C=d(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],sb(C)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(e,["thinkingConfig"]);M!=null&&p(r,["thinkingConfig"],M);const P=d(e,["imageConfig"]);P!=null&&p(r,["imageConfig"],YG(P));const N=d(e,["enableEnhancedCivicAnswers"]);return N!=null&&p(r,["enableEnhancedCivicAnswers"],N),r}function wG(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],$t(i));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const _=d(e,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const g=d(e,["responseSchema"]);g!=null&&p(r,["responseSchema"],ab(g));const b=d(e,["responseJsonSchema"]);b!=null&&p(r,["responseJsonSchema"],b);const S=d(e,["routingConfig"]);S!=null&&p(r,["routingConfig"],S);const T=d(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const w=d(e,["safetySettings"]);if(n!==void 0&&w!=null){let I=w;Array.isArray(I)&&(I=I.map(k=>k)),p(n,["safetySettings"],I)}const E=d(e,["tools"]);if(n!==void 0&&E!=null){let I=Ds(E);Array.isArray(I)&&(I=I.map(k=>LM(Ns(k)))),p(n,["tools"],I)}const A=d(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const x=d(e,["labels"]);n!==void 0&&x!=null&&p(n,["labels"],x);const C=d(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Xr(t,C));const M=d(e,["responseModalities"]);M!=null&&p(r,["responseModalities"],M);const P=d(e,["mediaResolution"]);P!=null&&p(r,["mediaResolution"],P);const N=d(e,["speechConfig"]);N!=null&&p(r,["speechConfig"],sb(N));const D=d(e,["audioTimestamp"]);D!=null&&p(r,["audioTimestamp"],D);const U=d(e,["thinkingConfig"]);U!=null&&p(r,["thinkingConfig"],U);const L=d(e,["imageConfig"]);if(L!=null&&p(r,["imageConfig"],JG(L)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function UT(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=Un(i);Array.isArray(a)&&(a=a.map(s=>Oh(s))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],SG(t,o,n)),n}function LT(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=Un(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],wG(t,o,n)),n}function BT(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>qz(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=d(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function jT(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=d(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function TG(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=d(t,["imageSize"]);if(e!==void 0&&m!=null&&p(e,["parameters","sampleImageSize"],m),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function EG(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=d(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const _=d(t,["addWatermark"]);e!==void 0&&_!=null&&p(e,["parameters","addWatermark"],_);const g=d(t,["labels"]);e!==void 0&&g!=null&&p(e,["labels"],g);const b=d(t,["imageSize"]);e!==void 0&&b!=null&&p(e,["parameters","sampleImageSize"],b);const S=d(t,["enhancePrompt"]);return e!==void 0&&S!=null&&p(e,["parameters","enhancePrompt"],S),n}function AG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&TG(o,n),n}function xG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&EG(o,n),n}function CG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>BG(a))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],$M(i)),e}function OG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Rh(a))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],UM(i)),e}function RG(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=d(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=d(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=d(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Mh(c));const f=d(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>PH(m))),p(e,["instances[0]","referenceImages"],h)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function MG(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=d(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=d(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&p(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=d(t,["enhancePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m);const v=d(t,["generateAudio"]);e!==void 0&&v!=null&&p(e,["parameters","generateAudio"],v);const y=d(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],rr(y));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>IH(T))),p(e,["instances[0]","referenceImages"],S)}const g=d(t,["mask"]);e!==void 0&&g!=null&&p(e,["instances[0]","mask"],MH(g));const b=d(t,["compressionQuality"]);return e!==void 0&&b!=null&&p(e,["parameters","compressionQuality"],b),n}function PG(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],kG(a)),e}function IG(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],$G(a)),e}function NG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],Mh(o));const a=d(e,["video"]);a!=null&&p(n,["instances[0]","video"],BM(a));const s=d(e,["source"]);s!=null&&UG(s,n);const l=d(e,["config"]);return l!=null&&RG(l,n),n}function DG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],rr(o));const a=d(e,["video"]);a!=null&&p(n,["instances[0]","video"],jM(a));const s=d(e,["source"]);s!=null&&LG(s,n);const l=d(e,["config"]);return l!=null&&MG(l,n),n}function kG(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>zG(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function $G(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>GG(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function UG(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Mh(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],BM(o)),n}function LG(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],rr(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],jM(o)),n}function BG(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],WG(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],$M(i)),e}function Rh(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],kM(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&p(e,["safetyAttributes"],UM(i));const o=d(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function jG(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],kM(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function zG(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],OH(n)),e}function GG(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],RH(n)),e}function HG(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=d(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=d(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=d(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const v=d(t,["responseModalities"]);v!=null&&p(e,["responseModalities"],v);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const _=d(t,["routingConfig"]);_!=null&&p(e,["routingConfig"],_);const g=d(t,["seed"]);g!=null&&p(e,["seed"],g);const b=d(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],b);const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const T=d(t,["temperature"]);T!=null&&p(e,["temperature"],T);const w=d(t,["thinkingConfig"]);w!=null&&p(e,["thinkingConfig"],w);const E=d(t,["topK"]);E!=null&&p(e,["topK"],E);const A=d(t,["topP"]);if(A!=null&&p(e,["topP"],A),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qG(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],ye(t,r)),n}function VG(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],ye(t,r)),n}function FG(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function KG(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function YG(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function JG(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=d(t,["outputMimeType"]);i!=null&&p(e,["imageOutputOptions","mimeType"],i);const o=d(t,["outputCompressionQuality"]);return o!=null&&p(e,["imageOutputOptions","compressionQuality"],o),e}function WG(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Li(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function kM(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Li(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Mh(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Li(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function rr(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Li(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function XG(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=d(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],OM(t,s)),r}function QG(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=d(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],OM(t,s)),r}function ZG(t,e){const n={},r=d(e,["config"]);return r!=null&&XG(t,r,n),n}function eH(t,e){const n={},r=d(e,["config"]);return r!=null&&QG(t,r,n),n}function tH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=RM(i);Array.isArray(o)&&(o=o.map(a=>pg(a))),p(e,["models"],o)}return e}function nH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=RM(i);Array.isArray(o)&&(o=o.map(a=>mg(a))),p(e,["models"],o)}return e}function rH(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function pg(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["version"]);o!=null&&p(e,["version"],o);const a=d(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],bH(a));const s=d(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=d(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=d(t,["temperature"]);c!=null&&p(e,["temperature"],c);const f=d(t,["maxTemperature"]);f!=null&&p(e,["maxTemperature"],f);const h=d(t,["topP"]);h!=null&&p(e,["topP"],h);const m=d(t,["topK"]);m!=null&&p(e,["topK"],m);const v=d(t,["thinking"]);return v!=null&&p(e,["thinking"],v),e}function mg(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["versionId"]);o!=null&&p(e,["version"],o);const a=d(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>vG(h))),p(e,["endpoints"],f)}const s=d(t,["labels"]);s!=null&&p(e,["labels"],s);const l=d(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],_H(l));const u=d(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["checkpoints"],f)}return e}function iH(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],gG(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],yG(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Hz(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function oH(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],rr(n)),e}function aH(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=d(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const m=d(t,["labels"]);return e!==void 0&&m!=null&&p(e,["labels"],m),n}function sH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["source"]);i!=null&&uH(i,n);const o=d(e,["config"]);return o!=null&&aH(o,n),n}function lH(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Rh(i))),p(e,["generatedImages"],r)}return e}function uH(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],rr(i));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>oH(s))),p(e,["instances[0]","productImages"],a)}return n}function cH(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],rr(n));const r=d(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=d(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],rH(o));const a=d(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],Wz(a));const s=d(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=d(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function $M(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function UM(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function fH(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function dH(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],rr(n)),e}function hH(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=d(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=d(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=d(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function pH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["source"]);i!=null&&vH(i,n);const o=d(e,["config"]);return o!=null&&hH(o,n),n}function mH(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jG(i))),p(e,["generatedMasks"],r)}return e}function vH(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],rr(i));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],dH(o)),n}function gH(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],bG(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function yH(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],FG(s));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],KG(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function LM(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>_G(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=d(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=d(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function bH(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function _H(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function SH(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function wH(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function TH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],ye(t,r));const i=d(e,["config"]);return i!=null&&SH(i,n),n}function EH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["config"]);return i!=null&&wH(i,n),n}function AH(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=d(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=d(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const m=d(t,["mode"]);return e!==void 0&&m!=null&&p(e,["parameters","mode"],m),n}function xH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["image"]);i!=null&&p(n,["instances[0]","image"],rr(i));const o=d(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=d(e,["config"]);return a!=null&&AH(a,n),n}function CH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Rh(o))),p(e,["generatedImages"],i)}return e}function OH(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Li(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function RH(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Li(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function MH(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],rr(n));const r=d(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function PH(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Mh(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function IH(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],rr(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function BM(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],Li(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function jM(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Li(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NH(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function DH(t){const e={},n=d(t,["config"]);return n!=null&&NH(n,e),e}function kH(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function $H(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&kH(r,e),e}function UH(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function LH(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=d(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function BH(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],zH(a)),e}function jH(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=d(t,["config"]);return i!=null&&LH(i,e),e}function zH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function GH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function HH(t){const e={},n=d(t,["config"]);return n!=null&&GH(n,e),e}function qH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function zM(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=d(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=d(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function VH(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&zM(r,e),e}function FH(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KH="Content-Type",YH="X-Server-Timeout",JH="User-Agent",vg="x-goog-api-client",WH="1.34.0",XH=`google-genai-sdk/${WH}`,QH="v1beta1",ZH="v1beta";class eq{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:QH,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ZH,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&tq(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await zT(i),new fg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await zT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Zn(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield oe(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const y=JSON.parse(JSON.stringify(v.error)),_=y.status,g=y.code,b=`got status: ${_}. ${JSON.stringify(v)}`;if(g>=400&&g<600)throw new Ch({message:b,status:g})}}catch(v){if(v.name==="ApiError")throw v}a+=f;let h=-1,m=0;for(;;){h=-1,m=0;for(const _ of l){const g=a.indexOf(_);g!==-1&&(h===-1||g<h)&&(h=g,m=_.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+m);const y=v.trim();if(y.startsWith(s)){const _=y.substring(s.length).trim();try{const g=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield oe(new fg(g))}catch(g){throw new Error(`exception parsing stream chunk ${_}. ${g}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=XH+" "+this.clientOptions.userAgentExtra;return e[JH]=n,e[vg]=n,e[KH]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(YH,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=K("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&zM(r,f);const h=await this.fetchUploadUrl(u,s,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function zT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ch({message:i,status:n}):new Error(i)}}function tq(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nq="mcp_used/unknown";let rq=!1;function GM(t){for(const e of t)if(iq(e)||typeof e=="object"&&"inputSchema"in e)return!0;return rq}function HM(t){var e;const n=(e=t[vg])!==null&&e!==void 0?e:"";t[vg]=(n+` ${nq}`).trimStart()}function iq(t){return t!==null&&typeof t=="object"&&t instanceof ub}function oq(t){return Zn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield oe(n.listTools({cursor:i}));for(const s of a.tools)yield yield oe(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class ub{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ub(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,er(oq(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Uj(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aq(t,e,n){const r=new Rj;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class sq{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=cq(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},m=this.apiClient,v={onopen:h,onmessage:S=>{aq(m,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},y=this.webSocketFactory.create(l,uq(a),v);y.connect(),await c;const b={setup:{model:ye(this.apiClient,e.model)}};return y.send(JSON.stringify(b)),new lq(y,this.apiClient)}}class lq{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Dz(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Nz(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ta.PLAY)}pause(){this.sendPlaybackControl(Ta.PAUSE)}stop(){this.sendPlaybackControl(Ta.STOP)}resetContext(){this.sendPlaybackControl(Ta.RESET_CONTEXT)}close(){this.conn.close()}}function uq(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function cq(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fq="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function dq(t,e,n){const r=new Oj;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Uz(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class hq{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new sq(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&GM(e.config.tools)&&HM(f);const h=gq(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const C=this.apiClient.getApiKey();let M="BidiGenerateContent",P="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",P="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${P}=${C}`}let m=()=>{};const v=new Promise(C=>{m=C}),y=e.callbacks,_=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),m({})},g=this.apiClient,b={onopen:_,onmessage:C=>{dq(g,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},S=this.webSocketFactory.create(c,vq(h),b);S.connect(),await v;let T=ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const C=this.apiClient.getProject(),M=this.apiClient.getLocation();T=`projects/${C}/locations/${M}/`+T}let w={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ed.AUDIO]}:e.config.responseModalities=[ed.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const C of E)if(this.isCallableTool(C)){const M=C;A.push(await M.tool())}else A.push(C);A.length>0&&(e.config.tools=A);const x={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=Iz(this.apiClient,x):w=Pz(this.apiClient,x),delete w.config,S.send(JSON.stringify(w)),new mq(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const pq={turnComplete:!0};class mq{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Un(n.turns),e.isVertexAI()||(r=r.map(i=>Oh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(fq)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},pq),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:$z(e)}:n={realtimeInput:kz(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function vq(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function gq(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GT=10;function HT(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ba(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ba(t){return"callTool"in t&&typeof t.callTool=="function"}function yq(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ba(i)))!==null&&r!==void 0?r:!1}function qT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ba(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function VT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bq extends Wr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!yq(n)||HT(n.config))return await this.generateContentInternal(l);const u=qT(n);if(u.length>0){const y=u.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,f;const h=Un(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:GT;let v=0;for(;v<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,_=[];for(const g of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Ba(g)){const S=await g.callTool(c.functionCalls);_.push(...S)}v++,f={role:"user",parts:_},l.contents=Un(l.contents),l.contents.push(y),l.contents.push(f),VT(l.config)&&(h.push(y),h.push(f))}return VT(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),HT(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=qT(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Bo(Hr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Ba(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&GM(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),HM(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ba(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:GT;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return Zn(this,arguments,function*(){for(var h,m,v,y,_,g;s<o;){a&&(s++,a=!1);const w=yield oe(u.processParamsMaybeAddMcpUsage(f)),E=yield oe(u.generateContentStreamInternal(w)),A=[],x=[];try{for(var b=!0,S=(m=void 0,er(E)),T;T=yield oe(S.next()),h=T.done,!h;b=!0){y=T.value,b=!1;const C=y;if(yield yield oe(C),C.candidates&&(!((_=C.candidates[0])===null||_===void 0)&&_.content)){x.push(C.candidates[0].content);for(const M of(g=C.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(s<o&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(M.functionCall.name)){const P=yield oe(c.get(M.functionCall.name).callTool([M.functionCall]));A.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(C){m={error:C}}finally{try{!b&&!h&&(v=S.return)&&(yield oe(v.call(S)))}finally{if(m)throw m.error}}if(A.length>0){a=!0;const C=new nl;C.candidates=[{content:{role:"user",parts:A}}],yield yield oe(C);const M=[];M.push(...x),M.push({role:"user",parts:A});const P=Un(f.contents).concat(M);f.contents=P}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=LT(this.apiClient,e);return s=K("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=jT(c),h=new nl;return Object.assign(h,f),h})}else{const u=UT(this.apiClient,e);return s=K("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=BT(c),h=new nl;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=LT(this.apiClient,e);return s=K("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Zn(this,arguments,function*(){var h,m,v,y;try{for(var _=!0,g=er(f),b;b=yield oe(g.next()),h=b.done,!h;_=!0){y=b.value,_=!1;const S=y,T=jT(yield oe(S.json()));T.sdkHttpResponse={headers:S.headers};const w=new nl;Object.assign(w,T),yield yield oe(w)}}catch(S){m={error:S}}finally{try{!_&&!h&&(v=g.return)&&(yield oe(v.call(g)))}finally{if(m)throw m.error}}})})}else{const u=UT(this.apiClient,e);return s=K("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return Zn(this,arguments,function*(){var h,m,v,y;try{for(var _=!0,g=er(f),b;b=yield oe(g.next()),h=b.done,!h;_=!0){y=b.value,_=!1;const S=y,T=BT(yield oe(S.json()));T.sdkHttpResponse={headers:S.headers};const w=new nl;Object.assign(w,T),yield yield oe(w)}}catch(S){m={error:S}}finally{try{!_&&!h&&(v=g.return)&&(yield oe(v.call(g)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hG(this.apiClient,e);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=mG(c),h=new _T;return Object.assign(h,f),h})}else{const u=dG(this.apiClient,e);return s=K("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=pG(c),h=new _T;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=xG(this.apiClient,e);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=OG(c),h=new ST;return Object.assign(h,f),h})}else{const u=AG(this.apiClient,e);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=CG(c),h=new ST;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=lG(this.apiClient,e);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=uG(l),c=new gj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=xH(this.apiClient,e);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=CH(l),c=new yj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=sH(this.apiClient,e);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=lH(l),c=new bj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=pH(this.apiClient,e);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=mH(l),c=new _j;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=VG(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>mg(c))}else{const u=qG(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>pg(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=eH(this.apiClient,e);return s=K("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=nH(c),h=new wT;return Object.assign(h,f),h})}else{const u=ZG(this.apiClient,e);return s=K("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=tH(c),h=new wT;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=EH(this.apiClient,e);return s=K("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>mg(c))}else{const u=TH(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>pg(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=iG(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=aG(c),h=new TT;return Object.assign(h,f),h})}else{const u=rG(this.apiClient,e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=oG(c),h=new TT;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=eG(this.apiClient,e);return s=K("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=nG(c),h=new ET;return Object.assign(h,f),h})}else{const u=Zz(this.apiClient,e);return s=K("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=tG(c),h=new ET;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Fz(this.apiClient,e);return o=K("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Kz(l),c=new Sj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=DG(this.apiClient,e);return s=K("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=IG(c),h=new td;return Object.assign(h,f),h})}else{const u=NG(this.apiClient,e);return s=K("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const f=PG(c),h=new td;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _q extends Wr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=fj(e);return s=K("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=cj(e);return s=K("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=rj(e);return o=K("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sq(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function wq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Pq(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Tq(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=d(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=d(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],Mq(t,s));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function Eq(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],Tq(t,r,n)),n}function Aq(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xq(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Cq(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Oq(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Rq(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],lb(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],wq($t(v)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let E=Ds(y);Array.isArray(E)&&(E=E.map(A=>Nq(Ns(A)))),p(e,["setup","tools"],E)}const _=d(t,["sessionResumption"]);e!==void 0&&_!=null&&p(e,["setup","sessionResumption"],Iq(_));const g=d(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&p(e,["setup","inputAudioTranscription"],g);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const w=d(t,["proactivity"]);if(e!==void 0&&w!=null&&p(e,["setup","proactivity"],w),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Mq(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],ye(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Rq(i,n)),n}function Pq(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],Aq(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],xq(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Sq(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Iq(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Nq(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=d(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Cq(s));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Oq(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dq(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function kq(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Dq(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class $q extends Wr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Eq(this.apiClient,e);o=K("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=kq(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uq(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function Lq(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&Uq(r,e),e}function Bq(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function jq(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function zq(t){const e={},n=d(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&jq(r,e),e}function Gq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hq extends Wr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Bo(Hr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bq(e);return o=K("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lq(e);i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zq(e);return o=K("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Gq(l),c=new wj;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qq extends Wr{constructor(e,n=new Hq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Bo(Hr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=DH(e);return o=K("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=UH(e);return o=K("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$H(e);i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=HH(e);return o=K("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=qH(l),c=new Tj;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=VH(e);return o=K("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=FH(l),c=new Ej;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jH(e);return o=K("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=BH(l),c=new rb;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qM=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return qM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Vq=()=>qM();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gg(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const yg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jn extends Error{}class qt extends jn{constructor(e,n,r,i){super(`${qt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Ph({message:r,cause:yg(n)});const o=n;return e===400?new FM(e,o,r,i):e===401?new KM(e,o,r,i):e===403?new YM(e,o,r,i):e===404?new JM(e,o,r,i):e===409?new WM(e,o,r,i):e===422?new XM(e,o,r,i):e===429?new QM(e,o,r,i):e>=500?new ZM(e,o,r,i):new qt(e,o,r,i)}}class bg extends qt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ph extends qt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class VM extends Ph{constructor({message:e}={}){super({message:e??"Request timed out."})}}class FM extends qt{}class KM extends qt{}class YM extends qt{}class JM extends qt{}class WM extends qt{}class XM extends qt{}class QM extends qt{}class ZM extends qt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fq=/^[a-z][a-z0-9+.-]*:/i,Kq=t=>Fq.test(t);let _g=t=>(_g=Array.isArray,_g(t));const Yq=_g;let Jq=Yq;const FT=Jq;function Wq(t){if(!t)return!0;for(const e in t)return!1;return!0}function Xq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Qq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new jn(`${t} must be an integer`);if(e<0)throw new jn(`${t} must be a positive integer`);return e},Zq=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e4=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ua="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t4(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const n4=()=>{var t,e,n,r,i;const o=t4();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":YT(Deno.build.os),"X-Stainless-Arch":KT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":YT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":KT((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=r4();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function r4(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const KT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",YT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let kc;const i4=()=>kc??(kc=n4());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o4(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function eP(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function a4(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return eP({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function tP(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function s4(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l4=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nP=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Em(t,e,n){return nP(),new File(t,e??"unknown_file",n)}function u4(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const c4=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rP=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",f4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&rP(t),d4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function h4(t,e,n){if(nP(),t=await t,f4(t))return t instanceof File?t:Em([await t.arrayBuffer()],t.name);if(d4(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Em(await Sg(i),e,n)}const r=await Sg(t);if(e||(e=u4(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Em(r,e,n)}async function Sg(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(rP(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(c4(t))try{for(var s=!0,l=er(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;a.push(...await Sg(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${p4(t)}`)}return a}function p4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iP{constructor(e){this._client=e}}iP._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oP(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const JT=Object.freeze(Object.create(null)),m4=(t=oP)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,f,h)=>{var m,v,y;/[?#]/.test(f)&&(i=!0);const _=r[h];let g=(i?encodeURIComponent:t)(""+_);return h!==r.length&&(_==null||typeof _=="object"&&_.toString===((y=Object.getPrototypeOf((v=Object.getPrototypeOf((m=_.hasOwnProperty)!==null&&m!==void 0?m:JT))!==null&&v!==void 0?v:JT))===null||y===void 0?void 0:y.toString))&&(g=_+"",o.push({start:c.length+f.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":g)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,m)=>{const v=" ".repeat(m.start-c),y="^".repeat(m.length);return c=m.start+m.length,h+v+y},"");throw new jn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},$c=m4(oP);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aP extends iP{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=rd(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new jn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new jn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post($c`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete($c`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post($c`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=rd(o,["api_version"]);return this._client.get($c`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}aP._key=Object.freeze(["interactions"]);class sP extends aP{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v4(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Uc;function cb(t){let e;return(Uc??(e=new globalThis.TextEncoder,Uc=e.encode.bind(e)))(t)}let Lc;function WT(t){let e;return(Lc??(e=new globalThis.TextDecoder,Lc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ih{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?cb(e):e;this.buffer=v4([this.buffer,n]);const r=[];let i;for(;(i=g4(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(WT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=WT(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Ih.NEWLINE_CHARS=new Set([`
`,"\r"]);Ih.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function g4(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function y4(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const id={off:0,error:200,warn:300,info:400,debug:500},XT=(t,e,n)=>{if(t){if(Xq(id,t))return t;Bt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(id))}`)}};function Sl(){}function Bc(t,e,n){return!e||id[t]>id[n]?Sl:e[t].bind(e)}const b4={error:Sl,warn:Sl,info:Sl,debug:Sl};let QT=new WeakMap;function Bt(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return b4;const i=QT.get(n);if(i&&i[0]===r)return i[1];const o={error:Bc("error",n,r),warn:Bc("warn",n,r),info:Bc("info",n,r),debug:Bc("debug",n,r)};return QT.set(n,[r,o]),o}const ro=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ea{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Bt(r):console;function a(){return Zn(this,arguments,function*(){var l,u,c,f;if(i)throw new jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=er(_4(e,n)),y;y=yield oe(v.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const _=f;if(!h)if(_.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield oe(JSON.parse(_.data))}catch(g){throw o.error("Could not parse message into JSON:",_.data),o.error("From chunk:",_.raw),g}}}catch(_){u={error:_}}finally{try{!m&&!l&&(c=v.return)&&(yield oe(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(_){if(gg(_))return yield oe(void 0);throw _}finally{h||n.abort()}})}return new Ea(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Zn(this,arguments,function*(){var l,u,c,f;const h=new Ih,m=tP(e);try{for(var v=!0,y=er(m),_;_=yield oe(y.next()),l=_.done,!l;v=!0){f=_.value,v=!1;const g=f;for(const b of h.decode(g))yield yield oe(b)}}catch(g){u={error:g}}finally{try{!v&&!l&&(c=y.return)&&(yield oe(c.call(y)))}finally{if(u)throw u.error}}for(const g of h.flush())yield yield oe(g)})}function a(){return Zn(this,arguments,function*(){var l,u,c,f;if(i)throw new jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=er(o()),y;y=yield oe(v.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const _=f;h||_&&(yield yield oe(JSON.parse(_)))}}catch(_){u={error:_}}finally{try{!m&&!l&&(c=v.return)&&(yield oe(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(_){if(gg(_))return yield oe(void 0);throw _}finally{h||n.abort()}})}return new Ea(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Ea(()=>i(e),this.controller,this.client),new Ea(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return eP({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=cb(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function _4(t,e){return Zn(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new jn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new jn("Attempted to iterate over a response with no body");const s=new w4,l=new Ih,u=tP(t.body);try{for(var c=!0,f=er(S4(u)),h;h=yield oe(f.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const v of l.decode(m)){const y=s.decode(v);y&&(yield yield oe(y))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=f.return)&&(yield oe(o.call(f)))}finally{if(i)throw i.error}}for(const m of l.flush()){const v=s.decode(m);v&&(yield yield oe(v))}})}function S4(t){return Zn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=er(t),u;u=yield oe(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?cb(c):c;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let m;for(;(m=y4(a))!==-1;)yield yield oe(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield oe(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield oe(a))})}class w4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=T4(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function T4(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function E4(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return Bt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ea.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Bt(t).debug(`[${r}] response parsed`,ro({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fb extends Promise{constructor(e,n,r=E4){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new fb(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lP=Symbol("brand.privateNullableHeaders");function*A4(t){if(!t)return;if(lP in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():FT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=FT(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const rl=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of A4(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[lP]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Am=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=XB)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uP;class Nh{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=Am("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Am("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=rd(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:Nh.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=XT(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:XT(Am("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:o4(),this.encoder=l4,this._options=m,this.apiKey=c,this.apiVersion=f,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=rl([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return rl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return rl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new jn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ua}`}defaultIdempotencyKey(){return`stainless-node-retry-${Vq()}`}makeStatusError(e,n,r,i){return qt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Kq(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Wq(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new fb(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Bt(this).debug(`[${h}] sending request`,ro({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new bg;const y=new AbortController,_=await this.fetchWithTimeout(c,u,f,y).catch(yg),g=Date.now();if(_ instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new bg;const T=gg(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return Bt(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${S}`),Bt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${S})`,ro({retryOfRequestLogID:r,url:c,durationMs:g-v,message:_.message})),this.retryRequest(s,n,r??h);throw Bt(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Bt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,ro({retryOfRequestLogID:r,url:c,durationMs:g-v,message:_.message})),T?new VM:new Ph({cause:_})}const b=`[${h}${m}] ${u.method} ${c} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${g-v}ms`;if(!_.ok){const S=await this.shouldRetry(_);if(n&&S){const C=`retrying, ${n} attempts remaining`;return await s4(_.body),Bt(this).info(`${b} - ${C}`),Bt(this).debug(`[${h}] response error (${C})`,ro({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:g-v})),this.retryRequest(s,n,r??h,_.headers)}const T=S?"error; no more retries left":"error; not retryable";Bt(this).info(`${b} - ${T}`);const w=await _.text().catch(C=>yg(C).message),E=Zq(w),A=E?void 0:w;throw Bt(this).debug(`[${h}] response error (${T})`,ro({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,message:A,durationMs:Date.now()-v})),this.makeStatusError(_.status,E,A,_.headers)}return Bt(this).info(b),Bt(this).debug(`[${h}] response start`,ro({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:g-v})),{response:_,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=rd(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await e4(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=a,f=this.buildURL(l,u,c);"timeout"in a&&Qq("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),v=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=rl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),i4()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=rl([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:a4(e)}:this.encoder({body:e,headers:r})}}Nh.DEFAULT_TIMEOUT=6e4;class Tt extends Nh{constructor(){super(...arguments),this.interactions=new sP(this)}}uP=Tt;Tt.GeminiNextGenAPIClient=uP;Tt.GeminiNextGenAPIClientError=jn;Tt.APIError=qt;Tt.APIConnectionError=Ph;Tt.APIConnectionTimeoutError=VM;Tt.APIUserAbortError=bg;Tt.NotFoundError=JM;Tt.ConflictError=WM;Tt.RateLimitError=QM;Tt.BadRequestError=FM;Tt.AuthenticationError=KM;Tt.InternalServerError=ZM;Tt.PermissionDeniedError=YM;Tt.UnprocessableEntityError=XM;Tt.toFile=h4;Tt.Interactions=sP;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x4(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function C4(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function O4(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function R4(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function M4(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=d(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=d(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=d(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function P4(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=d(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec"],ZT(m))}else if(i==="PREFERENCE_TUNING"){const m=d(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec"],ZT(m))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=d(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=d(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=d(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=d(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=d(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=d(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=d(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=d(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(c==="PREFERENCE_TUNING"){const m=d(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function I4(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&H4(o);const a=d(t,["config"]);return a!=null&&M4(a,n),n}function N4(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&q4(o,n,e);const a=d(t,["config"]);return a!=null&&P4(a,n,e),n}function D4(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function k4(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function $4(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function U4(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function L4(t,e){const n={},r=d(t,["config"]);return r!=null&&$4(r,n),n}function B4(t,e){const n={},r=d(t,["config"]);return r!=null&&U4(r,n),n}function j4(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>cP(s))),p(n,["tuningJobs"],a)}return n}function z4(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>wg(s))),p(n,["tuningJobs"],a)}return n}function G4(t,e){const n={},r=d(t,["name"]);r!=null&&p(n,["model"],r);const i=d(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function H4(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function q4(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=d(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=d(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=d(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=d(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function cP(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],xM(o));const a=d(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=d(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["description"]);c!=null&&p(n,["description"],c);const f=d(t,["baseModel"]);f!=null&&p(n,["baseModel"],f);const h=d(t,["_self"]);return h!=null&&p(n,["tunedModel"],G4(h)),n}function wg(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],xM(o));const a=d(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=d(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["error"]);c!=null&&p(n,["error"],c);const f=d(t,["description"]);f!=null&&p(n,["description"],f);const h=d(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=d(t,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const v=d(t,["preTunedModel"]);v!=null&&p(n,["preTunedModel"],v);const y=d(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const _=d(t,["preferenceOptimizationSpec"]);_!=null&&p(n,["preferenceOptimizationSpec"],_);const g=d(t,["tuningDataStats"]);g!=null&&p(n,["tuningDataStats"],g);const b=d(t,["encryptionSpec"]);b!=null&&p(n,["encryptionSpec"],b);const S=d(t,["partnerModelTuningSpec"]);S!=null&&p(n,["partnerModelTuningSpec"],S);const T=d(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const w=d(t,["experiment"]);w!=null&&p(n,["experiment"],w);const E=d(t,["labels"]);E!=null&&p(n,["labels"],E);const A=d(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const x=d(t,["pipelineJob"]);x!=null&&p(n,["pipelineJob"],x);const C=d(t,["serviceAccount"]);C!=null&&p(n,["serviceAccount"],C);const M=d(t,["tunedModelDisplayName"]);M!=null&&p(n,["tunedModelDisplayName"],M);const P=d(t,["veoTuningSpec"]);return P!=null&&p(n,["veoTuningSpec"],P),n}function V4(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(t,["done"]);a!=null&&p(n,["done"],a);const s=d(t,["error"]);return s!=null&&p(n,["error"],s),n}function ZT(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F4 extends Wr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bo(Hr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:cg.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=k4(e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>wg(c))}else{const u=D4(e);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>cP(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=B4(e);return s=K("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=z4(c),h=new AT;return Object.assign(h,f),h})}else{const u=L4(e);return s=K("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=j4(c),h=new AT;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=C4(e);return s=K("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=R4(c),h=new xT;return Object.assign(h,f),h})}else{const u=x4(e);return s=K("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=O4(c),h=new xT;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=N4(e,e);return o=K("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>wg(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=I4(e);return o=K("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>V4(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K4{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Y4=1024*1024*8,J4=3,W4=1e3,X4=2,od="x-goog-upload-status";async function Q4(t,e,n){var r;const i=await fP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[od])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Z4(t,e,n){var r;const i=await fP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[od])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=_M(o),s=new ib;return Object.assign(s,a),s}async function fP(t,e,n){var r,i;let o=0,a=0,s=new fg(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(Y4,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=W4;for(;f<J4&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[od]));)f++,await tV(h),h=h*X4;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[od])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function eV(t){return{size:t.size,type:t.type}}function tV(t){return new Promise(e=>setTimeout(e,t))}class nV{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Q4(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Z4(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eV(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rV{create(e,n,r){return new iV(e,n,r)}}class iV{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eE="x-goog-api-key";class oV{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(eE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(eE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aV="gl-node/";class sV{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=tj(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new oV(this.apiKey);this.apiClient=new eq({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:aV+"web",uploader:new nV,downloader:new K4}),this.models=new bq(this.apiClient),this.live=new hq(this.apiClient,i,new rV),this.batches=new M3(this.apiClient),this.chats=new fz(this.models,this.apiClient),this.caches=new lz(this.apiClient),this.files=new Sz(this.apiClient),this.operations=new _q(this.apiClient),this.authTokens=new $q(this.apiClient),this.tunings=new F4(this.apiClient),this.fileSearchStores=new qq(this.apiClient)}}var lV={API_KEY:"AIzaSyCbi-4ybhEG7SNt5ySjNIzTJM_dw_hPCnQ",SUPABASE_URL:"https://ciudiaxdaxocwymcnafw.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpdWRpYXhkYXhvY3d5bWNuYWZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwMjQyMDYsImV4cCI6MjA4MTYwMDIwNn0.oLD-O9zLgLmtRXlOiJxSrWyi00B0hpf9ZmPUnLsXanM"};const uV=async t=>{try{const r=(await new sV({apiKey:lV.API_KEY}).models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"application/pdf",data:t}},{text:"Analizza questa fattura ed estrai i seguenti dati in formato JSON: numero fattura (invoiceNumber), fornitore (vendor), data della fattura in formato YYYY-MM-DD (date), importo totale numerico (amount), e valuta (currency). Sii preciso."}]},config:{responseMimeType:"application/json",responseSchema:{type:Qt.OBJECT,properties:{invoiceNumber:{type:Qt.STRING},vendor:{type:Qt.STRING},date:{type:Qt.STRING},amount:{type:Qt.NUMBER},currency:{type:Qt.STRING}},required:["invoiceNumber","vendor","date","amount","currency"]}}})).text;return r?JSON.parse(r):null}catch(e){return console.error("Errore durante l'estrazione AI:",e),null}},cV=10*1024*1024,fV=({onClose:t,onSuccess:e})=>{const[n,r]=B.useState("idle"),[i,o]=B.useState(""),[a,s]=B.useState("validation"),l=B.useRef(null),u=f=>new Promise((h,m)=>{const v=new FileReader;v.onload=()=>{const y=v.result;if(!y){m(new Error("Il file sembra vuoto o non leggibile."));return}h(y.split(",")[1])},v.onerror=()=>m(new Error("Errore hardware o di sistema durante la lettura del file.")),v.readAsDataURL(f)}),c=async f=>{var m;const h=(m=f.target.files)==null?void 0:m[0];if(h){if(o(""),h.type!=="application/pdf"){r("error"),s("validation"),o(`Formato "${h.type||"sconosciuto"}" non supportato. Carica esclusivamente file PDF.`);return}if(h.size>cV){r("error"),s("validation"),o(`Il file  troppo grande (${(h.size/(1024*1024)).toFixed(1)}MB). Il limite massimo  10MB.`);return}try{r("reading");const v=await u(h);r("processing");const y=await uV(v);if(y){const _={id:crypto.randomUUID(),...y,pdfData:v,fileName:h.name,createdAt:Date.now()};r("success"),setTimeout(()=>e(_),800)}else r("error"),s("ai"),o("L'intelligenza artificiale non  riuscita a trovare dati validi in questa fattura. Assicurati che il testo sia nitido e non protetto da password.")}catch(v){console.error(v),r("error"),s("processing"),o(v.message||"Si  verificato un problema tecnico durante l'elaborazione. Riprova tra poco.")}}};return O.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-50 flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-300",children:[O.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Nuova Fattura"}),O.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Analisi istantanea con Gemini AI"})]}),O.jsx("button",{onClick:t,className:"p-2 hover:bg-white hover:shadow-sm rounded-full transition-all text-slate-400 hover:text-slate-600",children:O.jsx(tM,{size:20})})]}),O.jsxs("div",{className:"p-8",children:[n==="idle"&&O.jsxs("div",{onClick:()=>{var f;return(f=l.current)==null?void 0:f.click()},className:"border-2 border-dashed border-slate-200 rounded-2xl p-12 flex flex-col items-center justify-center gap-5 hover:border-blue-500 hover:bg-blue-50/30 cursor-pointer transition-all group relative overflow-hidden",children:[O.jsx("div",{className:"w-20 h-20 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-sm",children:O.jsx(mU,{size:36})}),O.jsxs("div",{className:"text-center",children:[O.jsx("p",{className:"font-bold text-slate-800 text-lg",children:"Seleziona Documento"}),O.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Trascina qui il tuo PDF o clicca per sfogliare"})]}),O.jsx("div",{className:"mt-2 px-3 py-1 bg-slate-100 rounded-full text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Max 10MB  PDF Only"}),O.jsx("input",{type:"file",ref:l,className:"hidden",accept:"application/pdf",onChange:c})]}),(n==="reading"||n==="processing")&&O.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-8",children:[O.jsxs("div",{className:"relative",children:[O.jsx(Wf,{className:"w-20 h-20 text-blue-600 animate-spin",strokeWidth:1.5}),O.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:O.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full animate-pulse"})})]}),O.jsxs("div",{className:"text-center",children:[O.jsx("h4",{className:"font-black text-xl text-slate-900 tracking-tight",children:n==="reading"?"Lettura in corso...":"Analisi Intelligente..."}),O.jsx("p",{className:"text-sm text-slate-500 max-w-[280px] mx-auto mt-3 leading-relaxed",children:n==="reading"?"Preparazione del documento per l'elaborazione cloud.":"Gemini sta estraendo fornitore, importi e date dai dati grezzi."})]})]}),n==="success"&&O.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-5 text-emerald-600 animate-in zoom-in duration-300",children:[O.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center shadow-inner",children:O.jsx(rU,{size:48})}),O.jsxs("div",{className:"text-center",children:[O.jsx("h4",{className:"font-black text-xl text-slate-900 tracking-tight",children:"Completato!"}),O.jsx("p",{className:"text-sm text-slate-500 mt-2 font-medium",children:"I dati sono pronti per l'archiviazione."})]})]}),n==="error"&&O.jsxs("div",{className:"flex flex-col items-center justify-center py-8 animate-in slide-in-from-top-4 duration-300",children:[O.jsx("div",{className:`w-20 h-20 ${a==="validation"?"bg-amber-100 text-amber-600":"bg-red-100 text-red-600"} rounded-full flex items-center justify-center mb-6 shadow-sm`,children:a==="validation"?O.jsx(sU,{size:40}):O.jsx(dU,{size:40})}),O.jsxs("div",{className:"text-center px-4",children:[O.jsx("h4",{className:"font-black text-lg text-slate-900 tracking-tight",children:"Oops! Qualcosa non va"}),O.jsx("div",{className:`mt-3 p-4 rounded-xl text-sm font-medium leading-relaxed ${a==="validation"?"bg-amber-50 text-amber-700 border border-amber-100":"bg-red-50 text-red-700 border border-red-100"}`,children:i})]}),O.jsxs("div",{className:"flex gap-3 mt-8 w-full",children:[O.jsx("button",{onClick:()=>r("idle"),className:"flex-1 py-3.5 bg-slate-900 text-white rounded-2xl transition-all font-bold text-sm shadow-lg shadow-slate-200 hover:shadow-xl active:scale-95",children:"Riprova"}),O.jsx("button",{onClick:t,className:"px-6 py-3.5 bg-slate-100 text-slate-600 rounded-2xl transition-all font-bold text-sm hover:bg-slate-200",children:"Annulla"})]})]})]}),n==="idle"&&O.jsx("div",{className:"px-8 pb-8",children:O.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 flex gap-3",children:[O.jsx("div",{className:"shrink-0 w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:O.jsx(Wf,{size:16,className:"animate-spin-slow"})}),O.jsxs("p",{className:"text-[11px] text-slate-500 font-medium leading-relaxed",children:[O.jsx("span",{className:"font-bold text-slate-700 block mb-0.5",children:"Suggerimento AI"}),"Il sistema funziona meglio con documenti PDF testuali. Se la fattura  una foto sfuocata o un PDF protetto, l'estrazione potrebbe fallire."]})]})})]})})};function dP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dP(t))&&(r&&(r+=" "),r+=e);return r}var dV=Array.isArray,rn=dV,hV=typeof pc=="object"&&pc&&pc.Object===Object&&pc,hP=hV,pV=hP,mV=typeof self=="object"&&self&&self.Object===Object&&self,vV=pV||mV||Function("return this")(),mr=vV,gV=mr,yV=gV.Symbol,oc=yV,tE=oc,pP=Object.prototype,bV=pP.hasOwnProperty,_V=pP.toString,il=tE?tE.toStringTag:void 0;function SV(t){var e=bV.call(t,il),n=t[il];try{t[il]=void 0;var r=!0}catch{}var i=_V.call(t);return r&&(e?t[il]=n:delete t[il]),i}var wV=SV,TV=Object.prototype,EV=TV.toString;function AV(t){return EV.call(t)}var xV=AV,nE=oc,CV=wV,OV=xV,RV="[object Null]",MV="[object Undefined]",rE=nE?nE.toStringTag:void 0;function PV(t){return t==null?t===void 0?MV:RV:rE&&rE in Object(t)?CV(t):OV(t)}var Qr=PV;function IV(t){return t!=null&&typeof t=="object"}var Zr=IV,NV=Qr,DV=Zr,kV="[object Symbol]";function $V(t){return typeof t=="symbol"||DV(t)&&NV(t)==kV}var $s=$V,UV=rn,LV=$s,BV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jV=/^\w*$/;function zV(t,e){if(UV(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||LV(t)?!0:jV.test(t)||!BV.test(t)||e!=null&&t in Object(e)}var db=zV;function GV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bi=GV;const Us=Te(Bi);var HV=Qr,qV=Bi,VV="[object AsyncFunction]",FV="[object Function]",KV="[object GeneratorFunction]",YV="[object Proxy]";function JV(t){if(!qV(t))return!1;var e=HV(t);return e==FV||e==KV||e==VV||e==YV}var hb=JV;const ie=Te(hb);var WV=mr,XV=WV["__core-js_shared__"],QV=XV,xm=QV,iE=function(){var t=/[^.]+$/.exec(xm&&xm.keys&&xm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ZV(t){return!!iE&&iE in t}var e6=ZV,t6=Function.prototype,n6=t6.toString;function r6(t){if(t!=null){try{return n6.call(t)}catch{}try{return t+""}catch{}}return""}var mP=r6,i6=hb,o6=e6,a6=Bi,s6=mP,l6=/[\\^$.*+?()[\]{}|]/g,u6=/^\[object .+?Constructor\]$/,c6=Function.prototype,f6=Object.prototype,d6=c6.toString,h6=f6.hasOwnProperty,p6=RegExp("^"+d6.call(h6).replace(l6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m6(t){if(!a6(t)||o6(t))return!1;var e=i6(t)?p6:u6;return e.test(s6(t))}var v6=m6;function g6(t,e){return t==null?void 0:t[e]}var y6=g6,b6=v6,_6=y6;function S6(t,e){var n=_6(t,e);return b6(n)?n:void 0}var jo=S6,w6=jo,T6=w6(Object,"create"),Dh=T6,oE=Dh;function E6(){this.__data__=oE?oE(null):{},this.size=0}var A6=E6;function x6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var C6=x6,O6=Dh,R6="__lodash_hash_undefined__",M6=Object.prototype,P6=M6.hasOwnProperty;function I6(t){var e=this.__data__;if(O6){var n=e[t];return n===R6?void 0:n}return P6.call(e,t)?e[t]:void 0}var N6=I6,D6=Dh,k6=Object.prototype,$6=k6.hasOwnProperty;function U6(t){var e=this.__data__;return D6?e[t]!==void 0:$6.call(e,t)}var L6=U6,B6=Dh,j6="__lodash_hash_undefined__";function z6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=B6&&e===void 0?j6:e,this}var G6=z6,H6=A6,q6=C6,V6=N6,F6=L6,K6=G6;function Ls(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ls.prototype.clear=H6;Ls.prototype.delete=q6;Ls.prototype.get=V6;Ls.prototype.has=F6;Ls.prototype.set=K6;var Y6=Ls;function J6(){this.__data__=[],this.size=0}var W6=J6;function X6(t,e){return t===e||t!==t&&e!==e}var pb=X6,Q6=pb;function Z6(t,e){for(var n=t.length;n--;)if(Q6(t[n][0],e))return n;return-1}var kh=Z6,eF=kh,tF=Array.prototype,nF=tF.splice;function rF(t){var e=this.__data__,n=eF(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nF.call(e,n,1),--this.size,!0}var iF=rF,oF=kh;function aF(t){var e=this.__data__,n=oF(e,t);return n<0?void 0:e[n][1]}var sF=aF,lF=kh;function uF(t){return lF(this.__data__,t)>-1}var cF=uF,fF=kh;function dF(t,e){var n=this.__data__,r=fF(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var hF=dF,pF=W6,mF=iF,vF=sF,gF=cF,yF=hF;function Bs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bs.prototype.clear=pF;Bs.prototype.delete=mF;Bs.prototype.get=vF;Bs.prototype.has=gF;Bs.prototype.set=yF;var $h=Bs,bF=jo,_F=mr,SF=bF(_F,"Map"),mb=SF,aE=Y6,wF=$h,TF=mb;function EF(){this.size=0,this.__data__={hash:new aE,map:new(TF||wF),string:new aE}}var AF=EF;function xF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var CF=xF,OF=CF;function RF(t,e){var n=t.__data__;return OF(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Uh=RF,MF=Uh;function PF(t){var e=MF(this,t).delete(t);return this.size-=e?1:0,e}var IF=PF,NF=Uh;function DF(t){return NF(this,t).get(t)}var kF=DF,$F=Uh;function UF(t){return $F(this,t).has(t)}var LF=UF,BF=Uh;function jF(t,e){var n=BF(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var zF=jF,GF=AF,HF=IF,qF=kF,VF=LF,FF=zF;function js(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}js.prototype.clear=GF;js.prototype.delete=HF;js.prototype.get=qF;js.prototype.has=VF;js.prototype.set=FF;var vb=js,vP=vb,KF="Expected a function";function gb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(KF);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(gb.Cache||vP),n}gb.Cache=vP;var gP=gb;const YF=Te(gP);var JF=gP,WF=500;function XF(t){var e=JF(t,function(r){return n.size===WF&&n.clear(),r}),n=e.cache;return e}var QF=XF,ZF=QF,e8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t8=/\\(\\)?/g,n8=ZF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(e8,function(n,r,i,o){e.push(i?o.replace(t8,"$1"):r||n)}),e}),r8=n8;function i8(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var yb=i8,sE=oc,o8=yb,a8=rn,s8=$s,lE=sE?sE.prototype:void 0,uE=lE?lE.toString:void 0;function yP(t){if(typeof t=="string")return t;if(a8(t))return o8(t,yP)+"";if(s8(t))return uE?uE.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var l8=yP,u8=l8;function c8(t){return t==null?"":u8(t)}var bP=c8,f8=rn,d8=db,h8=r8,p8=bP;function m8(t,e){return f8(t)?t:d8(t,e)?[t]:h8(p8(t))}var _P=m8,v8=$s;function g8(t){if(typeof t=="string"||v8(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Lh=g8,y8=_P,b8=Lh;function _8(t,e){e=y8(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[b8(e[n++])];return n&&n==r?t:void 0}var bb=_8,S8=bb;function w8(t,e,n){var r=t==null?void 0:S8(t,e);return r===void 0?n:r}var SP=w8;const _n=Te(SP);function T8(t){return t==null}var E8=T8;const fe=Te(E8);var A8=Qr,x8=rn,C8=Zr,O8="[object String]";function R8(t){return typeof t=="string"||!x8(t)&&C8(t)&&A8(t)==O8}var M8=R8;const Oo=Te(M8);var wP={exports:{}},Ce={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b=Symbol.for("react.element"),Sb=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Hh=Symbol.for("react.context"),P8=Symbol.for("react.server_context"),qh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Fh=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),I8=Symbol.for("react.offscreen"),TP;TP=Symbol.for("react.module.reference");function Gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _b:switch(t=t.type,t){case Bh:case zh:case jh:case Vh:case Fh:return t;default:switch(t=t&&t.$$typeof,t){case P8:case Hh:case qh:case Yh:case Kh:case Gh:return t;default:return e}}case Sb:return e}}}Ce.ContextConsumer=Hh;Ce.ContextProvider=Gh;Ce.Element=_b;Ce.ForwardRef=qh;Ce.Fragment=Bh;Ce.Lazy=Yh;Ce.Memo=Kh;Ce.Portal=Sb;Ce.Profiler=zh;Ce.StrictMode=jh;Ce.Suspense=Vh;Ce.SuspenseList=Fh;Ce.isAsyncMode=function(){return!1};Ce.isConcurrentMode=function(){return!1};Ce.isContextConsumer=function(t){return Gn(t)===Hh};Ce.isContextProvider=function(t){return Gn(t)===Gh};Ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_b};Ce.isForwardRef=function(t){return Gn(t)===qh};Ce.isFragment=function(t){return Gn(t)===Bh};Ce.isLazy=function(t){return Gn(t)===Yh};Ce.isMemo=function(t){return Gn(t)===Kh};Ce.isPortal=function(t){return Gn(t)===Sb};Ce.isProfiler=function(t){return Gn(t)===zh};Ce.isStrictMode=function(t){return Gn(t)===jh};Ce.isSuspense=function(t){return Gn(t)===Vh};Ce.isSuspenseList=function(t){return Gn(t)===Fh};Ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bh||t===zh||t===jh||t===Vh||t===Fh||t===I8||typeof t=="object"&&t!==null&&(t.$$typeof===Yh||t.$$typeof===Kh||t.$$typeof===Gh||t.$$typeof===Hh||t.$$typeof===qh||t.$$typeof===TP||t.getModuleId!==void 0)};Ce.typeOf=Gn;wP.exports=Ce;var N8=wP.exports,D8=Qr,k8=Zr,$8="[object Number]";function U8(t){return typeof t=="number"||k8(t)&&D8(t)==$8}var EP=U8;const L8=Te(EP);var B8=EP;function j8(t){return B8(t)&&t!=+t}var z8=j8;const ac=Te(z8);var zt=function(e){return e===0?0:e>0?1:-1},fo=function(e){return Oo(e)&&e.indexOf("%")===e.length-1},q=function(e){return L8(e)&&!ac(e)},G8=function(e){return fe(e)},mt=function(e){return q(e)||Oo(e)},H8=0,sc=function(e){var n=++H8;return"".concat(e||"").concat(n)},Gt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!q(e)&&!Oo(e))return r;var o;if(fo(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ac(o)&&(o=r),i&&o>n&&(o=n),o},pi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},q8=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},si=function(e,n){return q(e)&&q(n)?function(r){return e+r*(n-e)}:function(){return n}};function Tg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):_n(r,e))===n})}var V8=function(e,n){return q(e)&&q(n)?e-n:Oo(e)&&Oo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ja(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}var F8=["viewBox","children"],K8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cE=["points","pathLength"],Cm={svg:F8,polygon:cE,polyline:cE},wb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ad=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!Us(r))return null;var i={};return Object.keys(r).forEach(function(o){wb.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Y8=function(e,n,r){return function(i){return e(n,r,i),null}},Ro=function(e,n,r){if(!Us(e)||Eg(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];wb.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Y8(a,n,r))}),i},J8=["children"],W8=["children"];function fE(t,e){if(t==null)return{};var n=X8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$r=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},hE=null,Om=null,Tb=function t(e){if(e===hE&&Array.isArray(Om))return Om;var n=[];return B.Children.forEach(e,function(r){fe(r)||(N8.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Om=n,hE=e,n};function Ln(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return $r(i)}):r=[$r(e)],Tb(t).forEach(function(i){var o=_n(i,"type.displayName")||_n(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function un(t,e){var n=Ln(t,e);return n&&n[0]}var pE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!q(r)||r<=0||!q(i)||i<=0)},Q8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Z8=function(e){return e&&e.type&&Oo(e.type)&&Q8.indexOf(e.type)>=0},e5=function(e,n,r,i){var o,a=(o=Cm==null?void 0:Cm[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ie(e)&&(i&&a.includes(n)||K8.includes(n))||r&&wb.includes(n)},ne=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!Us(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;e5((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Ag=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return mE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!mE(o,a))return!1}return!0},mE=function(e,n){if(fe(e)&&fe(n))return!0;if(!fe(e)&&!fe(n)){var r=e.props||{},i=r.children,o=fE(r,J8),a=n.props||{},s=a.children,l=fE(a,W8);return i&&s?ja(o,l)&&Ag(i,s):!i&&!s?ja(o,l):!1}return!1},vE=function(e,n){var r=[],i={};return Tb(e).forEach(function(o,a){if(Z8(o))r.push(o);else if(o){var s=$r(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},t5=function(e){var n=e&&e.type;return n&&dE[n]?dE[n]:null},n5=function(e,n){return Tb(n).indexOf(e)},r5=["children","width","height","viewBox","className","style","title","desc"];function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function i5(t,e){if(t==null)return{};var n=o5(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cg(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=i5(t,r5),c=i||{width:n,height:r,x:0,y:0},f=ce("recharts-surface",o);return R.createElement("svg",xg({},ne(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),R.createElement("title",null,s),R.createElement("desc",null,l),e)}var a5=["children","className"];function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function s5(t,e){if(t==null)return{};var n=l5(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xe=R.forwardRef(function(t,e){var n=t.children,r=t.className,i=s5(t,a5),o=ce("recharts-layer",r);return R.createElement("g",Og({className:o},ne(i,!0),{ref:e}),n)}),tr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function u5(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var c5=u5,f5=c5;function d5(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:f5(t,e,n)}var h5=d5,p5="\\ud800-\\udfff",m5="\\u0300-\\u036f",v5="\\ufe20-\\ufe2f",g5="\\u20d0-\\u20ff",y5=m5+v5+g5,b5="\\ufe0e\\ufe0f",_5="\\u200d",S5=RegExp("["+_5+p5+y5+b5+"]");function w5(t){return S5.test(t)}var AP=w5;function T5(t){return t.split("")}var E5=T5,xP="\\ud800-\\udfff",A5="\\u0300-\\u036f",x5="\\ufe20-\\ufe2f",C5="\\u20d0-\\u20ff",O5=A5+x5+C5,R5="\\ufe0e\\ufe0f",M5="["+xP+"]",Rg="["+O5+"]",Mg="\\ud83c[\\udffb-\\udfff]",P5="(?:"+Rg+"|"+Mg+")",CP="[^"+xP+"]",OP="(?:\\ud83c[\\udde6-\\uddff]){2}",RP="[\\ud800-\\udbff][\\udc00-\\udfff]",I5="\\u200d",MP=P5+"?",PP="["+R5+"]?",N5="(?:"+I5+"(?:"+[CP,OP,RP].join("|")+")"+PP+MP+")*",D5=PP+MP+N5,k5="(?:"+[CP+Rg+"?",Rg,OP,RP,M5].join("|")+")",$5=RegExp(Mg+"(?="+Mg+")|"+k5+D5,"g");function U5(t){return t.match($5)||[]}var L5=U5,B5=E5,j5=AP,z5=L5;function G5(t){return j5(t)?z5(t):B5(t)}var H5=G5,q5=h5,V5=AP,F5=H5,K5=bP;function Y5(t){return function(e){e=K5(e);var n=V5(e)?F5(e):void 0,r=n?n[0]:e.charAt(0),i=n?q5(n,1).join(""):e.slice(1);return r[t]()+i}}var J5=Y5,W5=J5,X5=W5("toUpperCase"),Q5=X5;const Jh=Te(Q5);function ke(t){return function(){return t}}const IP=Math.cos,sd=Math.sin,ir=Math.sqrt,ld=Math.PI,Wh=2*ld,Pg=Math.PI,Ig=2*Pg,io=1e-6,Z5=Ig-io;function NP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function eK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NP:eK(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>io)if(!(Math.abs(f*l-u*c)>io)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,v=i-s,y=l*l+u*u,_=m*m+v*v,g=Math.sqrt(y),b=Math.sqrt(h),S=o*Math.tan((Pg-Math.acos((y+h-_)/(2*g*b)))/2),T=S/b,w=S/g;Math.abs(T-1)>io&&this._append`L${e+T*c},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*m>c*v)},${this._x1=e+w*l},${this._y1=n+w*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>io||Math.abs(this._y1-c)>io)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Ig+Ig),h>Z5?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>io&&this._append`A${r},${r},0,${+(h>=Pg)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Eb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new tK(e)}function Ab(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DP(t){this._context=t}DP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xh(t){return new DP(t)}function kP(t){return t[0]}function $P(t){return t[1]}function UP(t,e){var n=ke(!0),r=null,i=Xh,o=null,a=Eb(s);t=typeof t=="function"?t:t===void 0?kP:ke(t),e=typeof e=="function"?e:e===void 0?$P:ke(e);function s(l){var u,c=(l=Ab(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ke(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ke(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ke(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function jc(t,e,n){var r=null,i=ke(!0),o=null,a=Xh,s=null,l=Eb(u);t=typeof t=="function"?t:t===void 0?kP:ke(+t),e=typeof e=="function"?e:ke(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$P:ke(+n);function u(f){var h,m,v,y=(f=Ab(f)).length,_,g=!1,b,S=new Array(y),T=new Array(y);for(o==null&&(s=a(b=l())),h=0;h<=y;++h){if(!(h<y&&i(_=f[h],h,f))===g)if(g=!g)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(S[v],T[v]);s.lineEnd(),s.areaEnd()}g&&(S[h]=+t(_,h,f),T[h]=+e(_,h,f),s.point(r?+r(_,h,f):S[h],n?+n(_,h,f):T[h]))}if(b)return s=null,b+""||null}function c(){return UP().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ke(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ke(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ke(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ke(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ke(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ke(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ke(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class LP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function nK(t){return new LP(t,!0)}function rK(t){return new LP(t,!1)}const xb={draw(t,e){const n=ir(e/ld);t.moveTo(n,0),t.arc(0,0,n,0,Wh)}},iK={draw(t,e){const n=ir(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},BP=ir(1/3),oK=BP*2,aK={draw(t,e){const n=ir(e/oK),r=n*BP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},sK={draw(t,e){const n=ir(e),r=-n/2;t.rect(r,r,n,n)}},lK=.8908130915292852,jP=sd(ld/10)/sd(7*ld/10),uK=sd(Wh/10)*jP,cK=-IP(Wh/10)*jP,fK={draw(t,e){const n=ir(e*lK),r=uK*n,i=cK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Wh*o/5,s=IP(a),l=sd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Rm=ir(3),dK={draw(t,e){const n=-ir(e/(Rm*3));t.moveTo(0,n*2),t.lineTo(-Rm*n,-n),t.lineTo(Rm*n,-n),t.closePath()}},Tn=-.5,En=ir(3)/2,Ng=1/ir(12),hK=(Ng/2+1)*3,pK={draw(t,e){const n=ir(e/hK),r=n/2,i=n*Ng,o=r,a=n*Ng+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Tn*r-En*i,En*r+Tn*i),t.lineTo(Tn*o-En*a,En*o+Tn*a),t.lineTo(Tn*s-En*l,En*s+Tn*l),t.lineTo(Tn*r+En*i,Tn*i-En*r),t.lineTo(Tn*o+En*a,Tn*a-En*o),t.lineTo(Tn*s+En*l,Tn*l-En*s),t.closePath()}};function mK(t,e){let n=null,r=Eb(i);t=typeof t=="function"?t:ke(t||xb),e=typeof e=="function"?e:ke(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ke(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ke(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ud(){}function cd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function zP(t){this._context=t}zP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vK(t){return new zP(t)}function GP(t){this._context=t}GP.prototype={areaStart:ud,areaEnd:ud,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gK(t){return new GP(t)}function HP(t){this._context=t}HP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yK(t){return new HP(t)}function qP(t){this._context=t}qP.prototype={areaStart:ud,areaEnd:ud,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bK(t){return new qP(t)}function gE(t){return t<0?-1:1}function yE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(gE(o)+gE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function bE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Mm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function fd(t){this._context=t}fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mm(this,this._t0,bE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mm(this,bE(this,n=yE(this,t,e)),n);break;default:Mm(this,this._t0,n=yE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function VP(t){this._context=new FP(t)}(VP.prototype=Object.create(fd.prototype)).point=function(t,e){fd.prototype.point.call(this,e,t)};function FP(t){this._context=t}FP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function _K(t){return new fd(t)}function SK(t){return new VP(t)}function KP(t){this._context=t}KP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=_E(t),i=_E(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _E(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function wK(t){return new KP(t)}function Qh(t,e){this._context=t,this._t=e}Qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function TK(t){return new Qh(t,.5)}function EK(t){return new Qh(t,0)}function AK(t){return new Qh(t,1)}function ts(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Dg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xK(t,e){return t[e]}function CK(t){const e=[];return e.key=t,e}function OK(){var t=ke([]),e=Dg,n=ts,r=xK;function i(o){var a=Array.from(t.apply(this,arguments),CK),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=Ab(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ke(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ke(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Dg:typeof o=="function"?o:ke(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ts,i):n},i}function RK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ts(t,e)}}function MK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ts(t,e)}}function PK(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,m=(f-h)/2,v=0;v<s;++v){var y=t[e[v]],_=y[r][1]||0,g=y[r-1][1]||0;m+=_-g}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ts(t,e)}}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}var IK=["type","size","sizeType"];function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){NK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NK(t,e,n){return e=DK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=kK(t,"string");return fu(e)=="symbol"?e:e+""}function kK(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $K(t,e){if(t==null)return{};var n=UK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YP={symbolCircle:xb,symbolCross:iK,symbolDiamond:aK,symbolSquare:sK,symbolStar:fK,symbolTriangle:dK,symbolWye:pK},LK=Math.PI/180,BK=function(e){var n="symbol".concat(Jh(e));return YP[n]||xb},jK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*LK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zK=function(e,n){YP["symbol".concat(Jh(e))]=n},Cb=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=$K(e,IK),u=wE(wE({},l),{},{type:r,size:o,sizeType:s}),c=function(){var _=BK(r),g=mK().type(_).size(jK(o,s,r));return g()},f=u.className,h=u.cx,m=u.cy,v=ne(u,!0);return h===+h&&m===+m&&o===+o?R.createElement("path",kg({},v,{className:ce("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};Cb.registerSymbol=zK;function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function TE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(r){du(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WP(r.key),r)}}function VK(t,e,n){return e&&qK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FK(t,e,n){return e=dd(e),KK(t,JP()?Reflect.construct(e,n||[],dd(t).constructor):e.apply(t,n))}function KK(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YK(t)}function YK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JP=function(){return!!t})()}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dd(t)}function JK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ug(t,e)}function Ug(t,e){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ug(t,e)}function du(t,e,n){return e=WP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WP(t){var e=WK(t,"string");return ns(e)=="symbol"?e:e+""}function WK(t,e){if(ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var An=32,Ob=function(t){function e(){return HK(this,e),FK(this,e,arguments)}return JK(e,t),VK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=An/2,a=An/6,s=An/3,l=r.inactive?i:r.color;if(r.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:An,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(An,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return R.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(An/8,"h").concat(An,"v").concat(An*3/4,"h").concat(-An,"z"),className:"recharts-legend-icon"});if(R.isValidElement(r.legendIcon)){var u=GK({},r);return delete u.legendIcon,R.cloneElement(r.legendIcon,u)}return R.createElement(Cb,{fill:l,cx:o,cy:o,size:An,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:An,height:An},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var y=m.formatter||l,_=ce(du(du({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var g=ie(m.value)?null:m.value;tr(!ie(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return R.createElement("li",$g({className:_,style:f,key:"legend-item-".concat(v)},Ro(r.props,m,v)),R.createElement(Cg,{width:a,height:a,viewBox:c,style:h},r.renderIcon(m)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(g,m,v):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(B.PureComponent);du(Ob,"displayName","Legend");du(Ob,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var XK=$h;function QK(){this.__data__=new XK,this.size=0}var ZK=QK;function e9(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var t9=e9;function n9(t){return this.__data__.get(t)}var r9=n9;function i9(t){return this.__data__.has(t)}var o9=i9,a9=$h,s9=mb,l9=vb,u9=200;function c9(t,e){var n=this.__data__;if(n instanceof a9){var r=n.__data__;if(!s9||r.length<u9-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new l9(r)}return n.set(t,e),this.size=n.size,this}var f9=c9,d9=$h,h9=ZK,p9=t9,m9=r9,v9=o9,g9=f9;function zs(t){var e=this.__data__=new d9(t);this.size=e.size}zs.prototype.clear=h9;zs.prototype.delete=p9;zs.prototype.get=m9;zs.prototype.has=v9;zs.prototype.set=g9;var XP=zs,y9="__lodash_hash_undefined__";function b9(t){return this.__data__.set(t,y9),this}var _9=b9;function S9(t){return this.__data__.has(t)}var w9=S9,T9=vb,E9=_9,A9=w9;function hd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new T9;++e<n;)this.add(t[e])}hd.prototype.add=hd.prototype.push=E9;hd.prototype.has=A9;var QP=hd;function x9(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ZP=x9;function C9(t,e){return t.has(e)}var eI=C9,O9=QP,R9=ZP,M9=eI,P9=1,I9=2;function N9(t,e,n,r,i,o){var a=n&P9,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,m=n&I9?new O9:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],y=e[f];if(r)var _=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(_!==void 0){if(_)continue;h=!1;break}if(m){if(!R9(e,function(g,b){if(!M9(m,b)&&(v===g||i(v,g,n,r,o)))return m.push(b)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var tI=N9,D9=mr,k9=D9.Uint8Array,$9=k9;function U9(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var L9=U9;function B9(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Rb=B9,EE=oc,AE=$9,j9=pb,z9=tI,G9=L9,H9=Rb,q9=1,V9=2,F9="[object Boolean]",K9="[object Date]",Y9="[object Error]",J9="[object Map]",W9="[object Number]",X9="[object RegExp]",Q9="[object Set]",Z9="[object String]",eY="[object Symbol]",tY="[object ArrayBuffer]",nY="[object DataView]",xE=EE?EE.prototype:void 0,Pm=xE?xE.valueOf:void 0;function rY(t,e,n,r,i,o,a){switch(n){case nY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tY:return!(t.byteLength!=e.byteLength||!o(new AE(t),new AE(e)));case F9:case K9:case W9:return j9(+t,+e);case Y9:return t.name==e.name&&t.message==e.message;case X9:case Z9:return t==e+"";case J9:var s=G9;case Q9:var l=r&q9;if(s||(s=H9),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=V9,a.set(t,e);var c=z9(s(t),s(e),r,i,o,a);return a.delete(t),c;case eY:if(Pm)return Pm.call(t)==Pm.call(e)}return!1}var iY=rY;function oY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nI=oY,aY=nI,sY=rn;function lY(t,e,n){var r=e(t);return sY(t)?r:aY(r,n(t))}var uY=lY;function cY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var fY=cY;function dY(){return[]}var hY=dY,pY=fY,mY=hY,vY=Object.prototype,gY=vY.propertyIsEnumerable,CE=Object.getOwnPropertySymbols,yY=CE?function(t){return t==null?[]:(t=Object(t),pY(CE(t),function(e){return gY.call(t,e)}))}:mY,bY=yY;function _Y(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var SY=_Y,wY=Qr,TY=Zr,EY="[object Arguments]";function AY(t){return TY(t)&&wY(t)==EY}var xY=AY,OE=xY,CY=Zr,rI=Object.prototype,OY=rI.hasOwnProperty,RY=rI.propertyIsEnumerable,MY=OE(function(){return arguments}())?OE:function(t){return CY(t)&&OY.call(t,"callee")&&!RY.call(t,"callee")},Mb=MY,pd={exports:{}};function PY(){return!1}var IY=PY;pd.exports;(function(t,e){var n=mr,r=IY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(pd,pd.exports);var iI=pd.exports,NY=9007199254740991,DY=/^(?:0|[1-9]\d*)$/;function kY(t,e){var n=typeof t;return e=e??NY,!!e&&(n=="number"||n!="symbol"&&DY.test(t))&&t>-1&&t%1==0&&t<e}var Pb=kY,$Y=9007199254740991;function UY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$Y}var Ib=UY,LY=Qr,BY=Ib,jY=Zr,zY="[object Arguments]",GY="[object Array]",HY="[object Boolean]",qY="[object Date]",VY="[object Error]",FY="[object Function]",KY="[object Map]",YY="[object Number]",JY="[object Object]",WY="[object RegExp]",XY="[object Set]",QY="[object String]",ZY="[object WeakMap]",e7="[object ArrayBuffer]",t7="[object DataView]",n7="[object Float32Array]",r7="[object Float64Array]",i7="[object Int8Array]",o7="[object Int16Array]",a7="[object Int32Array]",s7="[object Uint8Array]",l7="[object Uint8ClampedArray]",u7="[object Uint16Array]",c7="[object Uint32Array]",je={};je[n7]=je[r7]=je[i7]=je[o7]=je[a7]=je[s7]=je[l7]=je[u7]=je[c7]=!0;je[zY]=je[GY]=je[e7]=je[HY]=je[t7]=je[qY]=je[VY]=je[FY]=je[KY]=je[YY]=je[JY]=je[WY]=je[XY]=je[QY]=je[ZY]=!1;function f7(t){return jY(t)&&BY(t.length)&&!!je[LY(t)]}var d7=f7;function h7(t){return function(e){return t(e)}}var oI=h7,md={exports:{}};md.exports;(function(t,e){var n=hP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(md,md.exports);var p7=md.exports,m7=d7,v7=oI,RE=p7,ME=RE&&RE.isTypedArray,g7=ME?v7(ME):m7,aI=g7,y7=SY,b7=Mb,_7=rn,S7=iI,w7=Pb,T7=aI,E7=Object.prototype,A7=E7.hasOwnProperty;function x7(t,e){var n=_7(t),r=!n&&b7(t),i=!n&&!r&&S7(t),o=!n&&!r&&!i&&T7(t),a=n||r||i||o,s=a?y7(t.length,String):[],l=s.length;for(var u in t)(e||A7.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||w7(u,l)))&&s.push(u);return s}var C7=x7,O7=Object.prototype;function R7(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||O7;return t===n}var M7=R7;function P7(t,e){return function(n){return t(e(n))}}var sI=P7,I7=sI,N7=I7(Object.keys,Object),D7=N7,k7=M7,$7=D7,U7=Object.prototype,L7=U7.hasOwnProperty;function B7(t){if(!k7(t))return $7(t);var e=[];for(var n in Object(t))L7.call(t,n)&&n!="constructor"&&e.push(n);return e}var j7=B7,z7=hb,G7=Ib;function H7(t){return t!=null&&G7(t.length)&&!z7(t)}var lc=H7,q7=C7,V7=j7,F7=lc;function K7(t){return F7(t)?q7(t):V7(t)}var Zh=K7,Y7=uY,J7=bY,W7=Zh;function X7(t){return Y7(t,W7,J7)}var Q7=X7,PE=Q7,Z7=1,eJ=Object.prototype,tJ=eJ.hasOwnProperty;function nJ(t,e,n,r,i,o){var a=n&Z7,s=PE(t),l=s.length,u=PE(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:tJ.call(e,h)))return!1}var m=o.get(t),v=o.get(e);if(m&&v)return m==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var _=a;++f<l;){h=s[f];var g=t[h],b=e[h];if(r)var S=a?r(b,g,h,e,t,o):r(g,b,h,t,e,o);if(!(S===void 0?g===b||i(g,b,n,r,o):S)){y=!1;break}_||(_=h=="constructor")}if(y&&!_){var T=t.constructor,w=e.constructor;T!=w&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof w=="function"&&w instanceof w)&&(y=!1)}return o.delete(t),o.delete(e),y}var rJ=nJ,iJ=jo,oJ=mr,aJ=iJ(oJ,"DataView"),sJ=aJ,lJ=jo,uJ=mr,cJ=lJ(uJ,"Promise"),fJ=cJ,dJ=jo,hJ=mr,pJ=dJ(hJ,"Set"),lI=pJ,mJ=jo,vJ=mr,gJ=mJ(vJ,"WeakMap"),yJ=gJ,Lg=sJ,Bg=mb,jg=fJ,zg=lI,Gg=yJ,uI=Qr,Gs=mP,IE="[object Map]",bJ="[object Object]",NE="[object Promise]",DE="[object Set]",kE="[object WeakMap]",$E="[object DataView]",_J=Gs(Lg),SJ=Gs(Bg),wJ=Gs(jg),TJ=Gs(zg),EJ=Gs(Gg),oo=uI;(Lg&&oo(new Lg(new ArrayBuffer(1)))!=$E||Bg&&oo(new Bg)!=IE||jg&&oo(jg.resolve())!=NE||zg&&oo(new zg)!=DE||Gg&&oo(new Gg)!=kE)&&(oo=function(t){var e=uI(t),n=e==bJ?t.constructor:void 0,r=n?Gs(n):"";if(r)switch(r){case _J:return $E;case SJ:return IE;case wJ:return NE;case TJ:return DE;case EJ:return kE}return e});var AJ=oo,Im=XP,xJ=tI,CJ=iY,OJ=rJ,UE=AJ,LE=rn,BE=iI,RJ=aI,MJ=1,jE="[object Arguments]",zE="[object Array]",zc="[object Object]",PJ=Object.prototype,GE=PJ.hasOwnProperty;function IJ(t,e,n,r,i,o){var a=LE(t),s=LE(e),l=a?zE:UE(t),u=s?zE:UE(e);l=l==jE?zc:l,u=u==jE?zc:u;var c=l==zc,f=u==zc,h=l==u;if(h&&BE(t)){if(!BE(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Im),a||RJ(t)?xJ(t,e,n,r,i,o):CJ(t,e,l,n,r,i,o);if(!(n&MJ)){var m=c&&GE.call(t,"__wrapped__"),v=f&&GE.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,_=v?e.value():e;return o||(o=new Im),i(y,_,n,r,o)}}return h?(o||(o=new Im),OJ(t,e,n,r,i,o)):!1}var NJ=IJ,DJ=NJ,HE=Zr;function cI(t,e,n,r,i){return t===e?!0:t==null||e==null||!HE(t)&&!HE(e)?t!==t&&e!==e:DJ(t,e,n,r,cI,i)}var Nb=cI,kJ=XP,$J=Nb,UJ=1,LJ=2;function BJ(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new kJ;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?$J(c,u,UJ|LJ,r,f):h))return!1}}return!0}var jJ=BJ,zJ=Bi;function GJ(t){return t===t&&!zJ(t)}var fI=GJ,HJ=fI,qJ=Zh;function VJ(t){for(var e=qJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,HJ(i)]}return e}var FJ=VJ;function KJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var dI=KJ,YJ=jJ,JJ=FJ,WJ=dI;function XJ(t){var e=JJ(t);return e.length==1&&e[0][2]?WJ(e[0][0],e[0][1]):function(n){return n===t||YJ(n,t,e)}}var QJ=XJ;function ZJ(t,e){return t!=null&&e in Object(t)}var eW=ZJ,tW=_P,nW=Mb,rW=rn,iW=Pb,oW=Ib,aW=Lh;function sW(t,e,n){e=tW(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=aW(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&oW(i)&&iW(a,i)&&(rW(t)||nW(t)))}var lW=sW,uW=eW,cW=lW;function fW(t,e){return t!=null&&cW(t,e,uW)}var dW=fW,hW=Nb,pW=SP,mW=dW,vW=db,gW=fI,yW=dI,bW=Lh,_W=1,SW=2;function wW(t,e){return vW(t)&&gW(e)?yW(bW(t),e):function(n){var r=pW(n,t);return r===void 0&&r===e?mW(n,t):hW(e,r,_W|SW)}}var TW=wW;function EW(t){return t}var Hs=EW;function AW(t){return function(e){return e==null?void 0:e[t]}}var xW=AW,CW=bb;function OW(t){return function(e){return CW(e,t)}}var RW=OW,MW=xW,PW=RW,IW=db,NW=Lh;function DW(t){return IW(t)?MW(NW(t)):PW(t)}var kW=DW,$W=QJ,UW=TW,LW=Hs,BW=rn,jW=kW;function zW(t){return typeof t=="function"?t:t==null?LW:typeof t=="object"?BW(t)?UW(t[0],t[1]):$W(t):jW(t)}var vr=zW;function GW(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var hI=GW;function HW(t){return t!==t}var qW=HW;function VW(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var FW=VW,KW=hI,YW=qW,JW=FW;function WW(t,e,n){return e===e?JW(t,e,n):KW(t,YW,n)}var XW=WW,QW=XW;function ZW(t,e){var n=t==null?0:t.length;return!!n&&QW(t,e,0)>-1}var eX=ZW;function tX(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var nX=tX;function rX(){}var iX=rX,Nm=lI,oX=iX,aX=Rb,sX=1/0,lX=Nm&&1/aX(new Nm([,-0]))[1]==sX?function(t){return new Nm(t)}:oX,uX=lX,cX=QP,fX=eX,dX=nX,hX=eI,pX=uX,mX=Rb,vX=200;function gX(t,e,n){var r=-1,i=fX,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=dX;else if(o>=vX){var u=e?null:pX(t);if(u)return mX(u);a=!1,i=hX,l=new cX}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var yX=gX,bX=vr,_X=yX;function SX(t,e){return t&&t.length?_X(t,bX(e)):[]}var wX=SX;const qE=Te(wX);function pI(t,e,n){return e===!0?qE(t,n):ie(e)?qE(t,e):t}function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}var TX=["ref"];function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){ep(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vI(r.key),r)}}function AX(t,e,n){return e&&FE(t.prototype,e),n&&FE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xX(t,e,n){return e=vd(e),CX(t,mI()?Reflect.construct(e,n||[],vd(t).constructor):e.apply(t,n))}function CX(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OX(t)}function OX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mI=function(){return!!t})()}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(t)}function RX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hg(t,e)}function Hg(t,e){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hg(t,e)}function ep(t,e,n){return e=vI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vI(t){var e=MX(t,"string");return rs(e)=="symbol"?e:e+""}function MX(t,e){if(rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PX(t,e){if(t==null)return{};var n=IX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NX(t){return t.value}function DX(t,e){if(R.isValidElement(t))return R.cloneElement(t,e);if(typeof t=="function")return R.createElement(t,e);e.ref;var n=PX(e,TX);return R.createElement(Ob,n)}var KE=1,za=function(t){function e(){var n;EX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xX(this,e,[].concat(i)),ep(n,"lastBoundingBox",{width:-1,height:-1}),n}return RX(e,t),AX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>KE||Math.abs(i.height-this.lastBoundingBox.height)>KE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Sr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Sr(Sr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Sr(Sr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},DX(o,Sr(Sr({},this.props),{},{payload:pI(c,u,NX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Sr(Sr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&q(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(B.PureComponent);ep(za,"displayName","Legend");ep(za,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var YE=oc,kX=Mb,$X=rn,JE=YE?YE.isConcatSpreadable:void 0;function UX(t){return $X(t)||kX(t)||!!(JE&&t&&t[JE])}var LX=UX,BX=nI,jX=LX;function gI(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=jX),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?gI(s,e-1,n,r,i):BX(i,s):r||(i[i.length]=s)}return i}var yI=gI;function zX(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var GX=zX,HX=GX,qX=HX(),VX=qX,FX=VX,KX=Zh;function YX(t,e){return t&&FX(t,e,KX)}var bI=YX,JX=lc;function WX(t,e){return function(n,r){if(n==null)return n;if(!JX(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var XX=WX,QX=bI,ZX=XX,eQ=ZX(QX),Db=eQ,tQ=Db,nQ=lc;function rQ(t,e){var n=-1,r=nQ(t)?Array(t.length):[];return tQ(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var _I=rQ;function iQ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var oQ=iQ,WE=$s;function aQ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=WE(t),a=e!==void 0,s=e===null,l=e===e,u=WE(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var sQ=aQ,lQ=sQ;function uQ(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=lQ(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var cQ=uQ,Dm=yb,fQ=bb,dQ=vr,hQ=_I,pQ=oQ,mQ=oI,vQ=cQ,gQ=Hs,yQ=rn;function bQ(t,e,n){e.length?e=Dm(e,function(o){return yQ(o)?function(a){return fQ(a,o.length===1?o[0]:o)}:o}):e=[gQ];var r=-1;e=Dm(e,mQ(dQ));var i=hQ(t,function(o,a,s){var l=Dm(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return pQ(i,function(o,a){return vQ(o,a,n)})}var _Q=bQ;function SQ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var wQ=SQ,TQ=wQ,XE=Math.max;function EQ(t,e,n){return e=XE(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=XE(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),TQ(t,this,s)}}var AQ=EQ;function xQ(t){return function(){return t}}var CQ=xQ,OQ=jo,RQ=function(){try{var t=OQ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),SI=RQ,MQ=CQ,QE=SI,PQ=Hs,IQ=QE?function(t,e){return QE(t,"toString",{configurable:!0,enumerable:!1,value:MQ(e),writable:!0})}:PQ,NQ=IQ,DQ=800,kQ=16,$Q=Date.now;function UQ(t){var e=0,n=0;return function(){var r=$Q(),i=kQ-(r-n);if(n=r,i>0){if(++e>=DQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var LQ=UQ,BQ=NQ,jQ=LQ,zQ=jQ(BQ),GQ=zQ,HQ=Hs,qQ=AQ,VQ=GQ;function FQ(t,e){return VQ(qQ(t,e,HQ),t+"")}var KQ=FQ,YQ=pb,JQ=lc,WQ=Pb,XQ=Bi;function QQ(t,e,n){if(!XQ(n))return!1;var r=typeof e;return(r=="number"?JQ(n)&&WQ(e,n.length):r=="string"&&e in n)?YQ(n[e],t):!1}var tp=QQ,ZQ=yI,eZ=_Q,tZ=KQ,ZE=tp,nZ=tZ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ZE(t,e[0],e[1])?e=[]:n>2&&ZE(e[0],e[1],e[2])&&(e=[e[0]]),eZ(t,ZQ(e,1),[])}),rZ=nZ;const kb=Te(rZ);function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function iZ(t,e){return lZ(t)||sZ(t,e)||aZ(t,e)||oZ()}function oZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZ(t,e){if(t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function lZ(t){if(Array.isArray(t))return t}function tA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(n),!0).forEach(function(r){uZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uZ(t,e,n){return e=cZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=fZ(t,"string");return hu(e)=="symbol"?e:e+""}function fZ(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dZ(t){return Array.isArray(t)&&mt(t[0])&&mt(t[1])?t.join(" ~ "):t}var hZ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,y=e.label,_=e.labelFormatter,g=e.accessibilityLayer,b=g===void 0?!1:g,S=function(){if(c&&c.length){var N={padding:0,margin:0},D=(h?kb(c,h):c).map(function(U,L){if(U.type==="none")return null;var I=km({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),k=U.formatter||f||dZ,j=U.value,G=U.name,V=j,X=G;if(k&&V!=null&&X!=null){var F=k(j,G,U,L,c);if(Array.isArray(F)){var Q=iZ(F,2);V=Q[0],X=Q[1]}else V=F}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:I},mt(X)?R.createElement("span",{className:"recharts-tooltip-item-name"},X):null,mt(X)?R.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,R.createElement("span",{className:"recharts-tooltip-item-value"},V),R.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:N},D)}return null},T=km({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=km({margin:0},u),E=!fe(y),A=E?y:"",x=ce("recharts-default-tooltip",m),C=ce("recharts-tooltip-label",v);E&&_&&c!==void 0&&c!==null&&(A=_(y,c));var M=b?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",qg({className:x,style:T},M),R.createElement("p",{className:C,style:w},R.isValidElement(A)?A:"".concat(A)),S())};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Gc(t,e,n){return e=pZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=mZ(t,"string");return pu(e)=="symbol"?e:e+""}function mZ(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ol="recharts-tooltip-wrapper",vZ={visibility:"hidden"};function gZ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ce(ol,Gc(Gc(Gc(Gc({},"".concat(ol,"-right"),q(n)&&e&&q(e.x)&&n>=e.x),"".concat(ol,"-left"),q(n)&&e&&q(e.x)&&n<e.x),"".concat(ol,"-bottom"),q(r)&&e&&q(e.y)&&r>=e.y),"".concat(ol,"-top"),q(r)&&e&&q(e.y)&&r<e.y))}function nA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&q(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,m=l[r];return h<m?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+s,y=l[r]+u;return v>y?Math.max(c,l[r]):Math.max(f,l[r])}function yZ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bZ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=nA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=nA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=yZ({translateX:c,translateY:f,useTranslate3d:s})):u=vZ,{cssProperties:u,cssClasses:gZ({translateX:c,translateY:f,coordinate:n})}}function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){Fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TI(r.key),r)}}function wZ(t,e,n){return e&&SZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TZ(t,e,n){return e=gd(e),EZ(t,wI()?Reflect.construct(e,n||[],gd(t).constructor):e.apply(t,n))}function EZ(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AZ(t)}function AZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wI=function(){return!!t})()}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gd(t)}function xZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vg(t,e)}function Vg(t,e){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vg(t,e)}function Fg(t,e,n){return e=TI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TI(t){var e=CZ(t,"string");return is(e)=="symbol"?e:e+""}function CZ(t,e){if(is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oA=1,OZ=function(t){function e(){var n;_Z(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=TZ(this,e,[].concat(i)),Fg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Fg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return xZ(e,t),wZ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>oA||Math.abs(r.height-this.state.lastBoundingBox.height)>oA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,y=i.reverseDirection,_=i.useTranslate3d,g=i.viewBox,b=i.wrapperStyle,S=bZ({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:g}),T=S.cssClasses,w=S.cssProperties,E=iA(iA({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return R.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(x){r.wrapperNode=x}},u)}}])}(B.PureComponent),RZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qs={isSsr:RZ()};function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}function aA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(n),!0).forEach(function(r){$b(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AI(r.key),r)}}function IZ(t,e,n){return e&&PZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NZ(t,e,n){return e=yd(e),DZ(t,EI()?Reflect.construct(e,n||[],yd(t).constructor):e.apply(t,n))}function DZ(t,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kZ(t)}function kZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EI=function(){return!!t})()}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yd(t)}function $Z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}function Kg(t,e){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kg(t,e)}function $b(t,e,n){return e=AI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AI(t){var e=UZ(t,"string");return os(e)=="symbol"?e:e+""}function UZ(t,e){if(os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LZ(t){return t.dataKey}function BZ(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(hZ,e)}var Wn=function(t){function e(){return MZ(this,e),NZ(this,e,arguments)}return $Z(e,t),IZ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,y=i.payloadUniqBy,_=i.position,g=i.reverseDirection,b=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,w=v??[];f&&w.length&&(w=pI(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,LZ));var E=w.length>0;return R.createElement(OZ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:m,position:_,reverseDirection:g,useTranslate3d:b,viewBox:S,wrapperStyle:T},BZ(u,sA(sA({},this.props),{},{payload:w})))}}])}(B.PureComponent);$b(Wn,"displayName","Tooltip");$b(Wn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jZ=mr,zZ=function(){return jZ.Date.now()},GZ=zZ,HZ=/\s/;function qZ(t){for(var e=t.length;e--&&HZ.test(t.charAt(e)););return e}var VZ=qZ,FZ=VZ,KZ=/^\s+/;function YZ(t){return t&&t.slice(0,FZ(t)+1).replace(KZ,"")}var JZ=YZ,WZ=JZ,lA=Bi,XZ=$s,uA=NaN,QZ=/^[-+]0x[0-9a-f]+$/i,ZZ=/^0b[01]+$/i,eee=/^0o[0-7]+$/i,tee=parseInt;function nee(t){if(typeof t=="number")return t;if(XZ(t))return uA;if(lA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=lA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=WZ(t);var n=ZZ.test(t);return n||eee.test(t)?tee(t.slice(2),n?2:8):QZ.test(t)?uA:+t}var xI=nee,ree=Bi,$m=GZ,cA=xI,iee="Expected a function",oee=Math.max,aee=Math.min;function see(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(iee);e=cA(e)||0,ree(n)&&(c=!!n.leading,f="maxWait"in n,o=f?oee(cA(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(E){var A=r,x=i;return r=i=void 0,u=E,a=t.apply(x,A),a}function v(E){return u=E,s=setTimeout(g,e),c?m(E):a}function y(E){var A=E-l,x=E-u,C=e-A;return f?aee(C,o-x):C}function _(E){var A=E-l,x=E-u;return l===void 0||A>=e||A<0||f&&x>=o}function g(){var E=$m();if(_(E))return b(E);s=setTimeout(g,y(E))}function b(E){return s=void 0,h&&r?m(E):(r=i=void 0,a)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:b($m())}function w(){var E=$m(),A=_(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(g,e),m(l)}return s===void 0&&(s=setTimeout(g,e)),a}return w.cancel=S,w.flush=T,w}var lee=see,uee=lee,cee=Bi,fee="Expected a function";function dee(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(fee);return cee(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),uee(t,e,{leading:r,maxWait:e,trailing:i})}var hee=dee;const CI=Te(hee);function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return e=mee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mee(t){var e=vee(t,"string");return mu(e)=="symbol"?e:e+""}function vee(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gee(t,e){return See(t)||_ee(t,e)||bee(t,e)||yee()}function yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bee(t,e){if(t){if(typeof t=="string")return dA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(t,e)}}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function See(t){if(Array.isArray(t))return t}var hA=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,y=v===void 0?0:v,_=t.id,g=t.className,b=t.onResize,S=t.style,T=S===void 0?{}:S,w=B.useRef(null),E=B.useRef();E.current=b,B.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=B.useState({containerWidth:i.width,containerHeight:i.height}),x=gee(A,2),C=x[0],M=x[1],P=B.useCallback(function(D,U){M(function(L){var I=Math.round(D),k=Math.round(U);return L.containerWidth===I&&L.containerHeight===k?L:{containerWidth:I,containerHeight:k}})},[]);B.useEffect(function(){var D=function(G){var V,X=G[0].contentRect,F=X.width,Q=X.height;P(F,Q),(V=E.current)===null||V===void 0||V.call(E,F,Q)};y>0&&(D=CI(D,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(D),L=w.current.getBoundingClientRect(),I=L.width,k=L.height;return P(I,k),U.observe(w.current),function(){U.disconnect()}},[P,y]);var N=B.useMemo(function(){var D=C.containerWidth,U=C.containerHeight;if(D<0||U<0)return null;tr(fo(a)||fo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),tr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=fo(a)?D:a,I=fo(l)?U:l;n&&n>0&&(L?I=L/n:I&&(L=I*n),h&&I>h&&(I=h)),tr(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,a,l,c,f,n);var k=!Array.isArray(m)&&$r(m.type).endsWith("Chart");return R.Children.map(m,function(j){return R.isValidElement(j)?B.cloneElement(j,Hc({width:L,height:I},k?{style:Hc({height:"100%",width:"100%",maxHeight:I,maxWidth:L},j.props.style)}:{})):j})},[n,m,l,h,f,c,C,a]);return R.createElement("div",{id:_?"".concat(_):void 0,className:ce("recharts-responsive-container",g),style:Hc(Hc({},T),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:w},N)}),np=function(e){return null};np.displayName="Cell";function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Eee(t,"string");return vu(e)=="symbol"?e:e+""}function Eee(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ea={widthCache:{},cacheCount:0},Aee=2e3,xee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mA="recharts_measurement_span";function Cee(t){var e=Yg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Bl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qs.isSsr)return{width:0,height:0};var r=Cee(n),i=JSON.stringify({text:e,copyStyle:r});if(ea.widthCache[i])return ea.widthCache[i];try{var o=document.getElementById(mA);o||(o=document.createElement("span"),o.setAttribute("id",mA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Yg(Yg({},xee),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ea.widthCache[i]=l,++ea.cacheCount>Aee&&(ea.cacheCount=0,ea.widthCache={}),l}catch{return{width:0,height:0}}},Oee=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function bd(t,e){return Iee(t)||Pee(t,e)||Mee(t,e)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mee(t,e){if(t){if(typeof t=="string")return vA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Iee(t){if(Array.isArray(t))return t}function Nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kee(r.key),r)}}function Dee(t,e,n){return e&&gA(t.prototype,e),n&&gA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kee(t){var e=$ee(t,"string");return gu(e)=="symbol"?e:e+""}function $ee(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bee=Object.keys(OI),Aa="NaN";function jee(t,e){return t*OI[e]}var qc=function(){function t(e,n){Nee(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Uee.test(n)&&(this.num=NaN,this.unit=""),Bee.includes(n)&&(this.num=jee(e,n),this.unit="px")}return Dee(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Lee.exec(n))!==null&&r!==void 0?r:[],o=bd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function RI(t){if(t.includes(Aa))return Aa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=yA.exec(e))!==null&&n!==void 0?n:[],i=bd(r,4),o=i[1],a=i[2],s=i[3],l=qc.parse(o??""),u=qc.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Aa;e=e.replace(yA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=bA.exec(e))!==null&&f!==void 0?f:[],m=bd(h,4),v=m[1],y=m[2],_=m[3],g=qc.parse(v??""),b=qc.parse(_??""),S=y==="+"?g.add(b):g.subtract(b);if(S.isNaN())return Aa;e=e.replace(bA,S.toString())}return e}var _A=/\(([^()]*)\)/;function zee(t){for(var e=t;e.includes("(");){var n=_A.exec(e),r=bd(n,2),i=r[1];e=e.replace(_A,RI(i))}return e}function Gee(t){var e=t.replace(/\s+/g,"");return e=zee(e),e=RI(e),e}function Hee(t){try{return Gee(t)}catch{return Aa}}function Um(t){var e=Hee(t.slice(5,-1));return e===Aa?"":e}var qee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vee=["dx","dy","angle","className","breakAll"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function SA(t,e){if(t==null)return{};var n=Fee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wA(t,e){return Wee(t)||Jee(t,e)||Yee(t,e)||Kee()}function Kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yee(t,e){if(t){if(typeof t=="string")return TA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TA(t,e)}}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Wee(t){if(Array.isArray(t))return t}var MI=/[ \f\n\r\t\v\u2028\u2029]+/,PI=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];fe(n)||(r?o=n.toString().split(""):o=n.toString().split(MI));var a=o.map(function(l){return{word:l,width:Bl(l,i).width}}),s=r?0:Bl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Xee=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=q(a),f=s,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(I,k){var j=k.word,G=k.width,V=I[I.length-1];if(V&&(i==null||o||V.width+G+r<Number(i)))V.words.push(j),V.width+=G+r;else{var X={words:[j],width:G};I.push(X)}return I},[])},m=h(n),v=function(L){return L.reduce(function(I,k){return I.width>k.width?I:k})};if(!c)return m;for(var y="",_=function(L){var I=f.slice(0,L),k=PI({breakAll:u,style:l,children:I+y}).wordsWithComputedWidth,j=h(k),G=j.length>a||v(j).width>Number(i);return[G,j]},g=0,b=f.length-1,S=0,T;g<=b&&S<=f.length-1;){var w=Math.floor((g+b)/2),E=w-1,A=_(E),x=wA(A,2),C=x[0],M=x[1],P=_(w),N=wA(P,1),D=N[0];if(!C&&!D&&(g=w+1),C&&D&&(b=w-1),!C&&D){T=M;break}S++}return T||m},EA=function(e){var n=fe(e)?[]:e.toString().split(MI);return[{words:n}]},Qee=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!qs.isSsr){var l,u,c=PI({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return EA(i);return Xee({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return EA(i)},AA="#808080",Mo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,_=e.fill,g=_===void 0?AA:_,b=SA(e,qee),S=B.useMemo(function(){return Qee({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),T=b.dx,w=b.dy,E=b.angle,A=b.className,x=b.breakAll,C=SA(b,Vee);if(!mt(r)||!mt(o))return null;var M=r+(q(T)?T:0),P=o+(q(w)?w:0),N;switch(y){case"start":N=Um("calc(".concat(u,")"));break;case"middle":N=Um("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:N=Um("calc(".concat(S.length-1," * -").concat(s,")"));break}var D=[];if(f){var U=S[0].width,L=b.width;D.push("scale(".concat((q(L)?L/U:1)/U,")"))}return E&&D.push("rotate(".concat(E,", ").concat(M,", ").concat(P,")")),D.length&&(C.transform=D.join(" ")),R.createElement("text",Jg({},ne(C,!0),{x:M,y:P,className:ce("recharts-text",A),textAnchor:m,fill:g.includes("url")?AA:g}),S.map(function(I,k){var j=I.words.join(x?"":" ");return R.createElement("tspan",{x:M,dy:k===0?N:s,key:"".concat(j,"-").concat(k)},j)}))};function Mi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ub(t){let e,n,r;t.length!==2?(e=Mi,n=(s,l)=>Mi(t(s),l),r=(s,l)=>t(s)-l):(e=t===Mi||t===Zee?t:ete,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function ete(){return 0}function II(t){return t===null?NaN:+t}function*tte(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const nte=Ub(Mi),uc=nte.right;Ub(II).center;class xA extends Map{constructor(e,n=ote){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CA(this,e))}has(e){return super.has(CA(this,e))}set(e,n){return super.set(rte(this,e),n)}delete(e){return super.delete(ite(this,e))}}function CA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ite({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ote(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ate(t=Mi){if(t===Mi)return NI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function NI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ste=Math.sqrt(50),lte=Math.sqrt(10),ute=Math.sqrt(2);function _d(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ste?10:o>=lte?5:o>=ute?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?_d(t,e,n*2):[s,l,u]}function Wg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?_d(e,t,n):_d(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Xg(t,e,n){return e=+e,t=+t,n=+n,_d(t,e,n)[2]}function Qg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Xg(e,t,n):Xg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function OA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function DI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?NI:ate(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));DI(t,e,m,v,i)}const o=t[e];let a=n,s=r;for(al(t,n,e),i(t[r],o)>0&&al(t,n,r);a<s;){for(al(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?al(t,n,s):(++s,al(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function al(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cte(t,e,n){if(t=Float64Array.from(tte(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return RA(t);if(e>=1)return OA(t);var r,i=(r-1)*e,o=Math.floor(i),a=OA(DI(t,o).subarray(0,o+1)),s=RA(t.subarray(o+1));return a+(s-a)*(i-o)}}function fte(t,e,n=II){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function dte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Hn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ei(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zg=Symbol("implicit");function Lb(){var t=new xA,e=[],n=[],r=Zg;function i(o){let a=t.get(o);if(a===void 0){if(r!==Zg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new xA;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Lb(e,n).unknown(r)},Hn.apply(i,arguments),i}function yu(){var t=Lb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,y=m?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var _=dte(h).map(function(g){return v+o*g});return n(m?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return yu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Hn.apply(f(),arguments)}function kI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kI(e())},t}function jl(){return kI(yu.apply(null,arguments).paddingInner(1))}function Bb(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $I(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cc(){}var bu=.7,Sd=1/bu,Ga="\\s*([+-]?\\d+)\\s*",_u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hte=/^#([0-9a-f]{3,8})$/,pte=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),mte=new RegExp(`^rgb\\(${cr},${cr},${cr}\\)$`),vte=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${_u}\\)$`),gte=new RegExp(`^rgba\\(${cr},${cr},${cr},${_u}\\)$`),yte=new RegExp(`^hsl\\(${_u},${cr},${cr}\\)$`),bte=new RegExp(`^hsla\\(${_u},${cr},${cr},${_u}\\)$`),MA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bb(cc,Su,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PA,formatHex:PA,formatHex8:_te,formatHsl:Ste,formatRgb:IA,toString:IA});function PA(){return this.rgb().formatHex()}function _te(){return this.rgb().formatHex8()}function Ste(){return UI(this).formatHsl()}function IA(){return this.rgb().formatRgb()}function Su(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hte.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?NA(e):n===3?new Zt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pte.exec(t))?new Zt(e[1],e[2],e[3],1):(e=mte.exec(t))?new Zt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vte.exec(t))?Vc(e[1],e[2],e[3],e[4]):(e=gte.exec(t))?Vc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yte.exec(t))?$A(e[1],e[2]/100,e[3]/100,1):(e=bte.exec(t))?$A(e[1],e[2]/100,e[3]/100,e[4]):MA.hasOwnProperty(t)?NA(MA[t]):t==="transparent"?new Zt(NaN,NaN,NaN,0):null}function NA(t){return new Zt(t>>16&255,t>>8&255,t&255,1)}function Vc(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zt(t,e,n,r)}function wte(t){return t instanceof cc||(t=Su(t)),t?(t=t.rgb(),new Zt(t.r,t.g,t.b,t.opacity)):new Zt}function ey(t,e,n,r){return arguments.length===1?wte(t):new Zt(t,e,n,r??1)}function Zt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Bb(Zt,ey,$I(cc,{brighter(t){return t=t==null?Sd:Math.pow(Sd,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bu:Math.pow(bu,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zt(So(this.r),So(this.g),So(this.b),wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DA,formatHex:DA,formatHex8:Tte,formatRgb:kA,toString:kA}));function DA(){return`#${ho(this.r)}${ho(this.g)}${ho(this.b)}`}function Tte(){return`#${ho(this.r)}${ho(this.g)}${ho(this.b)}${ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function kA(){const t=wd(this.opacity);return`${t===1?"rgb(":"rgba("}${So(this.r)}, ${So(this.g)}, ${So(this.b)}${t===1?")":`, ${t})`}`}function wd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function So(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ho(t){return t=So(t),(t<16?"0":"")+t.toString(16)}function $A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qn(t,e,n,r)}function UI(t){if(t instanceof Qn)return new Qn(t.h,t.s,t.l,t.opacity);if(t instanceof cc||(t=Su(t)),!t)return new Qn;if(t instanceof Qn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Qn(a,s,l,t.opacity)}function Ete(t,e,n,r){return arguments.length===1?UI(t):new Qn(t,e,n,r??1)}function Qn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Bb(Qn,Ete,$I(cc,{brighter(t){return t=t==null?Sd:Math.pow(Sd,t),new Qn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bu:Math.pow(bu,t),new Qn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zt(Lm(t>=240?t-240:t+120,i,r),Lm(t,i,r),Lm(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qn(UA(this.h),Fc(this.s),Fc(this.l),wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wd(this.opacity);return`${t===1?"hsl(":"hsla("}${UA(this.h)}, ${Fc(this.s)*100}%, ${Fc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function UA(t){return t=(t||0)%360,t<0?t+360:t}function Fc(t){return Math.max(0,Math.min(1,t||0))}function Lm(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jb=t=>()=>t;function Ate(t,e){return function(n){return t+n*e}}function xte(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cte(t){return(t=+t)==1?LI:function(e,n){return n-e?xte(e,n,t):jb(isNaN(e)?n:e)}}function LI(t,e){var n=e-t;return n?Ate(t,n):jb(isNaN(t)?e:t)}const LA=function t(e){var n=Cte(e);function r(i,o){var a=n((i=ey(i)).r,(o=ey(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=LI(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ote(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Rte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mte(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Vs(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Pte(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Td(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ite(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Vs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ty=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bm=new RegExp(ty.source,"g");function Nte(t){return function(){return t}}function Dte(t){return function(e){return t(e)+""}}function kte(t,e){var n=ty.lastIndex=Bm.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=ty.exec(t))&&(i=Bm.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Td(r,i)})),n=Bm.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Dte(l[0].x):Nte(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Vs(t,e){var n=typeof e,r;return e==null||n==="boolean"?jb(e):(n==="number"?Td:n==="string"?(r=Su(e))?(e=r,LA):kte:e instanceof Su?LA:e instanceof Date?Pte:Rte(e)?Ote:Array.isArray(e)?Mte:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ite:Td)(t,e)}function zb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $te(t,e){e===void 0&&(e=t,t=Vs);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Ute(t){return function(){return t}}function Ed(t){return+t}var BA=[0,1];function Ht(t){return t}function ny(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ute(isNaN(e)?NaN:.5)}function Lte(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Bte(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ny(i,r),o=n(a,o)):(r=ny(r,i),o=n(o,a)),function(s){return o(r(s))}}function jte(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ny(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=uc(t,s,1,r)-1;return o[l](i[l](s))}}function fc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rp(){var t=BA,e=BA,n=Vs,r,i,o,a=Ht,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Ht&&(a=Lte(t[0],t[h-1])),s=h>2?jte:Bte,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Td)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Ed),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=zb,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Ht,c()):a!==Ht},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,c()}}function Gb(){return rp()(Ht,Ht)}function zte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ad(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function as(t){return t=Ad(Math.abs(t)),t?t[1]:NaN}function Gte(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Hte(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wu(t){if(!(e=qte.exec(t)))throw new Error("invalid format: "+t);var e;return new Hb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wu.prototype=Hb.prototype;function Hb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Hb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vte(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var BI;function Fte(t,e){var n=Ad(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(BI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ad(t,Math.max(0,e+o-1))[0]}function jA(t,e){var n=Ad(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jA(t*100,e),r:jA,s:Fte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function GA(t){return t}var HA=Array.prototype.map,qA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kte(t){var e=t.grouping===void 0||t.thousands===void 0?GA:Gte(HA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?GA:Hte(HA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=wu(f);var h=f.fill,m=f.align,v=f.sign,y=f.symbol,_=f.zero,g=f.width,b=f.comma,S=f.precision,T=f.trim,w=f.type;w==="n"?(b=!0,w="g"):zA[w]||(S===void 0&&(S=12),T=!0,w="g"),(_||h==="0"&&m==="=")&&(_=!0,h="0",m="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=y==="$"?r:/[%p]/.test(w)?a:"",x=zA[w],C=/[defgprs%]/.test(w);S=S===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(P){var N=E,D=A,U,L,I;if(w==="c")D=x(P)+D,P="";else{P=+P;var k=P<0||1/P<0;if(P=isNaN(P)?l:x(Math.abs(P),S),T&&(P=Vte(P)),k&&+P==0&&v!=="+"&&(k=!1),N=(k?v==="("?v:s:v==="-"||v==="("?"":v)+N,D=(w==="s"?qA[8+BI/3]:"")+D+(k&&v==="("?")":""),C){for(U=-1,L=P.length;++U<L;)if(I=P.charCodeAt(U),48>I||I>57){D=(I===46?i+P.slice(U+1):P.slice(U))+D,P=P.slice(0,U);break}}}b&&!_&&(P=e(P,1/0));var j=N.length+P.length+D.length,G=j<g?new Array(g-j+1).join(h):"";switch(b&&_&&(P=e(G+P,G.length?g-D.length:1/0),G=""),m){case"<":P=N+P+D+G;break;case"=":P=N+G+P+D;break;case"^":P=G.slice(0,j=G.length>>1)+N+P+D+G.slice(j);break;default:P=G+N+P+D;break}return o(P)}return M.toString=function(){return f+""},M}function c(f,h){var m=u((f=wu(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(as(h)/3)))*3,y=Math.pow(10,-v),_=qA[8+v/3];return function(g){return m(y*g)+_}}return{format:u,formatPrefix:c}}var Kc,qb,jI;Yte({thousands:",",grouping:[3],currency:["$",""]});function Yte(t){return Kc=Kte(t),qb=Kc.format,jI=Kc.formatPrefix,Kc}function Jte(t){return Math.max(0,-as(Math.abs(t)))}function Wte(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(as(e)/3)))*3-as(Math.abs(t)))}function Xte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,as(e)-as(t))+1}function zI(t,e,n,r){var i=Qg(t,e,n),o;switch(r=wu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Wte(i,a))&&(r.precision=o),jI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Xte(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Jte(i))&&(r.precision=o-(r.type==="%")*2);break}}return qb(r)}function ji(t){var e=t.domain;return t.ticks=function(n){var r=e();return Wg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return zI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Xg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function xd(){var t=Gb();return t.copy=function(){return fc(t,xd())},Hn.apply(t,arguments),ji(t)}function GI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ed),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return GI(t).unknown(e)},t=arguments.length?Array.from(t,Ed):[0,1],ji(n)}function HI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function VA(t){return Math.log(t)}function FA(t){return Math.exp(t)}function Qte(t){return-Math.log(-t)}function Zte(t){return-Math.exp(-t)}function ene(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tne(t){return t===10?ene:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KA(t){return(e,n)=>-t(-e,n)}function Vb(t){const e=t(VA,FA),n=e.domain;let r=10,i,o;function a(){return i=nne(r),o=tne(r),n()[0]<0?(i=KA(i),o=KA(o),t(Qte,Zte)):t(VA,FA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),m=i(c),v,y;const _=s==null?10:+s;let g=[];if(!(r%1)&&m-h<_){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;g.push(y)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;g.push(y)}g.length*2<_&&(g=Wg(u,c,_))}else g=Wg(h,m,Math.min(m-h,_)).map(o);return f?g.reverse():g},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=wu(l)).precision==null&&(l.trim=!0),l=qb(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(HI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function qI(){const t=Vb(rp()).domain([1,10]);return t.copy=()=>fc(t,qI()).base(t.base()),Hn.apply(t,arguments),t}function YA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function JA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Fb(t){var e=1,n=t(YA(e),JA(e));return n.constant=function(r){return arguments.length?t(YA(e=+r),JA(e)):e},ji(n)}function VI(){var t=Fb(rp());return t.copy=function(){return fc(t,VI()).constant(t.constant())},Hn.apply(t,arguments)}function WA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ine(t){return t<0?-t*t:t*t}function Kb(t){var e=t(Ht,Ht),n=1;function r(){return n===1?t(Ht,Ht):n===.5?t(rne,ine):t(WA(n),WA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ji(e)}function Yb(){var t=Kb(rp());return t.copy=function(){return fc(t,Yb()).exponent(t.exponent())},Hn.apply(t,arguments),t}function one(){return Yb.apply(null,arguments).exponent(.5)}function XA(t){return Math.sign(t)*t*t}function ane(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function FI(){var t=Gb(),e=[0,1],n=!1,r;function i(o){var a=ane(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(XA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ed)).map(XA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return FI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Hn.apply(i,arguments),ji(i)}function KI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=fte(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[uc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Mi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return KI().domain(t).range(e).unknown(r)},Hn.apply(o,arguments)}function YI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[uc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return YI().domain([t,e]).range(i).unknown(o)},Hn.apply(ji(a),arguments)}function JI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[uc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return JI().domain(t).range(e).unknown(n)},Hn.apply(i,arguments)}const jm=new Date,zm=new Date;function gt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>gt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(jm.setTime(+o),zm.setTime(+a),t(jm),t(zm),Math.floor(n(jm,zm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Cd=gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Cd);Cd.range;const Mr=1e3,Dn=Mr*60,Pr=Dn*60,qr=Pr*24,Jb=qr*7,QA=qr*30,Gm=qr*365,po=gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Mr)},(t,e)=>(e-t)/Mr,t=>t.getUTCSeconds());po.range;const Wb=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mr)},(t,e)=>{t.setTime(+t+e*Dn)},(t,e)=>(e-t)/Dn,t=>t.getMinutes());Wb.range;const Xb=gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Dn)},(t,e)=>(e-t)/Dn,t=>t.getUTCMinutes());Xb.range;const Qb=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mr-t.getMinutes()*Dn)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getHours());Qb.range;const Zb=gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getUTCHours());Zb.range;const dc=gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/qr,t=>t.getDate()-1);dc.range;const ip=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qr,t=>t.getUTCDate()-1);ip.range;const WI=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qr,t=>Math.floor(t/qr));WI.range;function zo(t){return gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/Jb)}const op=zo(0),Od=zo(1),sne=zo(2),lne=zo(3),ss=zo(4),une=zo(5),cne=zo(6);op.range;Od.range;sne.range;lne.range;ss.range;une.range;cne.range;function Go(t){return gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Jb)}const ap=Go(0),Rd=Go(1),fne=Go(2),dne=Go(3),ls=Go(4),hne=Go(5),pne=Go(6);ap.range;Rd.range;fne.range;dne.range;ls.range;hne.range;pne.range;const e_=gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());e_.range;const t_=gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());t_.range;const Vr=gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vr.range;const Fr=gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fr.range;function XI(t,e,n,r,i,o){const a=[[po,1,Mr],[po,5,5*Mr],[po,15,15*Mr],[po,30,30*Mr],[o,1,Dn],[o,5,5*Dn],[o,15,15*Dn],[o,30,30*Dn],[i,1,Pr],[i,3,3*Pr],[i,6,6*Pr],[i,12,12*Pr],[r,1,qr],[r,2,2*qr],[n,1,Jb],[e,1,QA],[e,3,3*QA],[t,1,Gm]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),v=m?m.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,m=Ub(([,,_])=>_).right(a,h);if(m===a.length)return t.every(Qg(u/Gm,c/Gm,f));if(m===0)return Cd.every(Math.max(Qg(u,c,f),1));const[v,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return v.every(y)}return[s,l]}const[mne,vne]=XI(Fr,t_,ap,WI,Zb,Xb),[gne,yne]=XI(Vr,e_,op,dc,Qb,Wb);function Hm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function bne(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ll(i),c=ul(i),f=ll(o),h=ul(o),m=ll(a),v=ul(a),y=ll(s),_=ul(s),g=ll(l),b=ul(l),S={a:k,A:j,b:G,B:V,c:null,d:ix,e:ix,f:Gne,g:Qne,G:ere,H:Bne,I:jne,j:zne,L:QI,m:Hne,M:qne,p:X,q:F,Q:sx,s:lx,S:Vne,u:Fne,U:Kne,V:Yne,w:Jne,W:Wne,x:null,X:null,y:Xne,Y:Zne,Z:tre,"%":ax},T={a:Q,A:ve,b:Le,B:on,c:null,d:ox,e:ox,f:ore,g:mre,G:gre,H:nre,I:rre,j:ire,L:eN,m:are,M:sre,p:Hi,q:Ft,Q:sx,s:lx,S:lre,u:ure,U:cre,V:fre,w:dre,W:hre,x:null,X:null,y:pre,Y:vre,Z:yre,"%":ax},w={a:M,A:P,b:N,B:D,c:U,d:nx,e:nx,f:kne,g:tx,G:ex,H:rx,I:rx,j:Pne,L:Dne,m:Mne,M:Ine,p:C,q:Rne,Q:Une,s:Lne,S:Nne,u:Ene,U:Ane,V:xne,w:Tne,W:Cne,x:L,X:I,y:tx,Y:ex,Z:One,"%":$ne};S.x=E(n,S),S.X=E(r,S),S.c=E(e,S),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(Y,le){return function(ue){var H=[],Je=-1,ge=0,ut=Y.length,ct,Kt,ni;for(ue instanceof Date||(ue=new Date(+ue));++Je<ut;)Y.charCodeAt(Je)===37&&(H.push(Y.slice(ge,Je)),(Kt=ZA[ct=Y.charAt(++Je)])!=null?ct=Y.charAt(++Je):Kt=ct==="e"?" ":"0",(ni=le[ct])&&(ct=ni(ue,Kt)),H.push(ct),ge=Je+1);return H.push(Y.slice(ge,Je)),H.join("")}}function A(Y,le){return function(ue){var H=sl(1900,void 0,1),Je=x(H,Y,ue+="",0),ge,ut;if(Je!=ue.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(le&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(ge=qm(sl(H.y,0,1)),ut=ge.getUTCDay(),ge=ut>4||ut===0?Rd.ceil(ge):Rd(ge),ge=ip.offset(ge,(H.V-1)*7),H.y=ge.getUTCFullYear(),H.m=ge.getUTCMonth(),H.d=ge.getUTCDate()+(H.w+6)%7):(ge=Hm(sl(H.y,0,1)),ut=ge.getDay(),ge=ut>4||ut===0?Od.ceil(ge):Od(ge),ge=dc.offset(ge,(H.V-1)*7),H.y=ge.getFullYear(),H.m=ge.getMonth(),H.d=ge.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),ut="Z"in H?qm(sl(H.y,0,1)).getUTCDay():Hm(sl(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(ut+5)%7:H.w+H.U*7-(ut+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,qm(H)):Hm(H)}}function x(Y,le,ue,H){for(var Je=0,ge=le.length,ut=ue.length,ct,Kt;Je<ge;){if(H>=ut)return-1;if(ct=le.charCodeAt(Je++),ct===37){if(ct=le.charAt(Je++),Kt=w[ct in ZA?le.charAt(Je++):ct],!Kt||(H=Kt(Y,ue,H))<0)return-1}else if(ct!=ue.charCodeAt(H++))return-1}return H}function C(Y,le,ue){var H=u.exec(le.slice(ue));return H?(Y.p=c.get(H[0].toLowerCase()),ue+H[0].length):-1}function M(Y,le,ue){var H=m.exec(le.slice(ue));return H?(Y.w=v.get(H[0].toLowerCase()),ue+H[0].length):-1}function P(Y,le,ue){var H=f.exec(le.slice(ue));return H?(Y.w=h.get(H[0].toLowerCase()),ue+H[0].length):-1}function N(Y,le,ue){var H=g.exec(le.slice(ue));return H?(Y.m=b.get(H[0].toLowerCase()),ue+H[0].length):-1}function D(Y,le,ue){var H=y.exec(le.slice(ue));return H?(Y.m=_.get(H[0].toLowerCase()),ue+H[0].length):-1}function U(Y,le,ue){return x(Y,e,le,ue)}function L(Y,le,ue){return x(Y,n,le,ue)}function I(Y,le,ue){return x(Y,r,le,ue)}function k(Y){return a[Y.getDay()]}function j(Y){return o[Y.getDay()]}function G(Y){return l[Y.getMonth()]}function V(Y){return s[Y.getMonth()]}function X(Y){return i[+(Y.getHours()>=12)]}function F(Y){return 1+~~(Y.getMonth()/3)}function Q(Y){return a[Y.getUTCDay()]}function ve(Y){return o[Y.getUTCDay()]}function Le(Y){return l[Y.getUTCMonth()]}function on(Y){return s[Y.getUTCMonth()]}function Hi(Y){return i[+(Y.getUTCHours()>=12)]}function Ft(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var le=E(Y+="",S);return le.toString=function(){return Y},le},parse:function(Y){var le=A(Y+="",!1);return le.toString=function(){return Y},le},utcFormat:function(Y){var le=E(Y+="",T);return le.toString=function(){return Y},le},utcParse:function(Y){var le=A(Y+="",!0);return le.toString=function(){return Y},le}}}var ZA={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,_ne=/^%/,Sne=/[\\^$*+?|[\]().{}]/g;function be(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function wne(t){return t.replace(Sne,"\\$&")}function ll(t){return new RegExp("^(?:"+t.map(wne).join("|")+")","i")}function ul(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tne(t,e,n){var r=Et.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ene(t,e,n){var r=Et.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ane(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function xne(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Cne(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ex(t,e,n){var r=Et.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tx(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function One(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rne(t,e,n){var r=Et.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Mne(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nx(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Pne(t,e,n){var r=Et.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rx(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ine(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Nne(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Dne(t,e,n){var r=Et.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function kne(t,e,n){var r=Et.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $ne(t,e,n){var r=_ne.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Une(t,e,n){var r=Et.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Lne(t,e,n){var r=Et.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ix(t,e){return be(t.getDate(),e,2)}function Bne(t,e){return be(t.getHours(),e,2)}function jne(t,e){return be(t.getHours()%12||12,e,2)}function zne(t,e){return be(1+dc.count(Vr(t),t),e,3)}function QI(t,e){return be(t.getMilliseconds(),e,3)}function Gne(t,e){return QI(t,e)+"000"}function Hne(t,e){return be(t.getMonth()+1,e,2)}function qne(t,e){return be(t.getMinutes(),e,2)}function Vne(t,e){return be(t.getSeconds(),e,2)}function Fne(t){var e=t.getDay();return e===0?7:e}function Kne(t,e){return be(op.count(Vr(t)-1,t),e,2)}function ZI(t){var e=t.getDay();return e>=4||e===0?ss(t):ss.ceil(t)}function Yne(t,e){return t=ZI(t),be(ss.count(Vr(t),t)+(Vr(t).getDay()===4),e,2)}function Jne(t){return t.getDay()}function Wne(t,e){return be(Od.count(Vr(t)-1,t),e,2)}function Xne(t,e){return be(t.getFullYear()%100,e,2)}function Qne(t,e){return t=ZI(t),be(t.getFullYear()%100,e,2)}function Zne(t,e){return be(t.getFullYear()%1e4,e,4)}function ere(t,e){var n=t.getDay();return t=n>=4||n===0?ss(t):ss.ceil(t),be(t.getFullYear()%1e4,e,4)}function tre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+be(e/60|0,"0",2)+be(e%60,"0",2)}function ox(t,e){return be(t.getUTCDate(),e,2)}function nre(t,e){return be(t.getUTCHours(),e,2)}function rre(t,e){return be(t.getUTCHours()%12||12,e,2)}function ire(t,e){return be(1+ip.count(Fr(t),t),e,3)}function eN(t,e){return be(t.getUTCMilliseconds(),e,3)}function ore(t,e){return eN(t,e)+"000"}function are(t,e){return be(t.getUTCMonth()+1,e,2)}function sre(t,e){return be(t.getUTCMinutes(),e,2)}function lre(t,e){return be(t.getUTCSeconds(),e,2)}function ure(t){var e=t.getUTCDay();return e===0?7:e}function cre(t,e){return be(ap.count(Fr(t)-1,t),e,2)}function tN(t){var e=t.getUTCDay();return e>=4||e===0?ls(t):ls.ceil(t)}function fre(t,e){return t=tN(t),be(ls.count(Fr(t),t)+(Fr(t).getUTCDay()===4),e,2)}function dre(t){return t.getUTCDay()}function hre(t,e){return be(Rd.count(Fr(t)-1,t),e,2)}function pre(t,e){return be(t.getUTCFullYear()%100,e,2)}function mre(t,e){return t=tN(t),be(t.getUTCFullYear()%100,e,2)}function vre(t,e){return be(t.getUTCFullYear()%1e4,e,4)}function gre(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ls(t):ls.ceil(t),be(t.getUTCFullYear()%1e4,e,4)}function yre(){return"+0000"}function ax(){return"%"}function sx(t){return+t}function lx(t){return Math.floor(+t/1e3)}var ta,nN,rN;bre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bre(t){return ta=bne(t),nN=ta.format,ta.parse,rN=ta.utcFormat,ta.utcParse,ta}function _re(t){return new Date(t)}function Sre(t){return t instanceof Date?+t:+new Date(+t)}function n_(t,e,n,r,i,o,a,s,l,u){var c=Gb(),f=c.invert,h=c.domain,m=u(".%L"),v=u(":%S"),y=u("%I:%M"),_=u("%I %p"),g=u("%a %d"),b=u("%b %d"),S=u("%B"),T=u("%Y");function w(E){return(l(E)<E?m:s(E)<E?v:a(E)<E?y:o(E)<E?_:r(E)<E?i(E)<E?g:b:n(E)<E?S:T)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?h(Array.from(E,Sre)):h().map(_re)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?w:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(HI(A,E)):c},c.copy=function(){return fc(c,n_(t,e,n,r,i,o,a,s,l,u))},c}function wre(){return Hn.apply(n_(gne,yne,Vr,e_,op,dc,Qb,Wb,po,nN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tre(){return Hn.apply(n_(mne,vne,Fr,t_,ap,ip,Zb,Xb,po,rN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sp(){var t=0,e=1,n,r,i,o,a=Ht,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var m,v;return arguments.length?([m,v]=h,a=f(m,v),u):[a(0),a(1)]}}return u.range=c(Vs),u.rangeRound=c(zb),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function zi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iN(){var t=ji(sp()(Ht));return t.copy=function(){return zi(t,iN())},ei.apply(t,arguments)}function oN(){var t=Vb(sp()).domain([1,10]);return t.copy=function(){return zi(t,oN()).base(t.base())},ei.apply(t,arguments)}function aN(){var t=Fb(sp());return t.copy=function(){return zi(t,aN()).constant(t.constant())},ei.apply(t,arguments)}function r_(){var t=Kb(sp());return t.copy=function(){return zi(t,r_()).exponent(t.exponent())},ei.apply(t,arguments)}function Ere(){return r_.apply(null,arguments).exponent(.5)}function sN(){var t=[],e=Ht;function n(r){if(r!=null&&!isNaN(r=+r))return e((uc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>cte(t,o/r))},n.copy=function(){return sN(e).domain(t)},ei.apply(n,arguments)}function lp(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Ht,c,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function v(y){return function(_){var g,b,S;return arguments.length?([g,b,S]=_,u=$te(y,[g,b,S]),m):[u(0),u(.5),u(1)]}}return m.range=v(Vs),m.rangeRound=v(zb),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function lN(){var t=ji(lp()(Ht));return t.copy=function(){return zi(t,lN())},ei.apply(t,arguments)}function uN(){var t=Vb(lp()).domain([.1,1,10]);return t.copy=function(){return zi(t,uN()).base(t.base())},ei.apply(t,arguments)}function cN(){var t=Fb(lp());return t.copy=function(){return zi(t,cN()).constant(t.constant())},ei.apply(t,arguments)}function i_(){var t=Kb(lp());return t.copy=function(){return zi(t,i_()).exponent(t.exponent())},ei.apply(t,arguments)}function Are(){return i_.apply(null,arguments).exponent(.5)}const ux=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yu,scaleDiverging:lN,scaleDivergingLog:uN,scaleDivergingPow:i_,scaleDivergingSqrt:Are,scaleDivergingSymlog:cN,scaleIdentity:GI,scaleImplicit:Zg,scaleLinear:xd,scaleLog:qI,scaleOrdinal:Lb,scalePoint:jl,scalePow:Yb,scaleQuantile:KI,scaleQuantize:YI,scaleRadial:FI,scaleSequential:iN,scaleSequentialLog:oN,scaleSequentialPow:r_,scaleSequentialQuantile:sN,scaleSequentialSqrt:Ere,scaleSequentialSymlog:aN,scaleSqrt:one,scaleSymlog:VI,scaleThreshold:JI,scaleTime:wre,scaleUtc:Tre,tickFormat:zI},Symbol.toStringTag,{value:"Module"}));var xre=$s;function Cre(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!xre(a):n(a,s)))var s=a,l=o}return l}var up=Cre;function Ore(t,e){return t>e}var fN=Ore,Rre=up,Mre=fN,Pre=Hs;function Ire(t){return t&&t.length?Rre(t,Pre,Mre):void 0}var Nre=Ire;const cp=Te(Nre);function Dre(t,e){return t<e}var dN=Dre,kre=up,$re=dN,Ure=Hs;function Lre(t){return t&&t.length?kre(t,Ure,$re):void 0}var Bre=Lre;const fp=Te(Bre);var jre=yb,zre=vr,Gre=_I,Hre=rn;function qre(t,e){var n=Hre(t)?jre:Gre;return n(t,zre(e))}var Vre=qre,Fre=yI,Kre=Vre;function Yre(t,e){return Fre(Kre(t,e),1)}var Jre=Yre;const Wre=Te(Jre);var Xre=Nb;function Qre(t,e){return Xre(t,e)}var Zre=Qre;const dp=Te(Zre);var Fs=1e9,eie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a_,Ke=!0,zn="[DecimalError] ",wo=zn+"Invalid argument: ",o_=zn+"Exponent out of range: ",Ks=Math.floor,ao=Math.pow,tie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pn,yt=1e7,ze=7,hN=9007199254740991,Md=Ks(hN/ze),J={};J.absoluteValue=J.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};J.comparedTo=J.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};J.decimalPlaces=J.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ze;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};J.dividedBy=J.div=function(t){return Ur(this,new this.constructor(t))};J.dividedToIntegerBy=J.idiv=function(t){var e=this,n=e.constructor;return Pe(Ur(e,new n(t),0,1),n.precision)};J.equals=J.eq=function(t){return!this.cmp(t)};J.exponent=function(){return lt(this)};J.greaterThan=J.gt=function(t){return this.cmp(t)>0};J.greaterThanOrEqualTo=J.gte=function(t){return this.cmp(t)>=0};J.isInteger=J.isint=function(){return this.e>this.d.length-2};J.isNegative=J.isneg=function(){return this.s<0};J.isPositive=J.ispos=function(){return this.s>0};J.isZero=function(){return this.s===0};J.lessThan=J.lt=function(t){return this.cmp(t)<0};J.lessThanOrEqualTo=J.lte=function(t){return this.cmp(t)<1};J.logarithm=J.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pn))throw Error(zn+"NaN");if(n.s<1)throw Error(zn+(n.s?"NaN":"-Infinity"));return n.eq(pn)?new r(0):(Ke=!1,e=Ur(Tu(n,o),Tu(t,o),o),Ke=!0,Pe(e,i))};J.minus=J.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vN(e,t):pN(e,(t.s=-t.s,t))};J.modulo=J.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(zn+"NaN");return n.s?(Ke=!1,e=Ur(n,t,0,1).times(t),Ke=!0,n.minus(e)):Pe(new r(n),i)};J.naturalExponential=J.exp=function(){return mN(this)};J.naturalLogarithm=J.ln=function(){return Tu(this)};J.negated=J.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};J.plus=J.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pN(e,t):vN(e,(t.s=-t.s,t))};J.precision=J.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wo+t);if(e=lt(i)+1,r=i.d.length-1,n=r*ze+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};J.squareRoot=J.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(zn+"NaN")}for(t=lt(s),Ke=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=lr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ks((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Ur(s,o,a+2)).times(.5),lr(o.d).slice(0,a)===(e=lr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Pe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ke=!0,Pe(r,n)};J.times=J.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%yt|0,e=s/yt|0;o[i]=(o[i]+e)%yt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ke?Pe(t,f.precision):t};J.toDecimalPlaces=J.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(dr(t,0,Fs),e===void 0?e=r.rounding:dr(e,0,8),Pe(n,t+lt(n)+1,e))};J.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Po(r,!0):(dr(t,0,Fs),e===void 0?e=i.rounding:dr(e,0,8),r=Pe(new i(r),t+1,e),n=Po(r,!0,t+1)),n};J.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Po(i):(dr(t,0,Fs),e===void 0?e=o.rounding:dr(e,0,8),r=Pe(new o(i),t+lt(i)+1,e),n=Po(r.abs(),!1,t+lt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};J.toInteger=J.toint=function(){var t=this,e=t.constructor;return Pe(new e(t),lt(t)+1,e.rounding)};J.toNumber=function(){return+this};J.toPower=J.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(pn);if(s=new l(s),!s.s){if(t.s<1)throw Error(zn+"Infinity");return s}if(s.eq(pn))return s;if(r=l.precision,t.eq(pn))return Pe(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=hN){for(i=new l(pn),e=Math.ceil(r/ze+4),Ke=!1;n%2&&(i=i.times(s),fx(i.d,e)),n=Ks(n/2),n!==0;)s=s.times(s),fx(s.d,e);return Ke=!0,t.s<0?new l(pn).div(i):Pe(i,r)}}else if(o<0)throw Error(zn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ke=!1,i=t.times(Tu(s,r+u)),Ke=!0,i=mN(i),i.s=o,i};J.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=lt(i),r=Po(i,n<=o.toExpNeg||n>=o.toExpPos)):(dr(t,1,Fs),e===void 0?e=o.rounding:dr(e,0,8),i=Pe(new o(i),t,e),n=lt(i),r=Po(i,t<=n||n<=o.toExpNeg,t)),r};J.toSignificantDigits=J.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(dr(t,1,Fs),e===void 0?e=r.rounding:dr(e,0,8)),Pe(new r(n),t,e)};J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lt(t),n=t.constructor;return Po(t,e<=n.toExpNeg||e>=n.toExpPos)};function pN(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ke?Pe(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/ze),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/yt|0,l[o]%=yt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ke?Pe(e,f):e}function dr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wo+t)}function lr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ze-r.length,n&&(o+=li(n)),o+=r;a=t[e],r=a+"",n=ze-r.length,n&&(o+=li(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ur=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%yt|0,a=o/yt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*yt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,m,v,y,_,g,b,S,T,w,E,A,x,C=r.constructor,M=r.s==i.s?1:-1,P=r.d,N=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(zn+"Division by zero");for(l=r.e-i.e,A=N.length,w=P.length,m=new C(M),v=m.d=[],u=0;N[u]==(P[u]||0);)++u;if(N[u]>(P[u]||0)&&--l,o==null?b=o=C.precision:a?b=o+(lt(r)-lt(i))+1:b=o,b<0)return new C(0);if(b=b/ze+2|0,u=0,A==1)for(c=0,N=N[0],b++;(u<w||c)&&b--;u++)S=c*yt+(P[u]||0),v[u]=S/N|0,c=S%N|0;else{for(c=yt/(N[0]+1)|0,c>1&&(N=t(N,c),P=t(P,c),A=N.length,w=P.length),T=A,y=P.slice(0,A),_=y.length;_<A;)y[_++]=0;x=N.slice(),x.unshift(0),E=N[0],N[1]>=yt/2&&++E;do c=0,s=e(N,y,A,_),s<0?(g=y[0],A!=_&&(g=g*yt+(y[1]||0)),c=g/E|0,c>1?(c>=yt&&(c=yt-1),f=t(N,c),h=f.length,_=y.length,s=e(f,y,h,_),s==1&&(c--,n(f,A<h?x:N,h))):(c==0&&(s=c=1),f=N.slice()),h=f.length,h<_&&f.unshift(0),n(y,f,_),s==-1&&(_=y.length,s=e(N,y,A,_),s<1&&(c++,n(y,A<_?x:N,_))),_=y.length):s===0&&(c++,y=[0]),v[u++]=c,s&&y[0]?y[_++]=P[T]||0:(y=[P[T]],_=1);while((T++<w||y[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=l,Pe(m,a?o+lt(m)+1:o)}}();function mN(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(lt(t)>16)throw Error(o_+lt(t));if(!t.s)return new c(pn);for(Ke=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(ao(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(pn),c.precision=s;;){if(i=Pe(i.times(t),s),n=n.times(++l),a=o.plus(Ur(i,n,s)),lr(a.d).slice(0,s)===lr(o.d).slice(0,s)){for(;u--;)o=Pe(o.times(o),s);return c.precision=f,e==null?(Ke=!0,Pe(o,f)):o}o=a}}function lt(t){for(var e=t.e*ze,n=t.d[0];n>=10;n/=10)e++;return e}function Vm(t,e,n){if(e>t.LN10.sd())throw Ke=!0,n&&(t.precision=n),Error(zn+"LN10 precision limit exceeded");return Pe(new t(t.LN10),e)}function li(t){for(var e="";t--;)e+="0";return e}function Tu(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,m=t,v=m.d,y=m.constructor,_=y.precision;if(m.s<1)throw Error(zn+(m.s?"NaN":"-Infinity"));if(m.eq(pn))return new y(0);if(e==null?(Ke=!1,u=_):u=e,m.eq(10))return e==null&&(Ke=!0),Vm(y,u);if(u+=h,y.precision=u,n=lr(v),r=n.charAt(0),o=lt(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=lr(m.d),r=n.charAt(0),f++;o=lt(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1))}else return l=Vm(y,u+2,_).times(o+""),m=Tu(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=_,e==null?(Ke=!0,Pe(m,_)):m;for(s=a=m=Ur(m.minus(pn),m.plus(pn),u),c=Pe(m.times(m),u),i=3;;){if(a=Pe(a.times(c),u),l=s.plus(Ur(a,new y(i),u)),lr(l.d).slice(0,u)===lr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Vm(y,u+2,_).times(o+""))),s=Ur(s,new y(f),u),y.precision=_,e==null?(Ke=!0,Pe(s,_)):s;s=l,i+=2}}function cx(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ks(n/ze),t.d=[],r=(n+1)%ze,n<0&&(r+=ze),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ze;r<i;)t.d.push(+e.slice(r,r+=ze));e=e.slice(r),r=ze-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ke&&(t.e>Md||t.e<-Md))throw Error(o_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Pe(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ze,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/ze),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=ze,i=r-ze+a}if(n!==void 0&&(o=ao(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ao(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=lt(t),f.length=1,e=e-o-1,f[0]=ao(10,(ze-e%ze)%ze),t.e=Ks(-e/ze)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ao(10,ze-r),f[c]=i>0?(u/ao(10,a-i)%ao(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==yt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=yt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Ke&&(t.e>Md||t.e<-Md))throw Error(o_+lt(t));return t}function vN(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ke?Pe(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/ze),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=yt-1;--l[o],l[i]+=yt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ke?Pe(e,m):e):new h(0)}function Po(t,e,n){var r,i=lt(t),o=lr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+li(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+li(-i-1)+o,n&&(r=n-a)>0&&(o+=li(r))):i>=a?(o+=li(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+li(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=li(r))),t.s<0?"-"+o:o}function fx(t,e){if(t.length>e)return t.length=e,!0}function gN(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wo+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return cx(a,o.toString())}else if(typeof o!="string")throw Error(wo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,tie.test(o))cx(a,o);else throw Error(wo+o)}if(i.prototype=J,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gN,i.config=i.set=nie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nie(t){if(!t||typeof t!="object")throw Error(zn+"Object expected");var e,n,r,i=["precision",1,Fs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ks(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wo+n+": "+r);return this}var a_=gN(eie);pn=new a_(1);const Re=a_;function rie(t){return sie(t)||aie(t)||oie(t)||iie()}function iie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oie(t,e){if(t){if(typeof t=="string")return ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ry(t,e)}}function aie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sie(t){if(Array.isArray(t))return ry(t)}function ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lie=function(e){return e},yN={},bN=function(e){return e===yN},dx=function(e){return function n(){return arguments.length===0||arguments.length===1&&bN(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},uie=function t(e,n){return e===1?n:dx(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==yN}).length;return a>=e?n.apply(void 0,i):t(e-a,dx(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return bN(f)?l.shift():f});return n.apply(void 0,rie(c).concat(l))}))})},hp=function(e){return uie(e.length,e)},iy=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},cie=hp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),fie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return lie;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},oy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},_N=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function die(t){var e;return t===0?e=1:e=Math.floor(new Re(t).abs().log(10).toNumber())+1,e}function hie(t,e,n){for(var r=new Re(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var pie=hp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),mie=hp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vie=hp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const pp={rangeStep:hie,getDigitCount:die,interpolateNumber:pie,uninterpolateNumber:mie,uninterpolateTruncation:vie};function ay(t){return bie(t)||yie(t)||SN(t)||gie()}function gie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bie(t){if(Array.isArray(t))return sy(t)}function Eu(t,e){return wie(t)||Sie(t,e)||SN(t,e)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SN(t,e){if(t){if(typeof t=="string")return sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sy(t,e)}}function sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sie(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function wie(t){if(Array.isArray(t))return t}function wN(t){var e=Eu(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function TN(t,e,n){if(t.lte(0))return new Re(0);var r=pp.getDigitCount(t.toNumber()),i=new Re(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Re(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Re(Math.ceil(l))}function Tie(t,e,n){var r=1,i=new Re(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Re(10).pow(pp.getDigitCount(t)-1),i=new Re(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Re(Math.floor(t)))}else t===0?i=new Re(Math.floor((e-1)/2)):n||(i=new Re(Math.floor(t)));var a=Math.floor((e-1)/2),s=fie(cie(function(l){return i.add(new Re(l-a).mul(r)).toNumber()}),iy);return s(0,e)}function EN(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var o=TN(new Re(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Re(0):(a=new Re(t).add(e).div(2),a=a.sub(new Re(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Re(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?EN(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Re(s).mul(o)),tickMax:a.add(new Re(l).mul(o))})}function Eie(t){var e=Eu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=wN([n,r]),l=Eu(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(ay(iy(0,i-1).map(function(){return 1/0}))):[].concat(ay(iy(0,i-1).map(function(){return-1/0})),[c]);return n>r?oy(f):f}if(u===c)return Tie(u,i,o);var h=EN(u,c,a,o),m=h.step,v=h.tickMin,y=h.tickMax,_=pp.rangeStep(v,y.add(new Re(.1).mul(m)),m);return n>r?oy(_):_}function Aie(t,e){var n=Eu(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=wN([r,i]),s=Eu(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=TN(new Re(u).sub(l).div(c-1),o,0),h=[].concat(ay(pp.rangeStep(new Re(l),new Re(u).sub(new Re(.99).mul(f)),f)),[u]);return r>i?oy(h):h}var xie=_N(Eie),Cie=_N(Aie),Oie="Invariant failed";function Io(t,e){throw new Error(Oie)}var Rie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pd.apply(this,arguments)}function Mie(t,e){return Die(t)||Nie(t,e)||Iie(t,e)||Pie()}function Pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(t,e){if(t){if(typeof t=="string")return hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hx(t,e)}}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Die(t){if(Array.isArray(t))return t}function kie(t,e){if(t==null)return{};var n=$ie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CN(r.key),r)}}function Bie(t,e,n){return e&&Lie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jie(t,e,n){return e=Id(e),zie(t,AN()?Reflect.construct(e,n||[],Id(t).constructor):e.apply(t,n))}function zie(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gie(t)}function Gie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AN=function(){return!!t})()}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Id(t)}function Hie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ly(t,e)}function ly(t,e){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ly(t,e)}function xN(t,e,n){return e=CN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CN(t){var e=qie(t,"string");return us(e)=="symbol"?e:e+""}function qie(t,e){if(us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mp=function(t){function e(){return Uie(this,e),jie(this,e,arguments)}return Hie(e,t),Bie(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=kie(r,Rie),m=ne(h,!1);this.props.direction==="x"&&c.type!=="number"&&Io();var v=l.map(function(y){var _=u(y,s),g=_.x,b=_.y,S=_.value,T=_.errorVal;if(!T)return null;var w=[],E,A;if(Array.isArray(T)){var x=Mie(T,2);E=x[0],A=x[1]}else E=A=T;if(o==="vertical"){var C=c.scale,M=b+i,P=M+a,N=M-a,D=C(S-E),U=C(S+A);w.push({x1:U,y1:P,x2:U,y2:N}),w.push({x1:D,y1:M,x2:U,y2:M}),w.push({x1:D,y1:P,x2:D,y2:N})}else if(o==="horizontal"){var L=f.scale,I=g+i,k=I-a,j=I+a,G=L(S-E),V=L(S+A);w.push({x1:k,y1:V,x2:j,y2:V}),w.push({x1:I,y1:G,x2:I,y2:V}),w.push({x1:k,y1:G,x2:j,y2:G})}return R.createElement(xe,Pd({className:"recharts-errorBar",key:"bar-".concat(w.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),w.map(function(X){return R.createElement("line",Pd({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return R.createElement(xe,{className:"recharts-errorBars"},v)}}])}(R.Component);xN(mp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xN(mp,"displayName","ErrorBar");function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?px(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return e=Fie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=Kie(t,"string");return Au(e)=="symbol"?e:e+""}function Kie(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ON=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=un(n,za);if(!a)return null;var s=za.defaultProps,l=s!==void 0?Ji(Ji({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return c.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,m=h!==void 0?Ji(Ji({},h),f.props):{},v=m.dataKey,y=m.name,_=m.legendType,g=m.hide;return{inactive:g,dataKey:v,type:l.iconType||_||"square",color:s_(f),value:y||v,payload:m}}),Ji(Ji(Ji({},l),za.getWithHeight(a,i)),{},{payload:u,item:a})};function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function mx(t){return Xie(t)||Wie(t)||Jie(t)||Yie()}function Yie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jie(t,e){if(t){if(typeof t=="string")return uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uy(t,e)}}function Wie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xie(t){if(Array.isArray(t))return uy(t)}function uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(n),!0).forEach(function(r){Ha(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ha(t,e,n){return e=Qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Zie(t,"string");return xu(e)=="symbol"?e:e+""}function Zie(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kt(t,e,n){return fe(t)||fe(e)?n:mt(e)?_n(t,e,n):ie(e)?e(t):n}function zl(t,e,n,r){var i=Wre(t,function(s){return kt(s,e)});if(n==="number"){var o=i.filter(function(s){return q(s)||parseFloat(s)});return o.length?[fp(o),cp(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!fe(s)}):i;return a.map(function(s){return mt(s)||s instanceof Date?s:""})}var eoe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(zt(f-c)!==zt(h-f)){var v=[];if(zt(h-f)===zt(l[1]-l[0])){m=h;var y=f+l[1]-l[0];v[0]=Math.min(y,(y+c)/2),v[1]=Math.max(y,(y+c)/2)}else{m=c;var _=h+l[1]-l[0];v[0]=Math.min(f,(_+f)/2),v[1]=Math.max(f,(_+f)/2)}var g=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>g[0]&&e<=g[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var b=Math.min(c,h),S=Math.max(c,h);if(e>(b+f)/2&&e<=(S+f)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},s_=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},toe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,m=f.length;h<m;h++){var v=c[f[h]],y=v.items,_=v.cateAxisId,g=y.filter(function(A){return $r(A.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,S=b!==void 0?Qe(Qe({},b),g[0].props):g[0].props,T=S.barSize,w=S[_];a[w]||(a[w]=[]);var E=fe(T)?n:T;a[w].push({item:g[0],stackList:g.slice(1),barSize:fe(E)?void 0:Gt(E,r,0)})}}return a},noe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Gt(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,v=a.reduce(function(T,w){return T+w.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&m>0&&(h=!0,m*=.9,v=l*m);var y=(i-v)/2>>0,_={offset:y-u,size:0};c=a.reduce(function(T,w){var E={item:w.item,position:{offset:_.offset+_.size+u,size:h?m:w.barSize}},A=[].concat(mx(T),[E]);return _=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(x){A.push({item:x,position:_})}),A},f)}else{var g=Gt(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var b=(i-2*g-(l-1)*u)/l;b>1&&(b>>=0);var S=s===+s?Math.min(b,s):b;c=a.reduce(function(T,w,E){var A=[].concat(mx(T),[{item:w.item,position:{offset:g+(b+u)*E+(b-S)/2,size:S}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(x){A.push({item:x,position:A[A.length-1].position})}),A},f)}return c},roe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=ON({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,m=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&m!=="center"&&q(e[m]))return Qe(Qe({},e),{},Ha({},m,e[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&v!=="middle"&&q(e[v]))return Qe(Qe({},e),{},Ha({},v,e[v]+(h||0)))}return e},ioe=function(e,n,r){return fe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},RN=function(e,n,r,i,o){var a=n.props.children,s=Ln(a,mp).filter(function(u){return ioe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=kt(c,r);if(fe(f))return u;var h=Array.isArray(f)?[fp(f),cp(f)]:[f,f],m=l.reduce(function(v,y){var _=kt(c,y,0),g=h[0]-Math.abs(Array.isArray(_)?_[0]:_),b=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(g,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},ooe=function(e,n,r,i,o){var a=n.map(function(s){return RN(e,s,r,o,i)}).filter(function(s){return!fe(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},MN=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&RN(e,l,u,i)||zl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},PN=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},IN=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Ir=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?zt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!ac(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Fm=new WeakMap,Yc=function(e,n){if(typeof n!="function")return e;Fm.has(e)||Fm.set(e,new WeakMap);var r=Fm.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},NN=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:yu(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:xd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:jl(),realScaleType:"point"}:o==="category"?{scale:yu(),realScaleType:"band"}:{scale:xd(),realScaleType:"linear"};if(Oo(i)){var l="scale".concat(Jh(i));return{scale:(ux[l]||jl)(),realScaleType:ux[l]?l:"point"}}return ie(i)?{scale:i}:{scale:jl(),realScaleType:"point"}},gx=1e-4,DN=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-gx,a=Math.max(i[0],i[1])+gx,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},aoe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},soe=function(e,n){if(!n||n.length!==2||!q(n[0])||!q(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!q(e[0])||e[0]<r)&&(o[0]=r),(!q(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},loe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=ac(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},uoe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=ac(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},coe={sign:loe,expand:RK,none:ts,silhouette:MK,wiggle:PK,positive:uoe},foe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=coe[r],a=OK().keys(i).value(function(s,l){return+kt(s,l,0)}).order(Dg).offset(o);return a(e)},doe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Qe(Qe({},h.type.defaultProps),h.props):h.props,y=v.stackId,_=v.hide;if(_)return f;var g=v[r],b=f[g]||{hasStack:!1,stackGroups:{}};if(mt(y)){var S=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),b.hasStack=!0,b.stackGroups[y]=S}else b.stackGroups[sc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Qe(Qe({},f),{},Ha({},g,b))},l),c={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,_){var g=m.stackGroups[_];return Qe(Qe({},y),{},Ha({},_,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:foe(e,g.items,o)}))},v)}return Qe(Qe({},f),{},Ha({},h,m))},c)},kN=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=xie(u,o,s);return e.domain([fp(c),cp(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=Cie(f,o,s);return{niceTicks:h}}return null},yx=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=kt(a,n.dataKey,n.domain[s]);return fe(l)?null:n.scale(l)-o/2+i},hoe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},poe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(mt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},moe=function(e){return e.reduce(function(n,r){return[fp(r.concat([n[0]]).filter(q)),cp(r.concat([n[1]]).filter(q))]},[1/0,-1/0])},$N=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=moe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_x=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cy=function(e,n,r){if(ie(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(q(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(bx.test(e[0])){var o=+bx.exec(e[0])[1];i[0]=n[0]-o}else ie(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(q(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(_x.test(e[1])){var a=+_x.exec(e[1])[1];i[1]=n[1]+a}else ie(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Nd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=kb(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Sx=function(e,n,r){return!e||!e.length||dp(e,_n(r,"type.defaultProps.domain"))?n:e},UN=function(e,n){var r=e.type.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Qe(Qe({},ne(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:s_(e),value:kt(n,i),type:l,payload:n,chartType:u,hide:c})};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(n),!0).forEach(function(r){LN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LN(t,e,n){return e=voe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function voe(t){var e=goe(t,"string");return Cu(e)=="symbol"?e:e+""}function goe(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yoe(t,e){return woe(t)||Soe(t,e)||_oe(t,e)||boe()}function boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _oe(t,e){if(t){if(typeof t=="string")return Tx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tx(t,e)}}function Tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Soe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function woe(t){if(Array.isArray(t))return t}var Dd=Math.PI/180,Toe=function(e){return e*180/Math.PI},Ue=function(e,n,r,i){return{x:e+Math.cos(-Dd*i)*r,y:n+Math.sin(-Dd*i)*r}},BN=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Eoe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Gt(e.cx,a,a/2),f=Gt(e.cy,s,s/2),h=BN(a,s,r),m=Gt(e.innerRadius,h,0),v=Gt(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(_,g){var b=n[g],S=b.domain,T=b.reversed,w;if(fe(b.range))i==="angleAxis"?w=[l,u]:i==="radiusAxis"&&(w=[m,v]),T&&(w=[w[1],w[0]]);else{w=b.range;var E=w,A=yoe(E,2);l=A[0],u=A[1]}var x=NN(b,o),C=x.realScaleType,M=x.scale;M.domain(S).range(w),DN(M);var P=kN(M,Er(Er({},b),{},{realScaleType:C})),N=Er(Er(Er({},b),P),{},{range:w,radius:v,realScaleType:C,scale:M,cx:c,cy:f,innerRadius:m,outerRadius:v,startAngle:l,endAngle:u});return Er(Er({},_),{},LN({},g,N))},{})},Aoe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},xoe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Aoe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Toe(u),angleInRadian:u}},Coe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Ooe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},Ex=function(e,n){var r=e.x,i=e.y,o=xoe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Coe(n),f=c.startAngle,h=c.endAngle,m=s,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?Er(Er({},n),{},{radius:a,angle:Ooe(m,n)}):null},jN=function(e){return!B.isValidElement(e)&&!ie(e)&&typeof e!="boolean"?e.className:""};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}var Roe=["offset"];function Moe(t){return Doe(t)||Noe(t)||Ioe(t)||Poe()}function Poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(t,e){if(t){if(typeof t=="string")return fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fy(t,e)}}function Noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Doe(t){if(Array.isArray(t))return fy(t)}function fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function koe(t,e){if(t==null)return{};var n=$oe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ax(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ax(Object(n),!0).forEach(function(r){Uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ax(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uoe(t,e,n){return e=Loe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Loe(t){var e=Boe(t,"string");return Ou(e)=="symbol"?e:e+""}function Boe(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(this,arguments)}var joe=function(e){var n=e.value,r=e.formatter,i=fe(e.children)?n:e.children;return ie(r)?r(i):i},zoe=function(e,n){var r=zt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Goe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,v=l.endAngle,y=l.clockWise,_=(f+h)/2,g=zoe(m,v),b=g>=0?1:-1,S,T;i==="insideStart"?(S=m+b*a,T=y):i==="insideEnd"?(S=v-b*a,T=!y):i==="end"&&(S=v+b*a,T=y),T=g<=0?T:!T;var w=Ue(u,c,_,S),E=Ue(u,c,_,S+(T?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),x=fe(e.id)?sc("recharts-radial-line-"):e.id;return R.createElement("text",Ru({},r,{dominantBaseline:"central",className:ce("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:x,d:A})),R.createElement("textPath",{xlinkHref:"#".concat(x)},n))},Hoe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var m=Ue(a,s,u+r,h),v=m.x,y=m.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,g=Ue(a,s,_,h),b=g.x,S=g.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},qoe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,_=y*i,g=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return dt(dt({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return dt(dt({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var w={x:s-_,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return dt(dt({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return dt(dt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?dt({x:s+_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideRight"?dt({x:s+u-_,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},A):o==="insideTop"?dt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?dt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},A):o==="insideTopLeft"?dt({x:s+_,y:l+h,textAnchor:b,verticalAnchor:v},A):o==="insideTopRight"?dt({x:s+u-_,y:l+h,textAnchor:g,verticalAnchor:v},A):o==="insideBottomLeft"?dt({x:s+_,y:l+c-h,textAnchor:b,verticalAnchor:m},A):o==="insideBottomRight"?dt({x:s+u-_,y:l+c-h,textAnchor:g,verticalAnchor:m},A):Us(o)&&(q(o.x)||fo(o.x))&&(q(o.y)||fo(o.y))?dt({x:s+Gt(o.x,u),y:l+Gt(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):dt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Voe=function(e){return"cx"in e&&q(e.cx)};function St(t){var e=t.offset,n=e===void 0?5:e,r=koe(t,Roe),i=dt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||fe(s)&&fe(l)&&!B.isValidElement(u)&&!ie(u))return null;if(B.isValidElement(u))return B.cloneElement(u,i);var m;if(ie(u)){if(m=B.createElement(u,i),B.isValidElement(m))return m}else m=joe(i);var v=Voe(o),y=ne(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Goe(i,m,y);var _=v?Hoe(i):qoe(i);return R.createElement(Mo,Ru({className:ce("recharts-label",f)},y,_,{breakAll:h}),m)}St.displayName="Label";var zN=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,y=e.width,_=e.height,g=e.clockWise,b=e.labelViewBox;if(b)return b;if(q(y)&&q(_)){if(q(f)&&q(h))return{x:f,y:h,width:y,height:_};if(q(m)&&q(v))return{x:m,y:v,width:y,height:_}}return q(f)&&q(h)?{x:f,y:h,width:0,height:0}:q(n)&&q(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:g}:e.viewBox?e.viewBox:{}},Foe=function(e,n){return e?e===!0?R.createElement(St,{key:"label-implicit",viewBox:n}):mt(e)?R.createElement(St,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===St?B.cloneElement(e,{key:"label-implicit",viewBox:n}):R.createElement(St,{key:"label-implicit",content:e,viewBox:n}):ie(e)?R.createElement(St,{key:"label-implicit",content:e,viewBox:n}):Us(e)?R.createElement(St,Ru({viewBox:n},e,{key:"label-implicit"})):null:null},Koe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=zN(e),a=Ln(i,St).map(function(l,u){return B.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Foe(e.label,n||o);return[s].concat(Moe(a))};St.parseViewBox=zN;St.renderCallByParent=Koe;function Yoe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Joe=Yoe;const Woe=Te(Joe);function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}var Xoe=["valueAccessor"],Qoe=["data","dataKey","clockWise","id","textBreakAll"];function Zoe(t){return rae(t)||nae(t)||tae(t)||eae()}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dy(t,e)}}function nae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rae(t){if(Array.isArray(t))return dy(t)}function dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kd.apply(this,arguments)}function xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return e=oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=aae(t,"string");return Mu(e)=="symbol"?e:e+""}function aae(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ox(t,e){if(t==null)return{};var n=sae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lae=function(e){return Array.isArray(e.value)?Woe(e.value):e.value};function Pi(t){var e=t.valueAccessor,n=e===void 0?lae:e,r=Ox(t,Xoe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=Ox(r,Qoe);return!i||!i.length?null:R.createElement(xe,{className:"recharts-label-list"},i.map(function(c,f){var h=fe(o)?n(c,f):kt(c&&c.payload,o),m=fe(s)?{}:{id:"".concat(s,"-").concat(f)};return R.createElement(St,kd({},ne(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:St.parseViewBox(fe(a)?c:Cx(Cx({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Pi.displayName="LabelList";function uae(t,e){return t?t===!0?R.createElement(Pi,{key:"labelList-implicit",data:e}):R.isValidElement(t)||ie(t)?R.createElement(Pi,{key:"labelList-implicit",data:e,content:t}):Us(t)?R.createElement(Pi,kd({data:e},t,{key:"labelList-implicit"})):null:null}function cae(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ln(r,Pi).map(function(a,s){return B.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=uae(t.label,e);return[o].concat(Zoe(i))}Pi.renderCallByParent=cae;function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(this,arguments)}function Rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rx(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return e=dae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=hae(t,"string");return Pu(e)=="symbol"?e:e+""}function hae(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pae=function(e,n){var r=zt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Jc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Dd,h=u?o:o+a*f,m=Ue(n,r,c,h),v=Ue(n,r,i,h),y=u?o-a*f:o,_=Ue(n,r,c*Math.cos(f*Dd),y);return{center:m,circleTangency:v,lineTangency:_,theta:f}},GN=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=pae(a,s),u=a+l,c=Ue(n,r,o,a),f=Ue(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Ue(n,r,i,a),v=Ue(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},mae=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=zt(c-u),h=Jc({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,v=h.lineTangency,y=h.theta,_=Jc({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),g=_.circleTangency,b=_.lineTangency,S=_.theta,T=l?Math.abs(u-c):Math.abs(u-c)-y-S;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):GN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=Jc({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,x=E.lineTangency,C=E.theta,M=Jc({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=M.circleTangency,N=M.lineTangency,D=M.theta,U=l?Math.abs(u-c):Math.abs(u-c)-C-D;if(U<0&&a===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},vae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HN=function(e){var n=Mx(Mx({},vae),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var m=ce("recharts-sector",h),v=a-o,y=Gt(s,v,0,!0),_;return y>0&&Math.abs(c-f)<360?_=mae({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):_=GN({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),R.createElement("path",hy({},ne(n,!0),{className:m,d:_,role:"img"}))};function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function Px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ix(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(n),!0).forEach(function(r){gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gae(t,e,n){return e=yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=bae(t,"string");return Iu(e)=="symbol"?e:e+""}function bae(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nx={curveBasisClosed:gK,curveBasisOpen:yK,curveBasis:vK,curveBumpX:nK,curveBumpY:rK,curveLinearClosed:bK,curveLinear:Xh,curveMonotoneX:_K,curveMonotoneY:SK,curveNatural:wK,curveStep:TK,curveStepAfter:AK,curveStepBefore:EK},Wc=function(e){return e.x===+e.x&&e.y===+e.y},cl=function(e){return e.x},fl=function(e){return e.y},_ae=function(e,n){if(ie(e))return e;var r="curve".concat(Jh(e));return(r==="curveMonotone"||r==="curveBump")&&n?Nx["".concat(r).concat(n==="vertical"?"Y":"X")]:Nx[r]||Xh},Sae=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=_ae(r,s),f=u?o.filter(function(y){return Wc(y)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(y){return Wc(y)}):a,v=f.map(function(y,_){return Ix(Ix({},y),{},{base:m[_]})});return s==="vertical"?h=jc().y(fl).x1(cl).x0(function(y){return y.base.x}):h=jc().x(cl).y1(fl).y0(function(y){return y.base.y}),h.defined(Wc).curve(c),h(v)}return s==="vertical"&&q(a)?h=jc().y(fl).x1(cl).x0(a):q(a)?h=jc().x(cl).y1(fl).y0(a):h=UP().x(cl).y(fl),h.defined(Wc).curve(c),h(f)},my=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Sae(e):i;return B.createElement("path",py({},ne(e,!1),ad(e),{className:ce("recharts-curve",n),d:a,ref:o}))},qN={exports:{}},wae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tae=wae,Eae=Tae;function VN(){}function FN(){}FN.resetWarningCache=VN;var Aae=function(){function t(r,i,o,a,s,l){if(l!==Eae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FN,resetWarningCache:VN};return n.PropTypes=n,n};qN.exports=Aae();var xae=qN.exports;const we=Te(xae),{getOwnPropertyNames:Cae,getOwnPropertySymbols:Oae}=Object,{hasOwnProperty:Rae}=Object.prototype;function Km(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Xc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Mae(t){return t!=null?t[Symbol.toStringTag]:void 0}function Dx(t){return Cae(t).concat(Oae(t))}const Pae=Object.hasOwn||((t,e)=>Rae.call(t,e));function Ho(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Iae="__v",Nae="__o",Dae="_owner",{getOwnPropertyDescriptor:kx,keys:$x}=Object;function kae(t,e){return t.byteLength===e.byteLength&&$d(new Uint8Array(t),new Uint8Array(e))}function $ae(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Uae(t,e){return t.byteLength===e.byteLength&&$d(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Lae(t,e){return Ho(t.getTime(),e.getTime())}function Bae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jae(t,e){return t===e}function Ux(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const zae=Ho;function Gae(t,e,n){const r=$x(t);let i=r.length;if($x(e).length!==i)return!1;for(;i-- >0;)if(!KN(t,e,n,r[i]))return!1;return!0}function dl(t,e,n){const r=Dx(t);let i=r.length;if(Dx(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!KN(t,e,n,o)||(a=kx(t,o),s=kx(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Hae(t,e){return Ho(t.valueOf(),e.valueOf())}function qae(t,e){return t.source===e.source&&t.flags===e.flags}function Lx(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function $d(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Vae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KN(t,e,n,r){return(r===Dae||r===Nae||r===Iae)&&(t.$$typeof||e.$$typeof)?!0:Pae(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Fae="[object ArrayBuffer]",Kae="[object Arguments]",Yae="[object Boolean]",Jae="[object DataView]",Wae="[object Date]",Xae="[object Error]",Qae="[object Map]",Zae="[object Number]",ese="[object Object]",tse="[object RegExp]",nse="[object Set]",rse="[object String]",ise={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ose="[object URL]",ase=Object.prototype.toString;function sse({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:v}){return function(_,g,b){if(_===g)return!0;if(_==null||g==null)return!1;const S=typeof _;if(S!==typeof g)return!1;if(S!=="object")return S==="number"?s(_,g,b):S==="function"?o(_,g,b):!1;const T=_.constructor;if(T!==g.constructor)return!1;if(T===Object)return l(_,g,b);if(Array.isArray(_))return e(_,g,b);if(T===Date)return r(_,g,b);if(T===RegExp)return c(_,g,b);if(T===Map)return a(_,g,b);if(T===Set)return f(_,g,b);const w=ase.call(_);if(w===Wae)return r(_,g,b);if(w===tse)return c(_,g,b);if(w===Qae)return a(_,g,b);if(w===nse)return f(_,g,b);if(w===ese)return typeof _.then!="function"&&typeof g.then!="function"&&l(_,g,b);if(w===ose)return m(_,g,b);if(w===Xae)return i(_,g,b);if(w===Kae)return l(_,g,b);if(ise[w])return h(_,g,b);if(w===Fae)return t(_,g,b);if(w===Jae)return n(_,g,b);if(w===Yae||w===Zae||w===rse)return u(_,g,b);if(v){let E=v[w];if(!E){const A=Mae(_);A&&(E=v[A])}if(E)return E(_,g,b)}return!1}}function lse({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:kae,areArraysEqual:n?dl:$ae,areDataViewsEqual:Uae,areDatesEqual:Lae,areErrorsEqual:Bae,areFunctionsEqual:jae,areMapsEqual:n?Km(Ux,dl):Ux,areNumbersEqual:zae,areObjectsEqual:n?dl:Gae,arePrimitiveWrappersEqual:Hae,areRegExpsEqual:qae,areSetsEqual:n?Km(Lx,dl):Lx,areTypedArraysEqual:n?Km($d,dl):$d,areUrlsEqual:Vae,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Xc(r.areArraysEqual),o=Xc(r.areMapsEqual),a=Xc(r.areObjectsEqual),s=Xc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function use(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function cse({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const fse=Gi();Gi({strict:!0});Gi({circular:!0});Gi({circular:!0,strict:!0});Gi({createInternalComparator:()=>Ho});Gi({strict:!0,createInternalComparator:()=>Ho});Gi({circular:!0,createInternalComparator:()=>Ho});Gi({circular:!0,createInternalComparator:()=>Ho,strict:!0});function Gi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=lse(t),a=sse(o),s=n?n(a):use(a);return cse({circular:e,comparator:a,createState:r,equals:s,strict:i})}function dse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Bx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):dse(i)};requestAnimationFrame(r)}function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function hse(t){return gse(t)||vse(t)||mse(t)||pse()}function pse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mse(t,e){if(t){if(typeof t=="string")return jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jx(t,e)}}function jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gse(t){if(Array.isArray(t))return t}function yse(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=hse(a),l=s[0],u=s.slice(1);if(typeof l=="number"){Bx(i.bind(null,u),l);return}i(l),Bx(i.bind(null,u));return}vy(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function zx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zx(Object(n),!0).forEach(function(r){YN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YN(t,e,n){return e=bse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=_se(t,"string");return Nu(e)==="symbol"?e:String(e)}function _se(t,e){if(Nu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sse=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},wse=function(e){return e},Tse=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Gl=function(e,n){return Object.keys(n).reduce(function(r,i){return Gx(Gx({},r),{},YN({},i,e(i,n[i])))},{})},Hx=function(e,n,r){return e.map(function(i){return"".concat(Tse(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Ese(t,e){return Cse(t)||xse(t,e)||JN(t,e)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Cse(t){if(Array.isArray(t))return t}function Ose(t){return Pse(t)||Mse(t)||JN(t)||Rse()}function Rse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JN(t,e){if(t){if(typeof t=="string")return gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gy(t,e)}}function Mse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pse(t){if(Array.isArray(t))return gy(t)}function gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ud=1e-4,WN=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},XN=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},qx=function(e,n){return function(r){var i=WN(e,n);return XN(i,r)}},Ise=function(e,n){return function(r){var i=WN(e,n),o=[].concat(Ose(i.map(function(a,s){return a*s}).slice(1)),[0]);return XN(o,r)}},Vx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=Ese(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=qx(i,a),h=qx(o,s),m=Ise(i,a),v=function(g){return g>1?1:g<0?0:g},y=function(g){for(var b=g>1?1:g,S=b,T=0;T<8;++T){var w=f(S)-b,E=m(S);if(Math.abs(w-b)<Ud||E<Ud)return h(S);S=v(S-w/E)}return h(S)};return y.isStepper=!1,y},Nse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var m=-(c-f)*r,v=h*o,y=h+(m-v)*s/1e3,_=h*s/1e3+c;return Math.abs(_-f)<Ud&&Math.abs(y)<Ud?[f,0]:[_,y]};return l.isStepper=!0,l.dt=s,l},Dse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Vx(i);case"spring":return Nse();default:if(i.split("(")[0]==="cubic-bezier")return Vx(i)}return typeof i=="function"?i:null};function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Fx(t){return Use(t)||$se(t)||QN(t)||kse()}function kse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Use(t){if(Array.isArray(t))return by(t)}function Kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kx(Object(n),!0).forEach(function(r){yy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yy(t,e,n){return e=Lse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lse(t){var e=Bse(t,"string");return Du(e)==="symbol"?e:String(e)}function Bse(t,e){if(Du(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jse(t,e){return Hse(t)||Gse(t,e)||QN(t,e)||zse()}function zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QN(t,e){if(t){if(typeof t=="string")return by(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return by(t,e)}}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Hse(t){if(Array.isArray(t))return t}var Ld=function(e,n,r){return e+(n-e)*r},_y=function(e){var n=e.from,r=e.to;return n!==r},qse=function t(e,n,r){var i=Gl(function(o,a){if(_y(a)){var s=e(a.from,a.to,a.velocity),l=jse(s,2),u=l[0],c=l[1];return Ct(Ct({},a),{},{from:u,velocity:c})}return a},n);return r<1?Gl(function(o,a){return _y(a)?Ct(Ct({},a),{},{velocity:Ld(a.velocity,i[o].velocity,r),from:Ld(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Vse=function(t,e,n,r,i){var o=Sse(t,e),a=o.reduce(function(_,g){return Ct(Ct({},_),{},yy({},g,[t[g],e[g]]))},{}),s=o.reduce(function(_,g){return Ct(Ct({},_),{},yy({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Gl(function(g,b){return b.from},s)},m=function(){return!Object.values(s).filter(_y).length},v=function(g){u||(u=g);var b=g-u,S=b/n.dt;s=qse(n,s,S),i(Ct(Ct(Ct({},t),e),h())),u=g,m()||(l=requestAnimationFrame(f))},y=function(g){c||(c=g);var b=(g-c)/r,S=Gl(function(w,E){return Ld.apply(void 0,Fx(E).concat([n(b)]))},a);if(i(Ct(Ct(Ct({},t),e),S)),b<1)l=requestAnimationFrame(f);else{var T=Gl(function(w,E){return Ld.apply(void 0,Fx(E).concat([n(1)]))},a);i(Ct(Ct(Ct({},t),e),T))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}var Fse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kse(t,e){if(t==null)return{};var n=Yse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ym(t){return Qse(t)||Xse(t)||Wse(t)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wse(t,e){if(t){if(typeof t=="string")return Sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sy(t,e)}}function Xse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qse(t){if(Array.isArray(t))return Sy(t)}function Sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yx(Object(n),!0).forEach(function(r){wl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wl(t,e,n){return e=ZN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ele(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZN(r.key),r)}}function tle(t,e,n){return e&&ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZN(t){var e=nle(t,"string");return cs(e)==="symbol"?e:String(e)}function nle(t,e){if(cs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(t,e)}function ile(t){var e=ole();return function(){var r=Bd(t),i;if(e){var o=Bd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ty(this,i)}}function Ty(t,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ey(t)}function Ey(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ole(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bd(t)}var Kr=function(t){rle(n,t);var e=ile(n);function n(r,i){var o;Zse(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Ey(o)),o.changeStyle=o.changeStyle.bind(Ey(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Ty(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Ty(o);o.state={style:l?wl({},l,u):u}}else o.state={style:{}};return o}return tle(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var m={style:l?wl({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(fse(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var _={style:l?wl({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(_)}this.runAnimation(Vn(Vn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=Vse(a,s,Dse(u),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,m=function(y,_,g){if(g===0)return y;var b=_.duration,S=_.easing,T=S===void 0?"ease":S,w=_.style,E=_.properties,A=_.onAnimationEnd,x=g>0?a[g-1]:_,C=E||Object.keys(w);if(typeof T=="function"||T==="spring")return[].concat(Ym(y),[o.runJSAnimation.bind(o,{from:x.style,to:w,duration:b,easing:T}),b]);var M=Hx(C,b,T),P=Vn(Vn(Vn({},x.style),w),{},{transition:M});return[].concat(Ym(y),[P,b,A]).filter(wse)};return this.manager.start([l].concat(Ym(a.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yse());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?wl({},s,l):l,_=Hx(Object.keys(y),a,u);v.start([c,o,Vn(Vn({},y),{},{transition:_}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Kse(i,Fse),u=B.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(m){var v=m.props,y=v.style,_=y===void 0?{}:y,g=v.className,b=B.cloneElement(m,Vn(Vn({},l),{},{style:Vn(Vn({},_),c),className:g}));return b};return u===1?f(B.Children.only(o)):R.createElement("div",null,B.Children.map(o,function(h){return f(h)}))}}]),n}(B.PureComponent);Kr.displayName="Animate";Kr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Kr.propTypes={from:we.oneOfType([we.object,we.string]),to:we.oneOfType([we.object,we.string]),attributeName:we.string,duration:we.number,begin:we.number,easing:we.oneOfType([we.string,we.func]),steps:we.arrayOf(we.shape({duration:we.number.isRequired,style:we.object.isRequired,easing:we.oneOfType([we.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),we.func]),properties:we.arrayOf("string"),onAnimationEnd:we.func})),children:we.oneOfType([we.node,we.func]),isActive:we.bool,canBegin:we.bool,onAnimationEnd:we.func,shouldReAnimate:we.bool,onAnimationStart:we.func,onAnimationReStart:we.func};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(this,arguments)}function ale(t,e){return cle(t)||ule(t,e)||lle(t,e)||sle()}function sle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lle(t,e){if(t){if(typeof t=="string")return Jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(t,e)}}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ule(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cle(t){if(Array.isArray(t))return t}function Wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wx(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return e=dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return ku(e)=="symbol"?e:e+""}function hle(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qx=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},ple=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},mle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l_=function(e){var n=Xx(Xx({},mle),e),r=B.useRef(),i=B.useState(-1),o=ale(i,2),a=o[0],s=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,y=n.animationDuration,_=n.animationBegin,g=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=ce("recharts-rectangle",m);return b?R.createElement(Kr,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:v,isActive:b},function(T){var w=T.width,E=T.height,A=T.x,x=T.y;return R.createElement(Kr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,isActive:g,easing:v},R.createElement("path",jd({},ne(n,!0),{className:S,d:Qx(A,x,w,E,h),ref:r})))}):R.createElement("path",jd({},ne(n,!0),{className:S,d:Qx(l,u,c,f,h)}))},vle=["points","className","baseLinePoints","connectNulls"];function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xa.apply(this,arguments)}function gle(t,e){if(t==null)return{};var n=yle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zx(t){return wle(t)||Sle(t)||_le(t)||ble()}function ble(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _le(t,e){if(t){if(typeof t=="string")return Ay(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ay(t,e)}}function Sle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wle(t){if(Array.isArray(t))return Ay(t)}function Ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var e1=function(e){return e&&e.x===+e.x&&e.y===+e.y},Tle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){e1(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),e1(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Hl=function(e,n){var r=Tle(e);n&&(r=[r.reduce(function(o,a){return[].concat(Zx(o),Zx(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Ele=function(e,n,r){var i=Hl(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Hl(n.reverse(),r).slice(1))},Ale=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=gle(e,vle);if(!n||!n.length)return null;var s=ce("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=Ele(n,i,o);return R.createElement("g",{className:s},R.createElement("path",xa({},ne(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?R.createElement("path",xa({},ne(a,!0),{fill:"none",d:Hl(n,o)})):null,l?R.createElement("path",xa({},ne(a,!0),{fill:"none",d:Hl(i,o)})):null)}var c=Hl(n,o);return R.createElement("path",xa({},ne(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(this,arguments)}var u_=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ce("recharts-dot",o);return n===+n&&r===+r&&i===+i?B.createElement("circle",xy({},ne(e,!1),ad(e),{className:a,cx:n,cy:r,r:i})):null};function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}var xle=["x","y","top","left","width","height","className"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return e=Rle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rle(t){var e=Mle(t,"string");return $u(e)=="symbol"?e:e+""}function Mle(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e){if(t==null)return{};var n=Ile(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ile(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nle=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Dle=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,m=h===void 0?0:h,v=e.className,y=Ple(e,xle),_=Cle({x:r,y:o,top:s,left:u,width:f,height:m},y);return!q(r)||!q(o)||!q(f)||!q(m)||!q(s)||!q(u)?null:R.createElement("path",Cy({},ne(_,!0),{className:ce("recharts-cross",v),d:Nle(r,o,f,m,s,u)}))},kle=up,$le=fN,Ule=vr;function Lle(t,e){return t&&t.length?kle(t,Ule(e),$le):void 0}var Ble=Lle;const jle=Te(Ble);var zle=up,Gle=vr,Hle=dN;function qle(t,e){return t&&t.length?zle(t,Gle(e),Hle):void 0}var Vle=qle;const Fle=Te(Vle);var Kle=["cx","cy","angle","ticks","axisLine"],Yle=["ticks","tick","angle","tickFormatter","stroke"];function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){vp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r1(t,e){if(t==null)return{};var n=Jle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tD(r.key),r)}}function Xle(t,e,n){return e&&i1(t.prototype,e),n&&i1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qle(t,e,n){return e=zd(e),Zle(t,eD()?Reflect.construct(e,n||[],zd(t).constructor):e.apply(t,n))}function Zle(t,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eue(t)}function eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zd(t)}function tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Oy(t,e)}function vp(t,e,n){return e=tD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tD(t){var e=nue(t,"string");return fs(e)=="symbol"?e:e+""}function nue(t,e){if(fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gp=function(t){function e(){return Wle(this,e),Qle(this,e,arguments)}return tue(e,t),Xle(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ue(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=jle(s,function(c){return c.coordinate||0}),u=Fle(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=r1(r,Kle),c=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=Ue(i,o,c[0],a),h=Ue(i,o,c[1],a),m=Wi(Wi(Wi({},ne(u,!1)),{},{fill:"none"},ne(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",ql({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=r1(i,Yle),f=this.getTickTextAnchor(),h=ne(c,!1),m=ne(a,!1),v=o.map(function(y,_){var g=r.getTickValueCoord(y),b=Wi(Wi(Wi(Wi({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:_},g),{},{payload:y});return R.createElement(xe,ql({className:ce("recharts-polar-radius-axis-tick",jN(a)),key:"tick-".concat(y.coordinate)},Ro(r.props,y,_)),e.renderTickItem(a,b,l?l(y.value,_):y.value))});return R.createElement(xe,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:R.createElement(xe,{className:ce("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),St.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return R.isValidElement(r)?a=R.cloneElement(r,i):ie(r)?a=r(i):a=R.createElement(Mo,ql({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(B.PureComponent);vp(gp,"displayName","PolarRadiusAxis");vp(gp,"axisType","radiusAxis");vp(gp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function uo(){return uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uo.apply(this,arguments)}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){yp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rD(r.key),r)}}function iue(t,e,n){return e&&a1(t.prototype,e),n&&a1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oue(t,e,n){return e=Gd(e),aue(t,nD()?Reflect.construct(e,n||[],Gd(t).constructor):e.apply(t,n))}function aue(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sue(t)}function sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nD=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}function lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ry(t,e)}function Ry(t,e){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ry(t,e)}function yp(t,e,n){return e=rD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rD(t){var e=uue(t,"string");return ds(e)=="symbol"?e:e+""}function uue(t,e){if(ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cue=Math.PI/180,s1=1e-5,bp=function(t){function e(){return rue(this,e),oue(this,e,arguments)}return lue(e,t),iue(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Ue(o,a,s,r.coordinate),h=Ue(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*cue),a;return o>s1?a=i==="outer"?"start":"end":o<-s1?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Xi(Xi({},ne(this.props,!1)),{},{fill:"none"},ne(s,!1));if(l==="circle")return R.createElement(u_,uo({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,f=c.map(function(h){return Ue(i,o,a,h.coordinate)});return R.createElement(Ale,uo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ne(this.props,!1),f=ne(a,!1),h=Xi(Xi({},c),{},{fill:"none"},ne(s,!1)),m=o.map(function(v,y){var _=r.getTickLineCoord(v),g=r.getTickTextAnchor(v),b=Xi(Xi(Xi({textAnchor:g},c),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:_.x2,y:_.y2});return R.createElement(xe,uo({className:ce("recharts-polar-angle-axis-tick",jN(a)),key:"tick-".concat(v.coordinate)},Ro(r.props,v,y)),s&&R.createElement("line",uo({className:"recharts-polar-angle-axis-tick-line"},h,_)),a&&e.renderTickItem(a,b,l?l(v.value,y):v.value))});return R.createElement(xe,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:R.createElement(xe,{className:ce("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return R.isValidElement(r)?a=R.cloneElement(r,i):ie(r)?a=r(i):a=R.createElement(Mo,uo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(B.PureComponent);yp(bp,"displayName","PolarAngleAxis");yp(bp,"axisType","angleAxis");yp(bp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fue=sI,due=fue(Object.getPrototypeOf,Object),hue=due,pue=Qr,mue=hue,vue=Zr,gue="[object Object]",yue=Function.prototype,bue=Object.prototype,iD=yue.toString,_ue=bue.hasOwnProperty,Sue=iD.call(Object);function wue(t){if(!vue(t)||pue(t)!=gue)return!1;var e=mue(t);if(e===null)return!0;var n=_ue.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&iD.call(n)==Sue}var Tue=wue;const Eue=Te(Tue);var Aue=Qr,xue=Zr,Cue="[object Boolean]";function Oue(t){return t===!0||t===!1||xue(t)&&Aue(t)==Cue}var Rue=Oue;const Mue=Te(Rue);function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}function Pue(t,e){return kue(t)||Due(t,e)||Nue(t,e)||Iue()}function Iue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nue(t,e){if(t){if(typeof t=="string")return l1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l1(t,e)}}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Due(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kue(t){if(Array.isArray(t))return t}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){$ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e,n){return e=Uue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uue(t){var e=Lue(t,"string");return Uu(e)=="symbol"?e:e+""}function Lue(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Bue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jue=function(e){var n=c1(c1({},Bue),e),r=B.useRef(),i=B.useState(-1),o=Pue(i,2),a=o[0],s=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,y=n.animationDuration,_=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var b=ce("recharts-trapezoid",m);return g?R.createElement(Kr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:g},function(S){var T=S.upperWidth,w=S.lowerWidth,E=S.height,A=S.x,x=S.y;return R.createElement(Kr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,easing:v},R.createElement("path",Hd({},ne(n,!0),{className:b,d:f1(A,x,T,w,E),ref:r})))}):R.createElement("g",null,R.createElement("path",Hd({},ne(n,!0),{className:b,d:f1(l,u,c,f,h)})))},zue=["option","shapeType","propTransformer","activeClassName","isActive"];function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Gue(t,e){if(t==null)return{};var n=Hue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function d1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e,n){return e=Vue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Fue(t,"string");return Lu(e)=="symbol"?e:e+""}function Fue(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kue(t,e){return qd(qd({},e),t)}function Yue(t,e){return t==="symbols"}function h1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return R.createElement(l_,n);case"trapezoid":return R.createElement(jue,n);case"sector":return R.createElement(HN,n);case"symbols":if(Yue(e))return R.createElement(Cb,n);break;default:return null}}function Jue(t){return B.isValidElement(t)?t.props:t}function oD(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Kue:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Gue(t,zue),u;if(B.isValidElement(e))u=B.cloneElement(e,qd(qd({},l),Jue(e)));else if(ie(e))u=e(l);else if(Eue(e)&&!Mue(e)){var c=i(e,l);u=R.createElement(h1,{shapeType:n,elementProps:c})}else{var f=l;u=R.createElement(h1,{shapeType:n,elementProps:f})}return s?R.createElement(xe,{className:a},u):u}function _p(t,e){return e!=null&&"trapezoids"in t.props}function Sp(t,e){return e!=null&&"sectors"in t.props}function Bu(t,e){return e!=null&&"points"in t.props}function Wue(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Xue(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Que(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Zue(t,e){var n;return _p(t,e)?n=Wue:Sp(t,e)?n=Xue:Bu(t,e)&&(n=Que),n}function ece(t,e){var n;return _p(t,e)?n="trapezoids":Sp(t,e)?n="sectors":Bu(t,e)&&(n="points"),n}function tce(t,e){if(_p(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Sp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Bu(t,e)?e.payload:{}}function nce(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ece(n,e),o=tce(n,e),a=r.filter(function(l,u){var c=dp(o,l),f=n.props[i].filter(function(v){var y=Zue(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var bf;function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ca.apply(this,arguments)}function p1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(n),!0).forEach(function(r){Nn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sD(r.key),r)}}function ice(t,e,n){return e&&m1(t.prototype,e),n&&m1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oce(t,e,n){return e=Vd(e),ace(t,aD()?Reflect.construct(e,n||[],Vd(t).constructor):e.apply(t,n))}function ace(t,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sce(t)}function sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aD=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}function lce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&My(t,e)}function My(t,e){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},My(t,e)}function Nn(t,e,n){return e=sD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sD(t){var e=uce(t,"string");return hs(e)=="symbol"?e:e+""}function uce(t,e){if(hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ti=function(t){function e(n){var r;return rce(this,e),r=oce(this,e,[n]),Nn(r,"pieRef",null),Nn(r,"sectorRefs",[]),Nn(r,"id",sc("recharts-pie-")),Nn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ie(i)&&i()}),Nn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ie(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return lce(e,t),ice(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ne(this.props,!1),f=ne(a,!1),h=ne(s,!1),m=a&&a.offsetRadius||20,v=r.map(function(y,_){var g=(y.startAngle+y.endAngle)/2,b=Ue(y.cx,y.cy,y.outerRadius+m,g),S=De(De(De(De({},c),y),{},{stroke:"none"},f),{},{index:_,textAnchor:e.getTextAnchor(b.x,y.cx)},b),T=De(De(De(De({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:_,points:[Ue(y.cx,y.cy,y.outerRadius,g),b]}),w=l;return fe(l)&&fe(u)?w="value":fe(l)&&(w=u),R.createElement(xe,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(_)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(a,S,kt(y,w)))});return R.createElement(xe,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,m=f?a:h,v=De(De({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return R.createElement(xe,Ca({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},Ro(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),R.createElement(oD,Ca({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return R.createElement(Kr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,_=[],g=o&&o[0],b=g.startAngle;return o.forEach(function(S,T){var w=h&&h[T],E=T>0?_n(S,"paddingAngle",0):0;if(w){var A=si(w.endAngle-w.startAngle,S.endAngle-S.startAngle),x=De(De({},S),{},{startAngle:b+E,endAngle:b+A(y)+E});_.push(x),b=x.endAngle}else{var C=S.endAngle,M=S.startAngle,P=si(0,C-M),N=P(y),D=De(De({},S),{},{startAngle:b+E,endAngle:b+N+E});_.push(D),b=D.endAngle}}),R.createElement(xe,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!dp(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!q(u)||!q(c)||!q(f)||!q(h))return null;var y=ce("recharts-pie",s);return R.createElement(xe,{tabIndex:this.props.rootTabIndex,className:y,ref:function(g){r.pieRef=g}},this.renderSectors(),l&&this.renderLabels(a),St.renderCallByParent(this.props,null,!1),(!m||v)&&Pi.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(R.isValidElement(r))return R.cloneElement(r,i);if(ie(r))return r(i);var a=ce("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return R.createElement(my,Ca({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(R.isValidElement(r))return R.cloneElement(r,i);var a=o;if(ie(r)&&(a=r(i),R.isValidElement(a)))return a;var s=ce("recharts-pie-label-text",typeof r!="boolean"&&!ie(r)?r.className:"");return R.createElement(Mo,Ca({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(B.PureComponent);bf=ti;Nn(ti,"displayName","Pie");Nn(ti,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Nn(ti,"parseDeltaAngle",function(t,e){var n=zt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Nn(ti,"getRealPieData",function(t){var e=t.data,n=t.children,r=ne(t,!1),i=Ln(n,np);return e&&e.length?e.map(function(o,a){return De(De(De({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return De(De({},r),o.props)}):[]});Nn(ti,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=BN(i,o),s=r+Gt(t.cx,i,i/2),l=n+Gt(t.cy,o,o/2),u=Gt(t.innerRadius,a,0),c=Gt(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});Nn(ti,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?De(De({},e.type.defaultProps),e.props):e.props,i=bf.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),v=bf.parseCoordinateOfPie(r,n),y=bf.parseDeltaAngle(a,s),_=Math.abs(y),g=u;fe(u)&&fe(f)?(tr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):fe(u)&&(tr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var b=i.filter(function(x){return kt(x,g,0)!==0}).length,S=(_>=360?b:b-1)*l,T=_-b*m-S,w=i.reduce(function(x,C){var M=kt(C,g,0);return x+(q(M)?M:0)},0),E;if(w>0){var A;E=i.map(function(x,C){var M=kt(x,g,0),P=kt(x,c,C),N=(q(M)?M:0)/w,D;C?D=A.endAngle+zt(y)*l*(M!==0?1:0):D=a;var U=D+zt(y)*((M!==0?m:0)+N*T),L=(D+U)/2,I=(v.innerRadius+v.outerRadius)/2,k=[{name:P,value:M,payload:x,dataKey:g,type:h}],j=Ue(v.cx,v.cy,I,L);return A=De(De(De({percent:N,cornerRadius:o,name:P,tooltipPayload:k,midAngle:L,middleRadius:I,tooltipPosition:j},x),v),{},{value:kt(x,g),startAngle:D,endAngle:U,payload:x,paddingAngle:zt(y)*l}),A})}return De(De({},v),{},{sectors:E,data:i})});var cce=Math.ceil,fce=Math.max;function dce(t,e,n,r){for(var i=-1,o=fce(cce((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var hce=dce,pce=xI,v1=1/0,mce=17976931348623157e292;function vce(t){if(!t)return t===0?t:0;if(t=pce(t),t===v1||t===-v1){var e=t<0?-1:1;return e*mce}return t===t?t:0}var lD=vce,gce=hce,yce=tp,Jm=lD;function bce(t){return function(e,n,r){return r&&typeof r!="number"&&yce(e,n,r)&&(n=r=void 0),e=Jm(e),n===void 0?(n=e,e=0):n=Jm(n),r=r===void 0?e<n?1:-1:Jm(r),gce(e,n,r,t)}}var _ce=bce,Sce=_ce,wce=Sce(),Tce=wce;const Fd=Te(Tce);function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){uD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uD(t,e,n){return e=Ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Ace(t,"string");return ju(e)=="symbol"?e:e+""}function Ace(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xce=["Webkit","Moz","O","ms"],Cce=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=xce.reduce(function(o,a){return y1(y1({},o),{},uD({},a+r,n))},{});return i[e]=n,i};function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){sn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fD(r.key),r)}}function Rce(t,e,n){return e&&_1(t.prototype,e),n&&_1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mce(t,e,n){return e=Yd(e),Pce(t,cD()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function Pce(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ice(t)}function Ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function Nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Py(t,e)}function sn(t,e,n){return e=fD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fD(t){var e=Dce(t,"string");return ps(e)=="symbol"?e:e+""}function Dce(t,e){if(ps(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kce=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=jl().domain(Fd(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},S1=function(e){return e.changedTouches&&!!e.changedTouches.length},ms=function(t){function e(n){var r;return Oce(this,e),r=Mce(this,e,[n]),sn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),sn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),sn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),sn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),sn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),sn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),sn(r,"handleSlideDragStart",function(i){var o=S1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Nce(e,t),Rce(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=kt(o[r],s,r);return ie(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-s,u+c-f-a):y<0&&(y=Math.max(y,u-a,u-s));var _=this.getIndex({startX:a+y,endX:s+y});(_.startIndex!==h||_.endIndex!==m)&&v&&v(_),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=S1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,m=c.travellerWidth,v=c.onChange,y=c.gap,_=c.data,g={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),g[a]=u+b;var S=this.getIndex(g),T=S.startIndex,w=S.endIndex,E=function(){var x=_.length-1;return a==="startX"&&(s>l?T%y===0:w%y===0)||s<l&&w===x||a==="endX"&&(s>l?w%y===0:T%y===0)||s>l&&w===x};this.setState(sn(sn({},a,u+b),"brushMoveStartX",r.pageX),function(){v&&E()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(sn({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return R.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=B.Children.only(u);return f?R.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,v=l.data,y=l.startIndex,_=l.endIndex,g=Math.max(r,this.props.x),b=Wm(Wm({},ne(this.props,!1)),{},{x:g,y:u,width:c,height:f}),S=m||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[_])===null||a===void 0?void 0:a.name);return R.createElement(xe,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,m=5,v={pointerEvents:"none",fill:u};return R.createElement(xe,{className:"recharts-brush-texts"},R.createElement(Mo,Kd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+s/2},v),this.getTextOfTick(i)),R.createElement(Mo,Kd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,y=h.isTextActive,_=h.isSlideMoving,g=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!q(s)||!q(l)||!q(u)||!q(c)||u<=0||c<=0)return null;var S=ce("recharts-brush",o),T=R.Children.count(a)===1,w=Cce("userSelect","none");return R.createElement(xe,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(y||_||g||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),R.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return R.isValidElement(r)?o=R.cloneElement(r,i):ie(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Wm({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?kce({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(B.PureComponent);sn(ms,"displayName","Brush");sn(ms,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $ce=Db;function Uce(t,e){var n;return $ce(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Lce=Uce,Bce=ZP,jce=vr,zce=Lce,Gce=rn,Hce=tp;function qce(t,e,n){var r=Gce(t)?Bce:zce;return n&&Hce(t,e,n)&&(e=void 0),r(t,jce(e))}var Vce=qce;const Fce=Te(Vce);var fr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},w1=SI;function Kce(t,e,n){e=="__proto__"&&w1?w1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Yce=Kce,Jce=Yce,Wce=bI,Xce=vr;function Qce(t,e){var n={};return e=Xce(e),Wce(t,function(r,i,o){Jce(n,i,e(r,i,o))}),n}var Zce=Qce;const efe=Te(Zce);function tfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var nfe=tfe,rfe=Db;function ife(t,e){var n=!0;return rfe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var ofe=ife,afe=nfe,sfe=ofe,lfe=vr,ufe=rn,cfe=tp;function ffe(t,e,n){var r=ufe(t)?afe:sfe;return n&&cfe(t,e,n)&&(e=void 0),r(t,lfe(e))}var dfe=ffe;const dD=Te(dfe);var hfe=["x","y"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(this,arguments)}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return e=mfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=vfe(t,"string");return zu(e)=="symbol"?e:e+""}function vfe(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gfe(t,e){if(t==null)return{};var n=yfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bfe(t,e){var n=t.x,r=t.y,i=gfe(t,hfe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return hl(hl(hl(hl(hl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function E1(t){return R.createElement(oD,Iy({shapeType:"rectangle",propTransformer:bfe,activeClassName:"recharts-active-bar"},t))}var _fe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=q(r)||G8(r);return o?e(r,i):(o||Io(),n)}},Sfe=["value","background"],hD;function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function wfe(t,e){if(t==null)return{};var n=Tfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(r){_i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function Afe(t,e,n){return e&&x1(t.prototype,e),n&&x1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xfe(t,e,n){return e=Wd(e),Cfe(t,pD()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function Cfe(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ofe(t)}function Ofe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}function Rfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ny(t,e)}function Ny(t,e){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ny(t,e)}function _i(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=Mfe(t,"string");return vs(e)=="symbol"?e:e+""}function Mfe(t,e){if(vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qo=function(t){function e(){var n;Efe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xfe(this,e,[].concat(i)),_i(n,"state",{isAnimationFinished:!1}),_i(n,"id",sc("recharts-bar-")),_i(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),_i(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Rfe(e,t),Afe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ne(this.props,!1);return r&&r.map(function(f,h){var m=h===l,v=m?u:a,y=nt(nt(nt({},c),f),{},{isActive:m,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return R.createElement(xe,Jd({className:"recharts-bar-rectangle"},Ro(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(E1,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return R.createElement(Kr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,y=o.map(function(_,g){var b=h&&h[g];if(b){var S=si(b.x,_.x),T=si(b.y,_.y),w=si(b.width,_.width),E=si(b.height,_.height);return nt(nt({},_),{},{x:S(v),y:T(v),width:w(v),height:E(v)})}if(a==="horizontal"){var A=si(0,_.height),x=A(v);return nt(nt({},_),{},{y:_.y+_.height-x,height:x})}var C=si(0,_.width),M=C(v);return nt(nt({},_),{},{width:M})});return R.createElement(xe,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!dp(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ne(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=wfe(u,Sfe);if(!f)return null;var m=nt(nt(nt(nt(nt({},h),{},{fill:"#eee"},f),l),Ro(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return R.createElement(E1,Jd({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Ln(c,mp);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(_,g){var b=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:b,errorVal:kt(_,g)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(xe,v,f.map(function(y){return R.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,g=ce("recharts-bar",a),b=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=b||S,w=fe(y)?this.id:y;return R.createElement(xe,{className:g},b||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(w)},R.createElement("rect",{x:b?u:u-f/2,y:S?c:c-h/2,width:b?f:f*2,height:S?h:h*2}))):null,R.createElement(xe,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,w),(!m||_)&&Pi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(B.PureComponent);hD=qo;_i(qo,"displayName","Bar");_i(qo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_i(qo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,m=aoe(r,n);if(!m)return null;var v=e.layout,y=n.type.defaultProps,_=y!==void 0?nt(nt({},y),n.props):n.props,g=_.dataKey,b=_.children,S=_.minPointSize,T=v==="horizontal"?a:o,w=u?T.scale.domain():null,E=hoe({numericAxis:T}),A=Ln(b,np),x=f.map(function(C,M){var P,N,D,U,L,I;u?P=soe(u[c+M],w):(P=kt(C,g),Array.isArray(P)||(P=[E,P]));var k=_fe(S,hD.defaultProps.minPointSize)(P[1],M);if(v==="horizontal"){var j,G=[a.scale(P[0]),a.scale(P[1])],V=G[0],X=G[1];N=yx({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:C,index:M}),D=(j=X??V)!==null&&j!==void 0?j:void 0,U=m.size;var F=V-X;if(L=Number.isNaN(F)?0:F,I={x:N,y:a.y,width:U,height:a.height},Math.abs(k)>0&&Math.abs(L)<Math.abs(k)){var Q=zt(L||k)*(Math.abs(k)-Math.abs(L));D-=Q,L+=Q}}else{var ve=[o.scale(P[0]),o.scale(P[1])],Le=ve[0],on=ve[1];if(N=Le,D=yx({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:C,index:M}),U=on-Le,L=m.size,I={x:o.x,y:D,width:o.width,height:L},Math.abs(k)>0&&Math.abs(U)<Math.abs(k)){var Hi=zt(U||k)*(Math.abs(k)-Math.abs(U));U+=Hi}}return nt(nt(nt({},C),{},{x:N,y:D,width:U,height:L,value:u?P:P[1],payload:C,background:I},A&&A[M]&&A[M].props),{},{tooltipPayload:[UN(n,C)],tooltipPosition:{x:N+U/2,y:D+L/2}})});return nt({data:x,layout:v},h)});function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function Pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vD(r.key),r)}}function Ife(t,e,n){return e&&C1(t.prototype,e),n&&C1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wp(t,e,n){return e=vD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vD(t){var e=Nfe(t,"string");return Gu(e)=="symbol"?e:e+""}function Nfe(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dfe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!un(u,qo);return c.reduce(function(m,v){var y=n[v],_=y.orientation,g=y.domain,b=y.padding,S=b===void 0?{}:b,T=y.mirror,w=y.reversed,E="".concat(_).concat(T?"Mirror":""),A,x,C,M,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var N=g[1]-g[0],D=1/0,U=y.categoricalDomain.sort(V8);if(U.forEach(function(ve,Le){Le>0&&(D=Math.min((ve||0)-(U[Le-1]||0),D))}),Number.isFinite(D)){var L=D/N,I=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=L*I/2),y.padding==="no-gap"){var k=Gt(e.barCategoryGap,L*I),j=L*I/2;A=j-k-(j-k)/I*k}}}i==="xAxis"?x=[r.left+(S.left||0)+(A||0),r.left+r.width-(S.right||0)-(A||0)]:i==="yAxis"?x=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(A||0),r.top+r.height-(S.bottom||0)-(A||0)]:x=y.range,w&&(x=[x[1],x[0]]);var G=NN(y,o,h),V=G.scale,X=G.realScaleType;V.domain(g).range(x),DN(V);var F=kN(V,Xn(Xn({},y),{},{realScaleType:X}));i==="xAxis"?(P=_==="top"&&!T||_==="bottom"&&T,C=r.left,M=f[E]-P*y.height):i==="yAxis"&&(P=_==="left"&&!T||_==="right"&&T,C=f[E]-P*y.width,M=r.top);var Q=Xn(Xn(Xn({},y),F),{},{realScaleType:X,x:C,y:M,scale:V,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return Q.bandSize=Nd(Q,F),!y.hide&&i==="xAxis"?f[E]+=(P?-1:1)*Q.height:y.hide||(f[E]+=(P?-1:1)*Q.width),Xn(Xn({},m),{},wp({},v,Q))},{})},gD=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},kfe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return gD({x:n,y:r},{x:i,y:o})},yD=function(){function t(e){Pfe(this,t),this.scale=e}return Ife(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();wp(yD,"EPS",1e-4);var c_=function(e){var n=Object.keys(e).reduce(function(r,i){return Xn(Xn({},r),{},wp({},i,yD.create(e[i])))},{});return Xn(Xn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return efe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return dD(i,function(o,a){return n[a].isInRange(o)})}})};function $fe(t){return(t%180+180)%180}var Ufe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=$fe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Lfe=vr,Bfe=lc,jfe=Zh;function zfe(t){return function(e,n,r){var i=Object(e);if(!Bfe(e)){var o=Lfe(n);e=jfe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Gfe=zfe,Hfe=lD;function qfe(t){var e=Hfe(t),n=e%1;return e===e?n?e-n:e:0}var Vfe=qfe,Ffe=hI,Kfe=vr,Yfe=Vfe,Jfe=Math.max;function Wfe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Yfe(n);return i<0&&(i=Jfe(r+i,0)),Ffe(t,Kfe(e),i)}var Xfe=Wfe,Qfe=Gfe,Zfe=Xfe,ede=Qfe(Zfe),tde=ede;const nde=Te(tde);var rde=YF(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),f_=B.createContext(void 0),d_=B.createContext(void 0),bD=B.createContext(void 0),_D=B.createContext({}),SD=B.createContext(void 0),wD=B.createContext(0),TD=B.createContext(0),R1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=rde(o);return R.createElement(f_.Provider,{value:r},R.createElement(d_.Provider,{value:i},R.createElement(_D.Provider,{value:o},R.createElement(bD.Provider,{value:c},R.createElement(SD.Provider,{value:a},R.createElement(wD.Provider,{value:u},R.createElement(TD.Provider,{value:l},s)))))))},ide=function(){return B.useContext(SD)},ED=function(e){var n=B.useContext(f_);n==null&&Io();var r=n[e];return r==null&&Io(),r},ode=function(){var e=B.useContext(f_);return pi(e)},ade=function(){var e=B.useContext(d_),n=nde(e,function(r){return dD(r.domain,Number.isFinite)});return n||pi(e)},AD=function(e){var n=B.useContext(d_);n==null&&Io();var r=n[e];return r==null&&Io(),r},sde=function(){var e=B.useContext(bD);return e},lde=function(){return B.useContext(_D)},h_=function(){return B.useContext(TD)},p_=function(){return B.useContext(wD)};function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(t)}function ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CD(r.key),r)}}function fde(t,e,n){return e&&cde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dde(t,e,n){return e=Xd(e),hde(t,xD()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function hde(t,e){if(e&&(gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pde(t)}function pde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function mde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dy(t,e)}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_(t,e,n){return e=CD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CD(t){var e=vde(t,"string");return gs(e)=="symbol"?e:e+""}function vde(t,e){if(gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gde(t,e){return Sde(t)||_de(t,e)||bde(t,e)||yde()}function yde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bde(t,e){if(t){if(typeof t=="string")return I1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I1(t,e)}}function I1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _de(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Sde(t){if(Array.isArray(t))return t}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(this,arguments)}var wde=function(e,n){var r;return R.isValidElement(e)?r=R.cloneElement(e,n):ie(e)?r=e(n):r=R.createElement("line",ky({},n,{className:"recharts-reference-line-line"})),r},Tde=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,m=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(fr(u,"discard")&&!e.y.isInRange(y))return null;var _=[{x:c+h,y},{x:c,y}];return l==="left"?_.reverse():_}if(n){var g=u.x,b=e.x.apply(g,{position:a});if(fr(u,"discard")&&!e.x.isInRange(b))return null;var S=[{x:b,y:f+m},{x:b,y:f}];return s==="top"?S.reverse():S}if(i){var T=u.segment,w=T.map(function(E){return e.apply(E,{position:a})});return fr(u,"discard")&&Fce(w,function(E){return!e.isInRange(E)})?null:w}return null};function Ede(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=ide(),c=ED(i),f=AD(o),h=sde();if(!u||!h)return null;tr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=c_({x:c.scale,y:f.scale}),v=mt(e),y=mt(n),_=r&&r.length===2,g=Tde(m,v,y,_,h,t.position,c.orientation,f.orientation,t);if(!g)return null;var b=gde(g,2),S=b[0],T=S.x,w=S.y,E=b[1],A=E.x,x=E.y,C=fr(t,"hidden")?"url(#".concat(u,")"):void 0,M=P1(P1({clipPath:C},ne(t,!0)),{},{x1:T,y1:w,x2:A,y2:x});return R.createElement(xe,{className:ce("recharts-reference-line",s)},wde(a,M),St.renderCallByParent(t,kfe({x1:T,y1:w,x2:A,y2:x})))}var v_=function(t){function e(){return ude(this,e),dde(this,e,arguments)}return mde(e,t),fde(e,[{key:"render",value:function(){return R.createElement(Ede,this.props)}}])}(R.Component);m_(v_,"displayName","ReferenceLine");m_(v_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function N1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(n),!0).forEach(function(r){Tp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RD(r.key),r)}}function Cde(t,e,n){return e&&xde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ode(t,e,n){return e=Qd(e),Rde(t,OD()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function Rde(t,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mde(t)}function Mde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function Pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uy(t,e)}function Uy(t,e){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uy(t,e)}function Tp(t,e,n){return e=RD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RD(t){var e=Ide(t,"string");return ys(e)=="symbol"?e:e+""}function Ide(t,e){if(ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nde=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=c_({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return fr(e,"discard")&&!a.isInRange(s)?null:s},Ep=function(t){function e(){return Ade(this,e),Ode(this,e,arguments)}return Pde(e,t),Cde(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=mt(i),c=mt(o);if(tr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Nde(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,y=v.shape,_=v.className,g=fr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=D1(D1({clipPath:g},ne(this.props,!0)),{},{cx:h,cy:m});return R.createElement(xe,{className:ce("recharts-reference-dot",_)},e.renderDot(y,b),St.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(R.Component);Tp(Ep,"displayName","ReferenceDot");Tp(Ep,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tp(Ep,"renderDot",function(t,e){var n;return R.isValidElement(t)?n=R.cloneElement(t,e):ie(t)?n=t(e):n=R.createElement(u_,$y({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(this,arguments)}function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){Ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PD(r.key),r)}}function $de(t,e,n){return e&&kde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ude(t,e,n){return e=Zd(e),Lde(t,MD()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function Lde(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bde(t)}function Bde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MD=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},By(t,e)}function Ap(t,e,n){return e=PD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PD(t){var e=zde(t,"string");return bs(e)=="symbol"?e:e+""}function zde(t,e){if(bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gde=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=c_({x:c.scale,y:f.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return fr(o,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:gD(m,v)},xp=function(t){function e(){return Dde(this,e),Ude(this,e,arguments)}return jde(e,t),$de(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;tr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=mt(i),h=mt(o),m=mt(a),v=mt(s),y=this.props.shape;if(!f&&!h&&!m&&!v&&!y)return null;var _=Gde(f,h,m,v,this.props);if(!_&&!y)return null;var g=fr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return R.createElement(xe,{className:ce("recharts-reference-area",l)},e.renderRect(y,$1($1({clipPath:g},ne(this.props,!0)),_)),St.renderCallByParent(this.props,_))}}])}(R.Component);Ap(xp,"displayName","ReferenceArea");Ap(xp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ap(xp,"renderRect",function(t,e){var n;return R.isValidElement(t)?n=R.cloneElement(t,e):ie(t)?n=t(e):n=R.createElement(l_,Ly({},e,{className:"recharts-reference-area-rect"})),n});function ID(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Hde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ufe(r,n)}function qde(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function eh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Vde(t,e){return ID(t,e+1)}function Fde(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:ID(r,u)};var y=l,_,g=function(){return _===void 0&&(_=n(v,y)),_},b=v.coordinate,S=l===0||eh(t,b,g,c,s);S||(l=0,c=a,u+=1),S&&(c=b+t*(g()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function U1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return e=Yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yde(t){var e=Jde(t,"string");return Hu(e)=="symbol"?e:e+""}function Jde(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wde(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var m=o[h],v,y=function(){return v===void 0&&(v=n(m,h)),v};if(h===a-1){var _=t*(m.coordinate+t*y()/2-l);o[h]=m=Nt(Nt({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate})}else o[h]=m=Nt(Nt({},m),{},{tickCoord:m.coordinate});var g=eh(t,m.tickCoord,y,s,l);g&&(l=m.tickCoord-t*(y()/2+i),o[h]=Nt(Nt({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Xde(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=Nt(Nt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var m=eh(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),a[s-1]=Nt(Nt({},c),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(b){var S=a[b],T,w=function(){return T===void 0&&(T=n(S,b)),T};if(b===0){var E=t*(S.coordinate-t*w()/2-l);a[b]=S=Nt(Nt({},S),{},{tickCoord:E<0?S.coordinate-E*t:S.coordinate})}else a[b]=S=Nt(Nt({},S),{},{tickCoord:S.coordinate});var A=eh(t,S.tickCoord,w,l,u);A&&(l=S.tickCoord+t*(w()/2+i),a[b]=Nt(Nt({},S),{},{isShow:!0}))},_=0;_<v;_++)y(_);return a}function g_(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(q(l)||qs.isSsr)return Vde(i,typeof l=="number"&&q(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",v=c&&m==="width"?Bl(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(S,T){var w=ie(u)?u(S.value,T):S.value;return m==="width"?Hde(Bl(w,{fontSize:e,letterSpacing:n}),v,f):Bl(w,{fontSize:e,letterSpacing:n})[m]},_=i.length>=2?zt(i[1].coordinate-i[0].coordinate):1,g=qde(o,_,m);return l==="equidistantPreserveStart"?Fde(_,g,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Xde(_,g,y,i,a,l==="preserveStartEnd"):h=Wde(_,g,y,i,a),h.filter(function(b){return b.isShow}))}var Qde=["viewBox"],Zde=["viewBox"],ehe=["ticks"];function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oa.apply(this,arguments)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xm(t,e){if(t==null)return{};var n=the(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function the(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DD(r.key),r)}}function rhe(t,e,n){return e&&B1(t.prototype,e),n&&B1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ihe(t,e,n){return e=th(e),ohe(t,ND()?Reflect.construct(e,n||[],th(t).constructor):e.apply(t,n))}function ohe(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ahe(t)}function ahe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ND(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(t)}function she(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jy(t,e)}function y_(t,e,n){return e=DD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t){var e=lhe(t,"string");return _s(e)=="symbol"?e:e+""}function lhe(t,e){if(_s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ys=function(t){function e(n){var r;return nhe(this,e),r=ihe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return she(e,t),rhe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Xm(r,Qde),s=this.props,l=s.viewBox,u=Xm(s,Zde);return!ja(o,l)||!ja(a,u)||!ja(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,y,_,g,b,S=f?-1:1,T=r.tickSize||c,w=q(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,_=a+ +!f*l,y=_-S*T,b=y-S*h,g=w;break;case"left":y=_=r.coordinate,v=o+ +!f*s,m=v-S*T,g=m-S*h,b=w;break;case"right":y=_=r.coordinate,v=o+ +f*s,m=v+S*T,g=m+S*h,b=w;break;default:m=v=r.coordinate,_=a+ +f*l,y=_+S*T,b=y+S*h,g=w;break}return{line:{x1:m,y1:y,x2:v,y2:_},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=ft(ft(ft({},ne(this.props,!1)),ne(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=ft(ft({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=ft(ft({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return R.createElement("line",Oa({},f,{className:ce("recharts-cartesian-axis-line",_n(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,m=g_(ft(ft({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),_=ne(this.props,!1),g=ne(c,!1),b=ft(ft({},_),{},{fill:"none"},ne(l,!1)),S=m.map(function(T,w){var E=a.getTickLineCoord(T),A=E.line,x=E.tick,C=ft(ft(ft(ft({textAnchor:v,verticalAnchor:y},_),{},{stroke:"none",fill:u},g),x),{},{index:w,payload:T,visibleTicksCount:m.length,tickFormatter:f});return R.createElement(xe,Oa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Ro(a.props,T,w)),l&&R.createElement("line",Oa({},b,A,{className:ce("recharts-cartesian-axis-tick-line",_n(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(ie(f)?f(T.value,w):T.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,m=Xm(f,ehe),v=h;return ie(l)&&(v=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!v||!v.length?null:R.createElement(xe,{className:ce("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),St.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=ce(i.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(r)?a=R.cloneElement(r,ft(ft({},i),{},{className:s})):ie(r)?a=r(ft(ft({},i),{},{className:s})):a=R.createElement(Mo,Oa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(B.Component);y_(Ys,"displayName","CartesianAxis");y_(Ys,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uhe=["x1","y1","x2","y2","key"],che=["offset"];function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fhe(t,e,n){return e=dhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dhe(t){var e=hhe(t,"string");return No(e)=="symbol"?e:e+""}function hhe(t,e){if(No(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(No(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mo(){return mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mo.apply(this,arguments)}function z1(t,e){if(t==null)return{};var n=phe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function phe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mhe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return R.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kD(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(ie(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=z1(e,uhe),u=ne(l,!1);u.offset;var c=z1(u,che);n=R.createElement("line",mo({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function vhe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Dt(Dt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return kD(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function ghe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Dt(Dt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return kD(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function yhe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==c[0]&&c.unshift(0);var f=c.map(function(h,m){var v=!c[m+1],y=v?i+a-h:c[m+1]-h;if(y<=0)return null;var _=m%e.length;return R.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:y,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function bhe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,m){return h-m});o!==c[0]&&c.unshift(0);var f=c.map(function(h,m){var v=!c[m+1],y=v?o+s-h:c[m+1]-h;if(y<=0)return null;var _=m%r.length;return R.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:y,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var _he=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return IN(g_(Dt(Dt(Dt({},Ys.defaultProps),r),{},{ticks:Ir(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},She=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return IN(g_(Dt(Dt(Dt({},Ys.defaultProps),r),{},{ticks:Ir(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},na={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $D(t){var e,n,r,i,o,a,s=h_(),l=p_(),u=lde(),c=Dt(Dt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:na.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:na.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:na.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:na.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:na.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:na.verticalFill,x:q(t.x)?t.x:u.left,y:q(t.y)?t.y:u.top,width:q(t.width)?t.width:u.width,height:q(t.height)?t.height:u.height}),f=c.x,h=c.y,m=c.width,v=c.height,y=c.syncWithTicks,_=c.horizontalValues,g=c.verticalValues,b=ode(),S=ade();if(!q(m)||m<=0||!q(v)||v<=0||!q(f)||f!==+f||!q(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||_he,w=c.horizontalCoordinatesGenerator||She,E=c.horizontalPoints,A=c.verticalPoints;if((!E||!E.length)&&ie(w)){var x=_&&_.length,C=w({yAxis:S?Dt(Dt({},S),{},{ticks:x?_:S.ticks}):void 0,width:s,height:l,offset:u},x?!0:y);tr(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(No(C),"]")),Array.isArray(C)&&(E=C)}if((!A||!A.length)&&ie(T)){var M=g&&g.length,P=T({xAxis:b?Dt(Dt({},b),{},{ticks:M?g:b.ticks}):void 0,width:s,height:l,offset:u},M?!0:y);tr(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(No(P),"]")),Array.isArray(P)&&(A=P)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(mhe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),R.createElement(vhe,mo({},c,{offset:u,horizontalPoints:E,xAxis:b,yAxis:S})),R.createElement(ghe,mo({},c,{offset:u,verticalPoints:A,xAxis:b,yAxis:S})),R.createElement(yhe,mo({},c,{horizontalPoints:E})),R.createElement(bhe,mo({},c,{verticalPoints:A})))}$D.displayName="CartesianGrid";function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function The(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BD(r.key),r)}}function Ehe(t,e,n){return e&&The(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ahe(t,e,n){return e=nh(e),xhe(t,UD()?Reflect.construct(e,n||[],nh(t).constructor):e.apply(t,n))}function xhe(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Che(t)}function Che(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!t})()}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nh(t)}function Ohe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zy(t,e)}function zy(t,e){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zy(t,e)}function LD(t,e,n){return e=BD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BD(t){var e=Rhe(t,"string");return Ss(e)=="symbol"?e:e+""}function Rhe(t,e){if(Ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function Mhe(t){var e=t.xAxisId,n=h_(),r=p_(),i=ED(e);return i==null?null:B.createElement(Ys,Gy({},i,{className:ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ir(a,!0)}}))}var Cp=function(t){function e(){return whe(this,e),Ahe(this,e,arguments)}return Ohe(e,t),Ehe(e,[{key:"render",value:function(){return B.createElement(Mhe,this.props)}}])}(B.Component);LD(Cp,"displayName","XAxis");LD(Cp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function Phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ihe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GD(r.key),r)}}function Nhe(t,e,n){return e&&Ihe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dhe(t,e,n){return e=rh(e),khe(t,jD()?Reflect.construct(e,n||[],rh(t).constructor):e.apply(t,n))}function khe(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $he(t)}function $he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!t})()}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rh(t)}function Uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}function Hy(t,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hy(t,e)}function zD(t,e,n){return e=GD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GD(t){var e=Lhe(t,"string");return ws(e)=="symbol"?e:e+""}function Lhe(t,e){if(ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}var Bhe=function(e){var n=e.yAxisId,r=h_(),i=p_(),o=AD(n);return o==null?null:B.createElement(Ys,qy({},o,{className:ce("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ir(s,!0)}}))},Op=function(t){function e(){return Phe(this,e),Dhe(this,e,arguments)}return Uhe(e,t),Nhe(e,[{key:"render",value:function(){return B.createElement(Bhe,this.props)}}])}(B.Component);zD(Op,"displayName","YAxis");zD(Op,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function G1(t){return Hhe(t)||Ghe(t)||zhe(t)||jhe()}function jhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function Ghe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hhe(t){if(Array.isArray(t))return Vy(t)}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fy=function(e,n,r,i,o){var a=Ln(e,v_),s=Ln(e,Ep),l=[].concat(G1(a),G1(s)),u=Ln(e,xp),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,_){if(_.props[c]===r&&fr(_.props,"extendDomain")&&q(_.props[f])){var g=_.props[f];return[Math.min(y[0],g),Math.max(y[1],g)]}return y},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,_){if(_.props[c]===r&&fr(_.props,"extendDomain")&&q(_.props[m])&&q(_.props[v])){var g=_.props[m],b=_.props[v];return[Math.min(y[0],g,b),Math.max(y[1],g,b)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,_){return q(_)?[Math.min(y[0],_),Math.max(y[1],_)]:y},h)),h},HD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,m,v){var y=n?n+u:u;if(!this._events[y])return!1;var _=this._events[y],g=arguments.length,b,S;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),g){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,h),!0;case 5:return _.fn.call(_.context,c,f,h,m),!0;case 6:return _.fn.call(_.context,c,f,h,m,v),!0}for(S=1,b=new Array(g-1);S<g;S++)b[S-1]=arguments[S];_.fn.apply(_.context,b)}else{var T=_.length,w;for(S=0;S<T;S++)switch(_[S].once&&this.removeListener(u,_[S].fn,void 0,!0),g){case 1:_[S].fn.call(_[S].context);break;case 2:_[S].fn.call(_[S].context,c);break;case 3:_[S].fn.call(_[S].context,c,f);break;case 4:_[S].fn.call(_[S].context,c,f,h);break;default:if(!b)for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];_[S].fn.apply(_[S].context,b)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&a(this,m);else{for(var y=0,_=[],g=v.length;y<g;y++)(v[y].fn!==c||h&&!v[y].once||f&&v[y].context!==f)&&_.push(v[y]);_.length?this._events[m]=_.length===1?_[0]:_:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(HD);var qhe=HD.exports;const Vhe=Te(qhe);var Qm=new Vhe,Zm="recharts.syncMouseEvents";function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function Fhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Khe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qD(r.key),r)}}function Yhe(t,e,n){return e&&Khe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ev(t,e,n){return e=qD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qD(t){var e=Jhe(t,"string");return qu(e)=="symbol"?e:e+""}function Jhe(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Whe=function(){function t(){Fhe(this,t),ev(this,"activeIndex",0),ev(this,"coordinateList",[]),ev(this,"layout","horizontal")}return Yhe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Xhe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&q(r)&&q(i))return!0}return!1}function Qhe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function VD(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ue(e,n,r,i),s=Ue(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Zhe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Ue(s,l,u,f),m=Ue(s,l,c,f);r=h.x,i=h.y,o=m.x,a=m.y}else return VD(e);return[{x:r,y:i},{x:o,y:a}]}function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e,n){return e=tpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t){var e=npe(t,"string");return Vu(e)=="symbol"?e:e+""}function npe(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rpe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=my;if(h==="ScatterChart")v=a,y=Dle;else if(h==="BarChart")v=Qhe(f,a,l,c),y=l_;else if(f==="radial"){var _=VD(a),g=_.cx,b=_.cy,S=_.radius,T=_.startAngle,w=_.endAngle;v={cx:g,cy:b,startAngle:T,endAngle:w,innerRadius:S,outerRadius:S},y=HN}else v={points:Zhe(f,a,l)},y=my;var E=Qc(Qc(Qc(Qc({stroke:"#ccc",pointerEvents:"none"},l),v),ne(m,!1)),{},{payload:s,payloadIndex:u,className:ce("recharts-tooltip-cursor",m.className)});return B.isValidElement(m)?B.cloneElement(m,E):B.createElement(y,E)}var ipe=["item"],ope=["children","className","width","height","style","compact","title","desc"];function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ra.apply(this,arguments)}function q1(t,e){return lpe(t)||spe(t,e)||KD(t,e)||ape()}function ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function spe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function lpe(t){if(Array.isArray(t))return t}function V1(t,e){if(t==null)return{};var n=upe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YD(r.key),r)}}function dpe(t,e,n){return e&&fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hpe(t,e,n){return e=ih(e),ppe(t,FD()?Reflect.construct(e,n||[],ih(t).constructor):e.apply(t,n))}function ppe(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mpe(t)}function mpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(t)}function vpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ky(t,e)}function Es(t){return bpe(t)||ype(t)||KD(t)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function ype(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bpe(t){if(Array.isArray(t))return Yy(t)}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z(t,e,n){return e=YD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YD(t){var e=_pe(t,"string");return Ts(e)=="symbol"?e:e+""}function _pe(t,e){if(Ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Spe={xAxis:["bottom","top"],yAxis:["left","right"]},wpe={width:"100%",height:"100%"},JD={x:0,y:0};function Zc(t){return t}var Tpe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Epe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return $($($({},i),Ue(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return $($($({},i),Ue(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return JD},Rp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Es(s),Es(u)):s},[]);return a.length>0?a:e&&e.length&&q(i)&&q(o)?e.slice(i,o+1):[]};function WD(t){return t==="number"?[0,"auto"]:void 0}var Jy=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Rp(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;h=Tg(m,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Es(l),[UN(u,h)]):l},[])},K1=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Tpe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=eoe(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=Jy(e,n,c,f),m=Epe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Ape=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,m=PN(c,o);return r.reduce(function(v,y){var _,g=y.type.defaultProps!==void 0?$($({},y.type.defaultProps),y.props):y.props,b=g.type,S=g.dataKey,T=g.allowDataOverflow,w=g.allowDuplicatedCategory,E=g.scale,A=g.ticks,x=g.includeHidden,C=g[a];if(v[C])return v;var M=Rp(e.data,{graphicalItems:i.filter(function(F){var Q,ve=a in F.props?F.props[a]:(Q=F.type.defaultProps)===null||Q===void 0?void 0:Q[a];return ve===C}),dataStartIndex:l,dataEndIndex:u}),P=M.length,N,D,U;Xhe(g.domain,T,b)&&(N=cy(g.domain,null,T),m&&(b==="number"||E!=="auto")&&(U=zl(M,S,"category")));var L=WD(b);if(!N||N.length===0){var I,k=(I=g.domain)!==null&&I!==void 0?I:L;if(S){if(N=zl(M,S,b),b==="category"&&m){var j=q8(N);w&&j?(D=N,N=Fd(0,P)):w||(N=Sx(k,N,y).reduce(function(F,Q){return F.indexOf(Q)>=0?F:[].concat(Es(F),[Q])},[]))}else if(b==="category")w?N=N.filter(function(F){return F!==""&&!fe(F)}):N=Sx(k,N,y).reduce(function(F,Q){return F.indexOf(Q)>=0||Q===""||fe(Q)?F:[].concat(Es(F),[Q])},[]);else if(b==="number"){var G=ooe(M,i.filter(function(F){var Q,ve,Le=a in F.props?F.props[a]:(Q=F.type.defaultProps)===null||Q===void 0?void 0:Q[a],on="hide"in F.props?F.props.hide:(ve=F.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return Le===C&&(x||!on)}),S,o,c);G&&(N=G)}m&&(b==="number"||E!=="auto")&&(U=zl(M,S,"category"))}else m?N=Fd(0,P):s&&s[C]&&s[C].hasStack&&b==="number"?N=h==="expand"?[0,1]:$N(s[C].stackGroups,l,u):N=MN(M,i.filter(function(F){var Q=a in F.props?F.props[a]:F.type.defaultProps[a],ve="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return Q===C&&(x||!ve)}),b,c,!0);if(b==="number")N=Fy(f,N,C,o,A),k&&(N=cy(k,N,T));else if(b==="category"&&k){var V=k,X=N.every(function(F){return V.indexOf(F)>=0});X&&(N=V)}}return $($({},v),{},Z({},C,$($({},g),{},{axisType:o,domain:N,categoricalDomain:U,duplicateDomain:D,originalDomain:(_=g.domain)!==null&&_!==void 0?_:L,isCategorical:m,layout:c})))},{})},xpe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Rp(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,v=PN(c,o),y=-1;return r.reduce(function(_,g){var b=g.type.defaultProps!==void 0?$($({},g.type.defaultProps),g.props):g.props,S=b[a],T=WD("number");if(!_[S]){y++;var w;return v?w=Fd(0,m):s&&s[S]&&s[S].hasStack?(w=$N(s[S].stackGroups,l,u),w=Fy(f,w,S,o)):(w=cy(T,MN(h,r.filter(function(E){var A,x,C=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],M="hide"in E.props?E.props.hide:(x=E.type.defaultProps)===null||x===void 0?void 0:x.hide;return C===S&&!M}),"number",c),i.defaultProps.allowDataOverflow),w=Fy(f,w,S,o)),$($({},_),{},Z({},S,$($({axisType:o},i.defaultProps),{},{hide:!0,orientation:_n(Spe,"".concat(o,".").concat(y%2),null),domain:w,originalDomain:T,isCategorical:v,layout:c})))}return _},{})},Cpe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Ln(c,o),m={};return h&&h.length?m=Ape(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=xpe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Ope=function(e){var n=pi(e),r=Ir(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:kb(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Nd(n,r)}},Y1=function(e){var n=e.children,r=e.defaultShowTooltip,i=un(n,ms),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Rpe=function(e){return!e||!e.length?!1:e.some(function(n){var r=$r(n&&n.type);return r&&r.indexOf("Bar")>=0})},J1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mpe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},m=un(f,ms),v=un(f,za),y=Object.keys(l).reduce(function(w,E){var A=l[E],x=A.orientation;return!A.mirror&&!A.hide?$($({},w),{},Z({},x,w[x]+A.width)):w},{left:h.left||0,right:h.right||0}),_=Object.keys(a).reduce(function(w,E){var A=a[E],x=A.orientation;return!A.mirror&&!A.hide?$($({},w),{},Z({},x,_n(w,"".concat(x))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),g=$($({},_),y),b=g.bottom;m&&(g.bottom+=m.props.height||ms.defaultProps.height),v&&n&&(g=roe(g,i,r,n));var S=u-g.left-g.right,T=c-g.top-g.bottom;return $($({brushBottom:b},g),{},{width:Math.max(S,0),height:Math.max(T,0)})},Ppe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},XD=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(g,b){var S=b.graphicalItems,T=b.stackGroups,w=b.offset,E=b.updateId,A=b.dataStartIndex,x=b.dataEndIndex,C=g.barSize,M=g.layout,P=g.barGap,N=g.barCategoryGap,D=g.maxBarSize,U=J1(M),L=U.numericAxisName,I=U.cateAxisName,k=Rpe(S),j=[];return S.forEach(function(G,V){var X=Rp(g.data,{graphicalItems:[G],dataStartIndex:A,dataEndIndex:x}),F=G.type.defaultProps!==void 0?$($({},G.type.defaultProps),G.props):G.props,Q=F.dataKey,ve=F.maxBarSize,Le=F["".concat(L,"Id")],on=F["".concat(I,"Id")],Hi={},Ft=l.reduce(function(qi,Vi){var Mp=b["".concat(Vi.axisType,"Map")],b_=F["".concat(Vi.axisType,"Id")];Mp&&Mp[b_]||Vi.axisType==="zAxis"||Io();var __=Mp[b_];return $($({},qi),{},Z(Z({},Vi.axisType,__),"".concat(Vi.axisType,"Ticks"),Ir(__)))},Hi),Y=Ft[I],le=Ft["".concat(I,"Ticks")],ue=T&&T[Le]&&T[Le].hasStack&&poe(G,T[Le].stackGroups),H=$r(G.type).indexOf("Bar")>=0,Je=Nd(Y,le),ge=[],ut=k&&toe({barSize:C,stackGroups:T,totalSize:Ppe(Ft,I)});if(H){var ct,Kt,ni=fe(ve)?D:ve,Vo=(ct=(Kt=Nd(Y,le,!0))!==null&&Kt!==void 0?Kt:ni)!==null&&ct!==void 0?ct:0;ge=noe({barGap:P,barCategoryGap:N,bandSize:Vo!==Je?Vo:Je,sizeList:ut[on],maxBarSize:ni}),Vo!==Je&&(ge=ge.map(function(qi){return $($({},qi),{},{position:$($({},qi.position),{},{offset:qi.position.offset-Vo/2})})}))}var hc=G&&G.type&&G.type.getComposedData;hc&&j.push({props:$($({},hc($($({},Ft),{},{displayedData:X,props:g,dataKey:Q,item:G,bandSize:Je,barPosition:ge,offset:w,stackedData:ue,layout:M,dataStartIndex:A,dataEndIndex:x}))),{},Z(Z(Z({key:G.key||"item-".concat(V)},L,Ft[L]),I,Ft[I]),"animationId",E)),childIndex:n5(G,g.children),item:G})}),j},m=function(g,b){var S=g.props,T=g.dataStartIndex,w=g.dataEndIndex,E=g.updateId;if(!pE({props:S}))return null;var A=S.children,x=S.layout,C=S.stackOffset,M=S.data,P=S.reverseStackOrder,N=J1(x),D=N.numericAxisName,U=N.cateAxisName,L=Ln(A,r),I=doe(M,L,"".concat(D,"Id"),"".concat(U,"Id"),C,P),k=l.reduce(function(F,Q){var ve="".concat(Q.axisType,"Map");return $($({},F),{},Z({},ve,Cpe(S,$($({},Q),{},{graphicalItems:L,stackGroups:Q.axisType===D&&I,dataStartIndex:T,dataEndIndex:w}))))},{}),j=Mpe($($({},k),{},{props:S,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(k).forEach(function(F){k[F]=c(S,k[F],j,F.replace("Map",""),n)});var G=k["".concat(U,"Map")],V=Ope(G),X=h(S,$($({},k),{},{dataStartIndex:T,dataEndIndex:w,updateId:E,graphicalItems:L,stackGroups:I,offset:j}));return $($({formattedGraphicalItems:X,graphicalItems:L,offset:j,stackGroups:I},V),k)},v=function(_){function g(b){var S,T,w;return cpe(this,g),w=hpe(this,g,[b]),Z(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Z(w,"accessibilityManager",new Whe),Z(w,"handleLegendBBoxUpdate",function(E){if(E){var A=w.state,x=A.dataStartIndex,C=A.dataEndIndex,M=A.updateId;w.setState($({legendBBox:E},m({props:w.props,dataStartIndex:x,dataEndIndex:C,updateId:M},$($({},w.state),{},{legendBBox:E}))))}}),Z(w,"handleReceiveSyncEvent",function(E,A,x){if(w.props.syncId===E){if(x===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(A)}}),Z(w,"handleBrushChange",function(E){var A=E.startIndex,x=E.endIndex;if(A!==w.state.dataStartIndex||x!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return $({dataStartIndex:A,dataEndIndex:x},m({props:w.props,dataStartIndex:A,dataEndIndex:x,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:A,dataEndIndex:x})}}),Z(w,"handleMouseEnter",function(E){var A=w.getMouseInfo(E);if(A){var x=$($({},A),{},{isTooltipActive:!0});w.setState(x),w.triggerSyncEvent(x);var C=w.props.onMouseEnter;ie(C)&&C(x,E)}}),Z(w,"triggeredAfterMouseMove",function(E){var A=w.getMouseInfo(E),x=A?$($({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(x),w.triggerSyncEvent(x);var C=w.props.onMouseMove;ie(C)&&C(x,E)}),Z(w,"handleItemMouseEnter",function(E){w.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Z(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Z(w,"handleMouseMove",function(E){E.persist(),w.throttleTriggeredAfterMouseMove(E)}),Z(w,"handleMouseLeave",function(E){w.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var x=w.props.onMouseLeave;ie(x)&&x(A,E)}),Z(w,"handleOuterEvent",function(E){var A=t5(E),x=_n(w.props,"".concat(A));if(A&&ie(x)){var C,M;/.*touch.*/i.test(A)?M=w.getMouseInfo(E.changedTouches[0]):M=w.getMouseInfo(E),x((C=M)!==null&&C!==void 0?C:{},E)}}),Z(w,"handleClick",function(E){var A=w.getMouseInfo(E);if(A){var x=$($({},A),{},{isTooltipActive:!0});w.setState(x),w.triggerSyncEvent(x);var C=w.props.onClick;ie(C)&&C(x,E)}}),Z(w,"handleMouseDown",function(E){var A=w.props.onMouseDown;if(ie(A)){var x=w.getMouseInfo(E);A(x,E)}}),Z(w,"handleMouseUp",function(E){var A=w.props.onMouseUp;if(ie(A)){var x=w.getMouseInfo(E);A(x,E)}}),Z(w,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Z(w,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseDown(E.changedTouches[0])}),Z(w,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseUp(E.changedTouches[0])}),Z(w,"handleDoubleClick",function(E){var A=w.props.onDoubleClick;if(ie(A)){var x=w.getMouseInfo(E);A(x,E)}}),Z(w,"handleContextMenu",function(E){var A=w.props.onContextMenu;if(ie(A)){var x=w.getMouseInfo(E);A(x,E)}}),Z(w,"triggerSyncEvent",function(E){w.props.syncId!==void 0&&Qm.emit(Zm,w.props.syncId,E,w.eventEmitterSymbol)}),Z(w,"applySyncEvent",function(E){var A=w.props,x=A.layout,C=A.syncMethod,M=w.state.updateId,P=E.dataStartIndex,N=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)w.setState($({dataStartIndex:P,dataEndIndex:N},m({props:w.props,dataStartIndex:P,dataEndIndex:N,updateId:M},w.state)));else if(E.activeTooltipIndex!==void 0){var D=E.chartX,U=E.chartY,L=E.activeTooltipIndex,I=w.state,k=I.offset,j=I.tooltipTicks;if(!k)return;if(typeof C=="function")L=C(j,E);else if(C==="value"){L=-1;for(var G=0;G<j.length;G++)if(j[G].value===E.activeLabel){L=G;break}}var V=$($({},k),{},{x:k.left,y:k.top}),X=Math.min(D,V.x+V.width),F=Math.min(U,V.y+V.height),Q=j[L]&&j[L].value,ve=Jy(w.state,w.props.data,L),Le=j[L]?{x:x==="horizontal"?j[L].coordinate:X,y:x==="horizontal"?F:j[L].coordinate}:JD;w.setState($($({},E),{},{activeLabel:Q,activeCoordinate:Le,activePayload:ve,activeTooltipIndex:L}))}else w.setState(E)}),Z(w,"renderCursor",function(E){var A,x=w.state,C=x.isTooltipActive,M=x.activeCoordinate,P=x.activePayload,N=x.offset,D=x.activeTooltipIndex,U=x.tooltipAxisBandSize,L=w.getTooltipEventType(),I=(A=E.props.active)!==null&&A!==void 0?A:C,k=w.props.layout,j=E.key||"_recharts-cursor";return R.createElement(rpe,{key:j,activeCoordinate:M,activePayload:P,activeTooltipIndex:D,chartName:n,element:E,isActive:I,layout:k,offset:N,tooltipAxisBandSize:U,tooltipEventType:L})}),Z(w,"renderPolarAxis",function(E,A,x){var C=_n(E,"type.axisType"),M=_n(w.state,"".concat(C,"Map")),P=E.type.defaultProps,N=P!==void 0?$($({},P),E.props):E.props,D=M&&M[N["".concat(C,"Id")]];return B.cloneElement(E,$($({},D),{},{className:ce(C,D.className),key:E.key||"".concat(A,"-").concat(x),ticks:Ir(D,!0)}))}),Z(w,"renderPolarGrid",function(E){var A=E.props,x=A.radialLines,C=A.polarAngles,M=A.polarRadius,P=w.state,N=P.radiusAxisMap,D=P.angleAxisMap,U=pi(N),L=pi(D),I=L.cx,k=L.cy,j=L.innerRadius,G=L.outerRadius;return B.cloneElement(E,{polarAngles:Array.isArray(C)?C:Ir(L,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(M)?M:Ir(U,!0).map(function(V){return V.coordinate}),cx:I,cy:k,innerRadius:j,outerRadius:G,key:E.key||"polar-grid",radialLines:x})}),Z(w,"renderLegend",function(){var E=w.state.formattedGraphicalItems,A=w.props,x=A.children,C=A.width,M=A.height,P=w.props.margin||{},N=C-(P.left||0)-(P.right||0),D=ON({children:x,formattedGraphicalItems:E,legendWidth:N,legendContent:u});if(!D)return null;var U=D.item,L=V1(D,ipe);return B.cloneElement(U,$($({},L),{},{chartWidth:C,chartHeight:M,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Z(w,"renderTooltip",function(){var E,A=w.props,x=A.children,C=A.accessibilityLayer,M=un(x,Wn);if(!M)return null;var P=w.state,N=P.isTooltipActive,D=P.activeCoordinate,U=P.activePayload,L=P.activeLabel,I=P.offset,k=(E=M.props.active)!==null&&E!==void 0?E:N;return B.cloneElement(M,{viewBox:$($({},I),{},{x:I.left,y:I.top}),active:k,label:L,payload:k?U:[],coordinate:D,accessibilityLayer:C})}),Z(w,"renderBrush",function(E){var A=w.props,x=A.margin,C=A.data,M=w.state,P=M.offset,N=M.dataStartIndex,D=M.dataEndIndex,U=M.updateId;return B.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Yc(w.handleBrushChange,E.props.onChange),data:C,x:q(E.props.x)?E.props.x:P.left,y:q(E.props.y)?E.props.y:P.top+P.height+P.brushBottom-(x.bottom||0),width:q(E.props.width)?E.props.width:P.width,startIndex:N,endIndex:D,updateId:"brush-".concat(U)})}),Z(w,"renderReferenceElement",function(E,A,x){if(!E)return null;var C=w,M=C.clipPathId,P=w.state,N=P.xAxisMap,D=P.yAxisMap,U=P.offset,L=E.type.defaultProps||{},I=E.props,k=I.xAxisId,j=k===void 0?L.xAxisId:k,G=I.yAxisId,V=G===void 0?L.yAxisId:G;return B.cloneElement(E,{key:E.key||"".concat(A,"-").concat(x),xAxis:N[j],yAxis:D[V],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:M})}),Z(w,"renderActivePoints",function(E){var A=E.item,x=E.activePoint,C=E.basePoint,M=E.childIndex,P=E.isRange,N=[],D=A.props.key,U=A.item.type.defaultProps!==void 0?$($({},A.item.type.defaultProps),A.item.props):A.item.props,L=U.activeDot,I=U.dataKey,k=$($({index:M,dataKey:I,cx:x.x,cy:x.y,r:4,fill:s_(A.item),strokeWidth:2,stroke:"#fff",payload:x.payload,value:x.value},ne(L,!1)),ad(L));return N.push(g.renderActiveDot(L,k,"".concat(D,"-activePoint-").concat(M))),C?N.push(g.renderActiveDot(L,$($({},k),{},{cx:C.x,cy:C.y}),"".concat(D,"-basePoint-").concat(M))):P&&N.push(null),N}),Z(w,"renderGraphicChild",function(E,A,x){var C=w.filterFormatItem(E,A,x);if(!C)return null;var M=w.getTooltipEventType(),P=w.state,N=P.isTooltipActive,D=P.tooltipAxis,U=P.activeTooltipIndex,L=P.activeLabel,I=w.props.children,k=un(I,Wn),j=C.props,G=j.points,V=j.isRange,X=j.baseLine,F=C.item.type.defaultProps!==void 0?$($({},C.item.type.defaultProps),C.item.props):C.item.props,Q=F.activeDot,ve=F.hide,Le=F.activeBar,on=F.activeShape,Hi=!!(!ve&&N&&k&&(Q||Le||on)),Ft={};M!=="axis"&&k&&k.props.trigger==="click"?Ft={onClick:Yc(w.handleItemMouseEnter,E.props.onClick)}:M!=="axis"&&(Ft={onMouseLeave:Yc(w.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Yc(w.handleItemMouseEnter,E.props.onMouseEnter)});var Y=B.cloneElement(E,$($({},C.props),Ft));function le(Vi){return typeof D.dataKey=="function"?D.dataKey(Vi.payload):null}if(Hi)if(U>=0){var ue,H;if(D.dataKey&&!D.allowDuplicatedCategory){var Je=typeof D.dataKey=="function"?le:"payload.".concat(D.dataKey.toString());ue=Tg(G,Je,L),H=V&&X&&Tg(X,Je,L)}else ue=G==null?void 0:G[U],H=V&&X&&X[U];if(on||Le){var ge=E.props.activeIndex!==void 0?E.props.activeIndex:U;return[B.cloneElement(E,$($($({},C.props),Ft),{},{activeIndex:ge})),null,null]}if(!fe(ue))return[Y].concat(Es(w.renderActivePoints({item:C,activePoint:ue,basePoint:H,childIndex:U,isRange:V})))}else{var ut,ct=(ut=w.getItemByXY(w.state.activeCoordinate))!==null&&ut!==void 0?ut:{graphicalItem:Y},Kt=ct.graphicalItem,ni=Kt.item,Vo=ni===void 0?E:ni,hc=Kt.childIndex,qi=$($($({},C.props),Ft),{},{activeIndex:hc});return[B.cloneElement(Vo,qi),null,null]}return V?[Y,null,null]:[Y,null]}),Z(w,"renderCustomized",function(E,A,x){return B.cloneElement(E,$($({key:"recharts-customized-".concat(x)},w.props),w.state))}),Z(w,"renderMap",{CartesianGrid:{handler:Zc,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Zc},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Zc},YAxis:{handler:Zc},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:sc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=CI(w.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),w.state={},w}return vpe(g,_),dpe(g,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,w=S.data,E=S.height,A=S.layout,x=un(T,Wn);if(x){var C=x.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=Jy(this.state,w,C,M),N=this.state.tooltipTicks[C].coordinate,D=(this.state.offset.top+E)/2,U=A==="horizontal",L=U?{x:N,y:D}:{y:N,x:D},I=this.state.formattedGraphicalItems.find(function(j){var G=j.item;return G.type.name==="Scatter"});I&&(L=$($({},L),I.props.points[C].tooltipPosition),P=I.props.points[C].tooltipPayload);var k={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:M,activePayload:P,activeCoordinate:L};this.setState(k),this.renderCursor(x),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var w,E;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(S){Ag([un(S.children,Wn)],[un(this.props.children,Wn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=un(this.props.children,Wn);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,w=T.getBoundingClientRect(),E=Oee(w),A={chartX:Math.round(S.pageX-E.left),chartY:Math.round(S.pageY-E.top)},x=w.width/T.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,x);if(!C)return null;var M=this.state,P=M.xAxisMap,N=M.yAxisMap,D=this.getTooltipEventType(),U=K1(this.state,this.props.data,this.props.layout,C);if(D!=="axis"&&P&&N){var L=pi(P).scale,I=pi(N).scale,k=L&&L.invert?L.invert(A.chartX):null,j=I&&I.invert?I.invert(A.chartY):null;return $($({},A),{},{xValue:k,yValue:j},U)}return U?$($({},A),U):null}},{key:"inRange",value:function(S,T){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=S/w,x=T/w;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,M=A>=C.left&&A<=C.left+C.width&&x>=C.top&&x<=C.top+C.height;return M?{x:A,y:x}:null}var P=this.state,N=P.angleAxisMap,D=P.radiusAxisMap;if(N&&D){var U=pi(N);return Ex({x:A,y:x},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),w=un(S,Wn),E={};w&&T==="axis"&&(w.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=ad(this.props,this.handleOuterEvent);return $($({},A),E)}},{key:"addListener",value:function(){Qm.on(Zm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qm.removeListener(Zm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,w){for(var E=this.state.formattedGraphicalItems,A=0,x=E.length;A<x;A++){var C=E[A];if(C.item===S||C.props.key===S.key||T===$r(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,w=T.left,E=T.top,A=T.height,x=T.width;return R.createElement("defs",null,R.createElement("clipPath",{id:S},R.createElement("rect",{x:w,y:E,height:A,width:x})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,w){var E=q1(w,2),A=E[0],x=E[1];return $($({},T),{},Z({},A,x.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,w){var E=q1(w,2),A=E[0],x=E[1];return $($({},T),{},Z({},A,x.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,w=T.formattedGraphicalItems,E=T.activeItem;if(w&&w.length)for(var A=0,x=w.length;A<x;A++){var C=w[A],M=C.props,P=C.item,N=P.type.defaultProps!==void 0?$($({},P.type.defaultProps),P.props):P.props,D=$r(P.type);if(D==="Bar"){var U=(M.data||[]).find(function(j){return ple(S,j)});if(U)return{graphicalItem:C,payload:U}}else if(D==="RadialBar"){var L=(M.data||[]).find(function(j){return Ex(S,j)});if(L)return{graphicalItem:C,payload:L}}else if(_p(C,E)||Sp(C,E)||Bu(C,E)){var I=nce({graphicalItem:C,activeTooltipItem:E,itemData:N.data}),k=N.activeIndex===void 0?I:N.activeIndex;return{graphicalItem:$($({},C),{},{childIndex:k}),payload:Bu(C,E)?N.data[I]:C.props.data[I]}}}return null}},{key:"render",value:function(){var S=this;if(!pE(this))return null;var T=this.props,w=T.children,E=T.className,A=T.width,x=T.height,C=T.style,M=T.compact,P=T.title,N=T.desc,D=V1(T,ope),U=ne(D,!1);if(M)return R.createElement(R1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(Cg,Ra({},U,{width:A,height:x,title:P,desc:N}),this.renderClipPath(),vE(w,this.renderMap)));if(this.props.accessibilityLayer){var L,I;U.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,U.role=(I=this.props.role)!==null&&I!==void 0?I:"application",U.onKeyDown=function(j){S.accessibilityManager.keyboardEvent(j)},U.onFocus=function(){S.accessibilityManager.focus()}}var k=this.parseEventsOfWrapper();return R.createElement(R1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Ra({className:ce("recharts-wrapper",E),style:$({position:"relative",cursor:"default",width:A,height:x},C)},k,{ref:function(G){S.container=G}}),R.createElement(Cg,Ra({},U,{width:A,height:x,title:P,desc:N,style:wpe}),this.renderClipPath(),vE(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);Z(v,"displayName",n),Z(v,"defaultProps",$({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Z(v,"getDerivedStateFromProps",function(_,g){var b=_.dataKey,S=_.data,T=_.children,w=_.width,E=_.height,A=_.layout,x=_.stackOffset,C=_.margin,M=g.dataStartIndex,P=g.dataEndIndex;if(g.updateId===void 0){var N=Y1(_);return $($($({},N),{},{updateId:0},m($($({props:_},N),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:S,prevWidth:w,prevHeight:E,prevLayout:A,prevStackOffset:x,prevMargin:C,prevChildren:T})}if(b!==g.prevDataKey||S!==g.prevData||w!==g.prevWidth||E!==g.prevHeight||A!==g.prevLayout||x!==g.prevStackOffset||!ja(C,g.prevMargin)){var D=Y1(_),U={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},L=$($({},K1(g,S,A)),{},{updateId:g.updateId+1}),I=$($($({},D),U),L);return $($($({},I),m($({props:_},I),g)),{},{prevDataKey:b,prevData:S,prevWidth:w,prevHeight:E,prevLayout:A,prevStackOffset:x,prevMargin:C,prevChildren:T})}if(!Ag(T,g.prevChildren)){var k,j,G,V,X=un(T,ms),F=X&&(k=(j=X.props)===null||j===void 0?void 0:j.startIndex)!==null&&k!==void 0?k:M,Q=X&&(G=(V=X.props)===null||V===void 0?void 0:V.endIndex)!==null&&G!==void 0?G:P,ve=F!==M||Q!==P,Le=!fe(S),on=Le&&!ve?g.updateId:g.updateId+1;return $($({updateId:on},m($($({props:_},g),{},{updateId:on,dataStartIndex:F,dataEndIndex:Q}),g)),{},{prevChildren:T,dataStartIndex:F,dataEndIndex:Q})}return null}),Z(v,"renderActiveDot",function(_,g,b){var S;return B.isValidElement(_)?S=B.cloneElement(_,g):ie(_)?S=_(g):S=R.createElement(u_,g),R.createElement(xe,{className:"recharts-active-dot",key:b},S)});var y=B.forwardRef(function(g,b){return R.createElement(v,Ra({},g,{ref:b}))});return y.displayName=v.displayName,y},Ipe=XD({chartName:"BarChart",GraphicalChild:qo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Cp},{axisType:"yAxis",AxisComp:Op}],formatAxisMap:Dfe}),Npe=XD({chartName:"PieChart",GraphicalChild:ti,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bp},{axisType:"radiusAxis",AxisComp:gp}],formatAxisMap:Eoe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const ef=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#ec4899"],Dpe=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],kpe=({invoices:t})=>{const[e,n]=B.useState("all"),[r,i]=B.useState("all"),[o,a]=B.useState("all"),s=B.useMemo(()=>Array.from(new Set(t.map(g=>g.vendor))).sort(),[t]),l=B.useMemo(()=>Array.from(new Set(t.map(g=>new Date(g.date).getFullYear().toString()))).sort((g,b)=>b.localeCompare(g)),[t]),u=[{value:"1",label:"Gennaio"},{value:"2",label:"Febbraio"},{value:"3",label:"Marzo"},{value:"4",label:"Aprile"},{value:"5",label:"Maggio"},{value:"6",label:"Giugno"},{value:"7",label:"Luglio"},{value:"8",label:"Agosto"},{value:"9",label:"Settembre"},{value:"10",label:"Ottobre"},{value:"11",label:"Novembre"},{value:"12",label:"Dicembre"}],c=B.useMemo(()=>t.filter(g=>{const b=new Date(g.date),S=r==="all"||b.getFullYear().toString()===r,T=o==="all"||(b.getMonth()+1).toString()===o,w=e==="all"||g.vendor===e;return S&&T&&w}),[t,r,o,e]),f=B.useMemo(()=>{const g={};return c.forEach(b=>{const S=new Date(b.date),T=S.getFullYear(),w=S.getMonth(),E=`${Dpe[w]} ${T.toString().slice(-2)}`,A=`${T}-${String(w+1).padStart(2,"0")}`;g[E]||(g[E]={total:0,sortKey:A}),g[E].total+=b.amount}),Object.entries(g).map(([b,S])=>({name:b,total:S.total,sortKey:S.sortKey})).sort((b,S)=>b.sortKey.localeCompare(S.sortKey))},[c]),h=B.useMemo(()=>{const g={};return c.forEach(b=>{g[b.vendor]=(g[b.vendor]||0)+b.amount}),Object.entries(g).map(([b,S])=>({name:b,value:S})).sort((b,S)=>S.value-b.value).slice(0,5)},[c]),m=c.reduce((g,b)=>g+b.amount,0),v=c.length>0?m/c.length:0,y=new Set(c.map(g=>g.vendor)).size,_=()=>{const g=["ID","Data","Fornitore","Numero","Importo","Valuta"],b=c.map(A=>[A.id,A.date,`"${A.vendor.replace(/"/g,'""')}"`,A.invoiceNumber,A.amount,A.currency]),S="\uFEFF"+g.join(",")+`
`+b.map(A=>A.join(",")).join(`
`),T=new Blob([S],{type:"text/csv;charset=utf-8;"}),w=URL.createObjectURL(T),E=document.createElement("a");E.setAttribute("href",w),E.setAttribute("download",`report_fatture_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(E),E.click(),document.body.removeChild(E)};return t.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white rounded-3xl border border-slate-200 shadow-sm",children:[O.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-6",children:O.jsx(ZR,{className:"text-slate-300 w-10 h-10"})}),O.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Nessun dato disponibile"}),O.jsx("p",{className:"text-slate-500 max-w-sm text-center px-6",children:"Carica la tua prima fattura per sbloccare i report dettagliati e l'analisi dell'andamento spese."})]}):O.jsxs("div",{className:"space-y-8 pb-12 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[O.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Analisi Spese"}),O.jsxs("p",{className:"text-slate-500 mt-1",children:["Dati basati su ",c.length," documenti filtrati"]})]}),O.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition font-bold shadow-lg shadow-blue-500/20 active:scale-95",children:[O.jsx(oU,{size:18}),"Esporta CSV"]})]}),O.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm ring-1 ring-slate-100",children:[O.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-800 font-bold",children:[O.jsx(WS,{size:18,className:"text-blue-600"}),"Filtra i risultati"]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-5",children:[O.jsxs("div",{className:"space-y-1.5",children:[O.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[O.jsx(XS,{size:13})," Fornitore"]}),O.jsxs("select",{value:e,onChange:g=>n(g.target.value),className:"w-full h-11 px-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all appearance-none cursor-pointer",children:[O.jsx("option",{value:"all",children:"Tutti i fornitori"}),s.map(g=>O.jsx("option",{value:g,children:g},g))]})]}),O.jsxs("div",{className:"space-y-1.5",children:[O.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[O.jsx(JS,{size:13})," Anno"]}),O.jsxs("select",{value:r,onChange:g=>i(g.target.value),className:"w-full h-11 px-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all appearance-none cursor-pointer",children:[O.jsx("option",{value:"all",children:"Tutti gli anni"}),l.map(g=>O.jsx("option",{value:g,children:g},g))]})]}),O.jsxs("div",{className:"space-y-1.5",children:[O.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[O.jsx(JS,{size:13})," Mese"]}),O.jsxs("select",{value:o,onChange:g=>a(g.target.value),className:"w-full h-11 px-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all appearance-none cursor-pointer",children:[O.jsx("option",{value:"all",children:"Tutti i mesi"}),u.map(g=>O.jsx("option",{value:g.value,children:g.label},g.value))]})]}),O.jsx("div",{className:"flex items-end",children:O.jsxs("button",{onClick:()=>{n("all"),i("all"),a("all")},className:"h-11 px-4 text-slate-400 hover:text-blue-600 transition-colors text-sm font-bold flex items-center gap-2 group",children:[O.jsx(cU,{size:16,className:"group-hover:rotate-[-45deg] transition-transform"}),"Reset filtri"]})})]})]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[O.jsx(tv,{icon:O.jsx(pU,{className:"text-blue-600"}),label:"Totale Filtrato",value:`${m.toLocaleString("it-IT",{minimumFractionDigits:2})} `,color:"blue"}),O.jsx(tv,{icon:O.jsx(Jf,{className:"text-emerald-600"}),label:"Valore Medio",value:`${v.toLocaleString("it-IT",{minimumFractionDigits:2})} `,color:"emerald"}),O.jsx(tv,{icon:O.jsx(XS,{className:"text-amber-600"}),label:"Fornitori Attivi",value:y.toString(),color:"amber"})]}),c.length>0?O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[O.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[O.jsxs("div",{className:"flex items-center justify-between mb-8",children:[O.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:"Andamento Mensile"}),O.jsx("div",{className:"px-3 py-1 bg-blue-50 text-blue-700 text-[10px] font-black uppercase tracking-wider rounded-full",children:"Trend temporale"})]}),O.jsx("div",{className:"h-[350px] w-full",children:O.jsx(hA,{width:"100%",height:"100%",children:O.jsxs(Ipe,{data:f,margin:{top:10,right:10,left:0,bottom:20},children:[O.jsx($D,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),O.jsx(Cp,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12,fontWeight:600},dy:15}),O.jsx(Op,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:g=>`${g}`}),O.jsx(Wn,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"},formatter:g=>[`${g.toLocaleString("it-IT")} `,"Totale"]}),O.jsx(qo,{dataKey:"total",fill:"#3b82f6",radius:[6,6,0,0],barSize:40})]})})})]}),O.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[O.jsxs("div",{className:"flex items-center justify-between mb-8",children:[O.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:"Distribuzione Fornitori"}),O.jsx("div",{className:"px-3 py-1 bg-amber-50 text-amber-700 text-[10px] font-black uppercase tracking-wider rounded-full",children:"Concentrazione"})]}),O.jsx("div",{className:"h-[280px] w-full",children:O.jsx(hA,{width:"100%",height:"100%",children:O.jsxs(Npe,{children:[O.jsx(ti,{data:h,cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:8,dataKey:"value",children:h.map((g,b)=>O.jsx(np,{fill:ef[b%ef.length],strokeWidth:0},`cell-${b}`))}),O.jsx(Wn,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},formatter:g=>[`${g.toLocaleString("it-IT")} `,"Spesa"]})]})})}),O.jsx("div",{className:"space-y-2 mt-6",children:h.map((g,b)=>O.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-50 rounded-xl transition-colors",children:[O.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[O.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0 shadow-sm",style:{backgroundColor:ef[b%ef.length]}}),O.jsx("span",{className:"text-slate-700 font-semibold text-sm truncate",children:g.name})]}),O.jsxs("span",{className:"font-bold text-slate-900 text-sm tabular-nums shrink-0 ml-4",children:[g.value.toLocaleString("it-IT")," "]})]},g.name))})]})]}):O.jsxs("div",{className:"bg-white p-24 text-center rounded-3xl border border-slate-200 shadow-sm",children:[O.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6",children:O.jsx(WS,{className:"text-slate-300",size:32})}),O.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-2",children:"Nessun risultato trovato"}),O.jsx("p",{className:"text-slate-500 mb-6",children:"Prova a modificare i parametri di ricerca o azzera i filtri."}),O.jsx("button",{onClick:()=>{n("all"),i("all"),a("all")},className:"px-6 py-2 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition font-bold text-sm",children:"Azzera tutti i filtri"})]})]})},tv=({icon:t,label:e,value:n,color:r})=>{const i={blue:"from-blue-50 to-white text-blue-600",emerald:"from-emerald-50 to-white text-emerald-600",amber:"from-amber-50 to-white text-amber-600"};return O.jsxs("div",{className:`bg-gradient-to-b ${i[r]} p-7 rounded-3xl border border-slate-200 shadow-sm group hover:shadow-md transition-all duration-300`,children:[O.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[O.jsx("div",{className:"w-10 h-10 rounded-xl bg-white shadow-sm flex items-center justify-center border border-white/50 group-hover:scale-110 transition-transform",children:t}),O.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:e})]}),O.jsx("div",{className:"text-2xl font-black text-slate-900 tracking-tight",children:n})]})},$pe=({invoices:t,onViewAll:e,onInvoiceClick:n})=>{const r=[...t].sort((o,a)=>a.createdAt-o.createdAt).slice(0,5),i=t.filter(o=>{const a=new Date(o.date),s=new Date;return a.getMonth()===s.getMonth()&&a.getFullYear()===s.getFullYear()}).reduce((o,a)=>o+a.amount,0);return O.jsx("div",{className:"space-y-8 animate-in fade-in duration-500",children:O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[O.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[O.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl p-8 text-white shadow-lg relative overflow-hidden",children:[O.jsxs("div",{className:"relative z-10",children:[O.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Bentornato nel tuo Archivio Smart"}),O.jsx("p",{className:"text-blue-100 max-w-md",children:"Gestisci le tue fatture con l'aiuto dell'intelligenza artificiale. Carica, estrai e analizza i tuoi dati in pochi secondi."}),O.jsxs("div",{className:"mt-6 flex items-baseline gap-2",children:[O.jsxs("span",{className:"text-4xl font-bold",children:[i.toLocaleString("it-IT",{minimumFractionDigits:2})," "]}),O.jsx("span",{className:"text-sm text-blue-200",children:"spesi questo mese"})]})]}),O.jsx(QS,{className:"absolute right-[-20px] bottom-[-20px] w-64 h-64 text-white/5"})]}),O.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[O.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[O.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[O.jsx(iU,{size:20,className:"text-blue-600"}),"Caricamenti Recenti"]}),O.jsxs("button",{onClick:e,className:"text-blue-600 text-sm font-semibold hover:underline flex items-center gap-1",children:["Vedi tutto ",O.jsx(eU,{size:14})]})]}),O.jsx("div",{className:"divide-y divide-slate-100",children:r.length>0?r.map(o=>O.jsxs("div",{className:"p-4 hover:bg-slate-50 transition flex items-center justify-between cursor-pointer",onClick:()=>n(o),children:[O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600",children:O.jsx(Jf,{size:20})}),O.jsxs("div",{children:[O.jsx("div",{className:"font-semibold text-slate-800",children:o.vendor}),O.jsxs("div",{className:"text-xs text-slate-500",children:["N. ",o.invoiceNumber,"  ",new Date(o.date).toLocaleDateString()]})]})]}),O.jsx("div",{className:"text-right",children:O.jsxs("div",{className:"font-bold text-slate-900",children:[o.amount.toLocaleString("it-IT")," "]})})]},o.id)):O.jsx("div",{className:"p-8 text-center text-slate-500 italic",children:"Nessuna fattura recente."})})]})]}),O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 text-white",children:[O.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[O.jsx(hU,{className:"text-emerald-400"}),O.jsx("h4",{className:"font-bold",children:"Stato Archivio"})]}),O.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"I tuoi dati sono salvati localmente nel browser per massima privacy."}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"flex justify-between text-sm",children:[O.jsx("span",{className:"text-slate-400",children:"Capacit Utilizzata"}),O.jsx("span",{children:"Ottimale"})]}),O.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden",children:O.jsx("div",{className:"w-[15%] h-full bg-emerald-400"})})]})]}),O.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm",children:[O.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"Suggerimento AI"}),O.jsxs("div",{className:"flex gap-4",children:[O.jsx("div",{className:"shrink-0 w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center text-amber-600",children:O.jsx(QS,{size:20})}),O.jsx("p",{className:"text-sm text-slate-600",children:"Assicurati che i PDF siano orientati correttamente e che i testi siano chiari per una migliore estrazione dei dati."})]})]})]})]})})},Upe=()=>{const[t,e]=B.useState(Ut.DASHBOARD),[n,r]=B.useState([]),[i,o]=B.useState(null),[a,s]=B.useState(!1),[l,u]=B.useState(!0);B.useEffect(()=>{c()},[]);const c=async()=>{u(!0);try{const{data:m,error:v}=await Tm.from("invoices").select("*").order("date",{ascending:!1});if(v)throw v;m&&r(m)}catch(m){console.error("Errore nel caricamento delle fatture:",m)}finally{u(!1)}},f=async m=>{try{const{error:v}=await Tm.from("invoices").insert([m]);if(v)throw console.error("Errore Supabase:",v),new Error(v.message);r(y=>[m,...y]),s(!1)}catch(v){console.error("Errore nel salvataggio della fattura:",v),alert(`Errore durante il salvataggio nel database: ${v.message||"Controlla che la tabella invoices esista in Supabase."}`)}},h=async m=>{if(window.confirm("Sei sicuro di voler eliminare questa fattura definitivamente dal database?"))try{const{error:v}=await Tm.from("invoices").delete().eq("id",m);if(v)throw v;r(y=>y.filter(_=>_.id!==m)),(i==null?void 0:i.id)===m&&o(null)}catch(v){console.error("Errore nell'eliminazione della fattura:",v),alert(`Errore durante l'eliminazione: ${v.message}`)}};return O.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[O.jsxs("aside",{className:"w-64 bg-slate-900 text-white flex flex-col shrink-0",children:[O.jsxs("div",{className:"p-6",children:[O.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[O.jsx(Jf,{className:"text-blue-400"}),"InvoiceAI"]}),O.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Database Cloud Attivo"})]}),O.jsxs("nav",{className:"flex-1 px-4 space-y-2",children:[O.jsxs("button",{onClick:()=>e(Ut.DASHBOARD),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${t===Ut.DASHBOARD?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-800"}`,children:[O.jsx(lU,{size:20}),"Dashboard"]}),O.jsxs("button",{onClick:()=>e(Ut.INVOICES),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${t===Ut.INVOICES?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-800"}`,children:[O.jsx(Jf,{size:20}),"Fatture"]}),O.jsxs("button",{onClick:()=>e(Ut.REPORTS),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${t===Ut.REPORTS?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-800"}`,children:[O.jsx(ZR,{size:20}),"Report e Analisi"]})]}),O.jsx("div",{className:"p-4 border-t border-slate-800",children:O.jsxs("button",{onClick:()=>s(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg flex items-center justify-center gap-2 font-medium transition",children:[O.jsx(uU,{size:20}),"Nuova Fattura"]})})]}),O.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[O.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 shrink-0",children:[O.jsxs("h2",{className:"text-lg font-semibold text-slate-800",children:[t===Ut.DASHBOARD&&"Panoramica",t===Ut.INVOICES&&"Archivio Fatture",t===Ut.REPORTS&&"Reportistica"]}),O.jsxs("div",{className:"flex items-center gap-4",children:[l&&O.jsx(Wf,{className:"animate-spin text-blue-500",size:18}),O.jsxs("span",{className:"text-sm text-slate-500",children:[n.length," ",n.length===1?"fattura":"fatture"," nel cloud"]})]})]}),O.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:l&&n.length===0?O.jsx("div",{className:"flex items-center justify-center h-full",children:O.jsx(Wf,{className:"animate-spin text-blue-500 w-12 h-12"})}):O.jsxs(O.Fragment,{children:[t===Ut.DASHBOARD&&O.jsx($pe,{invoices:n,onViewAll:()=>e(Ut.INVOICES),onInvoiceClick:o}),t===Ut.INVOICES&&O.jsx(WB,{invoices:n,onView:o,onDelete:h}),t===Ut.REPORTS&&O.jsx(kpe,{invoices:n})]})})]}),a&&O.jsx(fV,{onClose:()=>s(!1),onSuccess:f}),i&&O.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-6xl h-[90vh] flex flex-col shadow-2xl",children:[O.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-lg text-slate-900",children:i.vendor}),O.jsxs("p",{className:"text-sm text-slate-500",children:["Fattura n. ",i.invoiceNumber,"  ",i.date]})]}),O.jsx("div",{className:"flex items-center gap-2",children:O.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-slate-100 rounded-full transition",children:O.jsx(tM,{size:24})})})]}),O.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[O.jsx("div",{className:"flex-1 bg-slate-100 overflow-auto p-4 flex justify-center",children:O.jsx("embed",{src:`data:application/pdf;base64,${i.pdfData}`,className:"w-full h-full min-h-[500px] border-0",type:"application/pdf"})}),O.jsxs("div",{className:"w-full lg:w-80 bg-white border-l border-slate-200 p-6 flex flex-col gap-6",children:[O.jsxs("div",{children:[O.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-4",children:"Dettagli"}),O.jsxs("div",{className:"space-y-4",children:[O.jsx(pl,{label:"Fornitore",value:i.vendor}),O.jsx(pl,{label:"N. Fattura",value:i.invoiceNumber}),O.jsx(pl,{label:"Data",value:i.date}),O.jsx(pl,{label:"Importo",value:`${i.amount.toLocaleString("it-IT",{minimumFractionDigits:2})} ${i.currency}`}),O.jsx(pl,{label:"File Originale",value:i.fileName})]})]}),O.jsx("div",{className:"mt-auto",children:O.jsxs("button",{onClick:()=>h(i.id),className:"w-full flex items-center justify-center gap-2 py-2 text-red-600 hover:bg-red-50 rounded-lg transition border border-red-200",children:[O.jsx(eM,{size:18}),"Elimina Fattura"]})})]})]})]})})]})},pl=({label:t,value:e})=>O.jsxs("div",{children:[O.jsx("span",{className:"text-xs text-slate-500 block",children:t}),O.jsx("span",{className:"font-medium text-slate-900 block break-words",children:e})]}),QD=document.getElementById("root");if(!QD)throw new Error("Could not find root element to mount to");const Lpe=W2.createRoot(QD);Lpe.render(O.jsx(R.StrictMode,{children:O.jsx(Upe,{})}));
